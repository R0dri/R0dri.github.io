/*! jQuery Migrate v3.3.2 | (c) OpenJS Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(s,n){"use strict";function e(e){return 0<=function(e,t){for(var r=/^(\d+)\.(\d+)\.(\d+)/,n=r.exec(e)||[],o=r.exec(t)||[],i=1;i<=3;i++){if(+o[i]<+n[i])return 1;if(+n[i]<+o[i])return-1}return 0}(s.fn.jquery,e)}s.migrateVersion="3.3.2",n.console&&n.console.log&&(s&&e("3.0.0")||n.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),s.migrateWarnings&&n.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),n.console.log("JQMIGRATE: Migrate is installed"+(s.migrateMute?"":" with logging active")+", version "+s.migrateVersion));var r={};function u(e){var t=n.console;s.migrateDeduplicateWarnings&&r[e]||(r[e]=!0,s.migrateWarnings.push(e),t&&t.warn&&!s.migrateMute&&(t.warn("JQMIGRATE: "+e),s.migrateTrace&&t.trace&&t.trace()))}function t(e,t,r,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return u(n),r},set:function(e){u(n),r=e}})}function o(e,t,r,n){e[t]=function(){return u(n),r.apply(this,arguments)}}s.migrateDeduplicateWarnings=!0,s.migrateWarnings=[],void 0===s.migrateTrace&&(s.migrateTrace=!0),s.migrateReset=function(){r={},s.migrateWarnings.length=0},"BackCompat"===n.document.compatMode&&u("jQuery is not compatible with Quirks Mode");var i,a,c,d={},l=s.fn.init,p=s.find,f=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,y=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;for(i in s.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(u("jQuery( '#' ) is not a valid selector"),t[0]=[]),l.apply(this,t)},s.fn.init.prototype=s.fn,s.find=function(t){var r=Array.prototype.slice.call(arguments);if("string"==typeof t&&f.test(t))try{n.document.querySelector(t)}catch(e){t=t.replace(y,function(e,t,r,n){return"["+t+r+'"'+n+'"]'});try{n.document.querySelector(t),u("Attribute selector with '#' must be quoted: "+r[0]),r[0]=t}catch(e){u("Attribute selector with '#' was not fixed: "+r[0])}}return p.apply(this,r)},p)Object.prototype.hasOwnProperty.call(p,i)&&(s.find[i]=p[i]);o(s.fn,"size",function(){return this.length},"jQuery.fn.size() is deprecated and removed; use the .length property"),o(s,"parseJSON",function(){return JSON.parse.apply(null,arguments)},"jQuery.parseJSON is deprecated; use JSON.parse"),o(s,"holdReady",s.holdReady,"jQuery.holdReady is deprecated"),o(s,"unique",s.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),t(s.expr,"filters",s.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),t(s.expr,":",s.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),e("3.1.1")&&o(s,"trim",function(e){return null==e?"":(e+"").replace(m,"")},"jQuery.trim is deprecated; use String.prototype.trim"),e("3.2.0")&&(o(s,"nodeName",function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"jQuery.nodeName is deprecated"),o(s,"isArray",Array.isArray,"jQuery.isArray is deprecated; use Array.isArray")),e("3.3.0")&&(o(s,"isNumeric",function(e){var t=typeof e;return("number"==t||"string"==t)&&!isNaN(e-parseFloat(e))},"jQuery.isNumeric() is deprecated"),s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()}),o(s,"type",function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[Object.prototype.toString.call(e)]||"object":typeof e},"jQuery.type is deprecated"),o(s,"isFunction",function(e){return"function"==typeof e},"jQuery.isFunction() is deprecated"),o(s,"isWindow",function(e){return null!=e&&e===e.window},"jQuery.isWindow() is deprecated")),s.ajax&&(a=s.ajax,c=/(=)\?(?=&|$)|\?\?/,s.ajax=function(){var e=a.apply(this,arguments);return e.promise&&(o(e,"success",e.done,"jQXHR.success is deprecated and removed"),o(e,"error",e.fail,"jQXHR.error is deprecated and removed"),o(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e},e("4.0.0")||s.ajaxPrefilter("+json",function(e){!1!==e.jsonp&&(c.test(e.url)||"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&c.test(e.data))&&u("JSON-to-JSONP auto-promotion is deprecated")}));var g=s.fn.removeAttr,h=s.fn.toggleClass,v=/\S+/g;function j(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}s.fn.removeAttr=function(e){var r=this;return s.each(e.match(v),function(e,t){s.expr.match.bool.test(t)&&(u("jQuery.fn.removeAttr no longer sets boolean properties: "+t),r.prop(t,!1))}),g.apply(this,arguments)};var Q,b=!(s.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?h.apply(this,arguments):(u("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var e=this.getAttribute&&this.getAttribute("class")||"";e&&s.data(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==t&&s.data(this,"__className__")||"")}))}),w=/^[a-z]/,x=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;s.swap&&s.each(["height","width","reliableMarginRight"],function(e,t){var r=s.cssHooks[t]&&s.cssHooks[t].get;r&&(s.cssHooks[t].get=function(){var e;return b=!0,e=r.apply(this,arguments),b=!1,e})}),s.swap=function(e,t,r,n){var o,i,a={};for(i in b||u("jQuery.swap() is undocumented and deprecated"),t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=r.apply(e,n||[]),t)e.style[i]=a[i];return o},e("3.4.0")&&"undefined"!=typeof Proxy&&(s.cssProps=new Proxy(s.cssProps||{},{set:function(){return u("JQMIGRATE: jQuery.cssProps is deprecated"),Reflect.set.apply(this,arguments)}})),s.cssNumber||(s.cssNumber={}),Q=s.fn.css,s.fn.css=function(e,t){var r,n,o=this;return e&&"object"==typeof e&&!Array.isArray(e)?(s.each(e,function(e,t){s.fn.css.call(o,e,t)}),this):("number"==typeof t&&(r=j(e),n=r,w.test(n)&&x.test(n[0].toUpperCase()+n.slice(1))||s.cssNumber[r]||u('Number-typed values are deprecated for jQuery.fn.css( "'+e+'", value )')),Q.apply(this,arguments))};var A,k,S,M,N=s.data;s.data=function(e,t,r){var n,o,i;if(t&&"object"==typeof t&&2===arguments.length){for(i in n=s.hasData(e)&&N.call(this,e),o={},t)i!==j(i)?(u("jQuery.data() always sets/gets camelCased names: "+i),n[i]=t[i]):o[i]=t[i];return N.call(this,e,o),t}return t&&"string"==typeof t&&t!==j(t)&&(n=s.hasData(e)&&N.call(this,e))&&t in n?(u("jQuery.data() always sets/gets camelCased names: "+t),2<arguments.length&&(n[t]=r),n[t]):N.apply(this,arguments)},s.fx&&(S=s.Tween.prototype.run,M=function(e){return e},s.Tween.prototype.run=function(){1<s.easing[this.easing].length&&(u("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),s.easing[this.easing]=M),S.apply(this,arguments)},A=s.fx.interval||13,k="jQuery.fx.interval is deprecated",n.requestAnimationFrame&&Object.defineProperty(s.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return n.document.hidden||u(k),A},set:function(e){u(k),A=e}}));var R=s.fn.load,H=s.event.add,C=s.event.fix;s.event.props=[],s.event.fixHooks={},t(s.event.props,"concat",s.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),s.event.fix=function(e){var t,r=e.type,n=this.fixHooks[r],o=s.event.props;if(o.length){u("jQuery.event.props are deprecated and removed: "+o.join());while(o.length)s.event.addProp(o.pop())}if(n&&!n._migrated_&&(n._migrated_=!0,u("jQuery.event.fixHooks are deprecated and removed: "+r),(o=n.props)&&o.length))while(o.length)s.event.addProp(o.pop());return t=C.call(this,e),n&&n.filter?n.filter(t,e):t},s.event.add=function(e,t){return e===n&&"load"===t&&"complete"===n.document.readyState&&u("jQuery(window).on('load'...) called after load event occurred"),H.apply(this,arguments)},s.each(["load","unload","error"],function(e,t){s.fn[t]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===t&&"string"==typeof e[0]?R.apply(this,e):(u("jQuery.fn."+t+"() is deprecated"),e.splice(0,0,t),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){s.fn[r]=function(e,t){return u("jQuery.fn."+r+"() event shorthand is deprecated"),0<arguments.length?this.on(r,null,e,t):this.trigger(r)}}),s(function(){s(n.document).triggerHandler("ready")}),s.event.special.ready={setup:function(){this===n.document&&u("'ready' event is deprecated")}},s.fn.extend({bind:function(e,t,r){return u("jQuery.fn.bind() is deprecated"),this.on(e,null,t,r)},unbind:function(e,t){return u("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,r,n){return u("jQuery.fn.delegate() is deprecated"),this.on(t,e,r,n)},undelegate:function(e,t,r){return u("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return u("jQuery.fn.hover() is deprecated"),this.on("mouseenter",e).on("mouseleave",t||e)}});function T(e){var t=n.document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body&&t.body.innerHTML}function P(e){var t=e.replace(O,"<$1></$2>");t!==e&&T(e)!==T(t)&&u("HTML tags must be properly nested and closed: "+e)}var O=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,q=s.htmlPrefilter;s.UNSAFE_restoreLegacyHtmlPrefilter=function(){s.htmlPrefilter=function(e){return P(e),e.replace(O,"<$1></$2>")}},s.htmlPrefilter=function(e){return P(e),q(e)};var D,_=s.fn.offset;s.fn.offset=function(){var e=this[0];return!e||e.nodeType&&e.getBoundingClientRect?_.apply(this,arguments):(u("jQuery.fn.offset() requires a valid DOM element"),arguments.length?this:void 0)},s.ajax&&(D=s.param,s.param=function(e,t){var r=s.ajaxSettings&&s.ajaxSettings.traditional;return void 0===t&&r&&(u("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),t=r),D.call(this,e,t)});var E,F,J=s.fn.andSelf||s.fn.addBack;return s.fn.andSelf=function(){return u("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),J.apply(this,arguments)},s.Deferred&&(E=s.Deferred,F=[["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),"rejected"],["notify","progress",s.Callbacks("memory"),s.Callbacks("memory")]],s.Deferred=function(e){var i=E(),a=i.promise();return i.pipe=a.pipe=function(){var o=arguments;return u("deferred.pipe() is deprecated"),s.Deferred(function(n){s.each(F,function(e,t){var r="function"==typeof o[e]&&o[e];i[t[1]](function(){var e=r&&r.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===a?n.promise():this,r?[e]:arguments)})}),o=null}).promise()},e&&e.call(i,i),i},s.Deferred.exceptionHook=E.exceptionHook),s});

(function(a,b){a._EPYT_=a._EPYT_||{ajaxurl:"/wp-admin/admin-ajax.php",security:"",gallery_scrolloffset:100,eppathtoscripts:"/wp-content/plugins/youtube-embed-plus/scripts/",eppath:"/wp-content/plugins/youtube-embed-plus/",epresponsiveselector:["iframe.__youtube_prefs_widget__"],epdovol:true,evselector:'iframe.__youtube_prefs__[src], iframe[src*="youtube.com/embed/"], iframe[src*="youtube-nocookie.com/embed/"]',stopMobileBuffer:true,ajax_compat:false,usingdefault:true,ytapi_load:"light",pause_others:false};a._EPYT_.touchmoved=false;a._EPYT_.apiVideos=a._EPYT_.apiVideos||{};if(a.location.toString().indexOf("https://")===0){a._EPYT_.ajaxurl=a._EPYT_.ajaxurl.replace("http://","https://")}a._EPYT_.pageLoaded=false;b(a).on("load._EPYT_",function(){a._EPYT_.pageLoaded=true});if(!document.querySelectorAll){document.querySelectorAll=function(d){var f=document,e=f.documentElement.firstChild,c=f.createElement("STYLE");e.appendChild(c);f.__qsaels=[];c.styleSheet.cssText=d+"{x:expression(document.__qsaels.push(this))}";a.scrollBy(0,0);return f.__qsaels}}if(typeof a._EPADashboard_==="undefined"){a._EPADashboard_={initStarted:false,checkCount:0,onPlayerReady:function(h){try{if(typeof _EPYT_.epdovol!=="undefined"&&_EPYT_.epdovol){var f=parseInt(h.target.getIframe().getAttribute("data-vol"));if(!isNaN(f)){if(f===0){h.target.mute()}else{if(h.target.isMuted()){h.target.unMute()}h.target.setVolume(f)}}}var e=parseInt(h.target.getIframe().getAttribute("data-epautoplay"));if(!isNaN(e)&&e===1){h.target.playVideo()}}catch(g){}try{var d=h.target.getIframe().getAttribute("id");a._EPYT_.apiVideos[d]=h.target}catch(c){}},onPlayerStateChange:function(f){var e=f.target.getIframe();if(a._EPYT_.pause_others&&f.data===a.YT.PlayerState.PLAYING){a._EPADashboard_.pauseOthers(f.target)}if(f.data===a.YT.PlayerState.PLAYING&&f.target.ponce!==true&&e.src.indexOf("autoplay=1")===-1){f.target.ponce=true}if(f.data===a.YT.PlayerState.ENDED&&b(e).data("relstop")=="1"){if(typeof f.target.stopVideo==="function"){f.target.stopVideo()}else{var g=b(e).clone(true).off();g.attr("src",g.attr("src").replace("autoplay=1","autoplay=0"));b(e).replaceWith(g);a._EPADashboard_.setupevents(g.attr("id"));e=g.get(0)}}var c=b(e).closest(".epyt-gallery");if(!c.length){c=b("#"+b(e).data("epytgalleryid"))}if(c.length){var d=c.find(".epyt-pagebutton").first().data("autonext")=="1";if(d&&f.data===a.YT.PlayerState.ENDED){var h=c.find(".epyt-current-video");if(!h.length){h=c.find(".epyt-gallery-thumb").first()}var i=h.find(" ~ .epyt-gallery-thumb").first();if(i.length){i.click()}else{c.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().click()}}}},isMobile:function(){return/Mobi|Android/i.test(navigator.userAgent)},videoEqual:function(d,c){if(d.getIframe&&c.getIframe&&d.getIframe().id===c.getIframe().id){return true}return false},pauseOthers:function(e){if(!e){return}for(var d in a._EPYT_.apiVideos){var c=a._EPYT_.apiVideos[d];if(c&&typeof c.pauseVideo==="function"&&c!=e&&!_EPADashboard_.videoEqual(c,e)&&typeof c.getPlayerState==="function"&&[YT.PlayerState.BUFFERING,a.YT.PlayerState.PLAYING].indexOf(c.getPlayerState())>=0){c.pauseVideo()}}},justid:function(c){return new RegExp("[\\?&]v=([^&#]*)").exec(c)[1]},setupevents:function(e){if(typeof(a.YT)!=="undefined"&&a.YT!==null&&a.YT.loaded){var c=document.getElementById(e);if(!c.epytsetupdone){a._EPADashboard_.log("Setting up YT API events: "+e);c.epytsetupdone=true;var d={events:{onReady:a._EPADashboard_.onPlayerReady,onStateChange:a._EPADashboard_.onPlayerStateChange}};return new a.YT.Player(e,d)}}},apiInit:function(){if(typeof(a.YT)!=="undefined"){a._EPADashboard_.initStarted=true;var c=document.querySelectorAll(_EPYT_.evselector);for(var d=0;d<c.length;d++){if(!c[d].hasAttribute("id")){c[d].id="_dytid_"+Math.round(Math.random()*8999+1000)}a._EPADashboard_.setupevents(c[d].id)}}},log:function(d){try{console.log(d)}catch(c){}},doubleCheck:function(){a._EPADashboard_.checkInterval=setInterval(function(){a._EPADashboard_.checkCount++;if(a._EPADashboard_.checkCount>=5||a._EPADashboard_.initStarted){clearInterval(a._EPADashboard_.checkInterval)}else{a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API init check")}},1000)},selectText:function(e){if(document.selection){var c=document.body.createTextRange();c.moveToElementText(e);c.select()}else{if(a.getSelection){var d=a.getSelection();var c=document.createRange();c.selectNode(e);d.removeAllRanges();d.addRange(c)}}},setVidSrc:function(c,d){c.attr("src",d);c.get(0).epytsetupdone=false;a._EPADashboard_.setupevents(c.attr("id"))},loadYTAPI:function(){if(typeof a.YT==="undefined"){if(a._EPYT_.ytapi_load!=="never"&&(a._EPYT_.ytapi_load==="always"||b('iframe[src*="youtube.com/embed/"], iframe[data-src*="youtube.com/embed/"]').length)){var c=document.createElement("script");c.src="https://www.youtube.com/iframe_api";c.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(c)}}else{if(a.YT.loaded){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available 2")})}}}},pageReady:function(){b(".epyt-gallery").each(function(){var f=b(this);if(!f.data("epytevents")||!b("body").hasClass("block-editor-page")){f.data("epytevents","1");var e=b(this).find("iframe, div.__youtube_prefs_gdpr__").first();var c=e.data("src")||e.attr("src");if(!c){c=e.data("ep-src")}var d=b(this).find(".epyt-gallery-list .epyt-gallery-thumb").first().data("videoid");if(typeof(c)!=="undefined"){c=c.replace(d,"GALLERYVIDEOID");f.data("ep-gallerysrc",c)}else{if(e.hasClass("__youtube_prefs_gdpr__")){f.data("ep-gallerysrc","")}}f.on("click touchend",".epyt-gallery-list .epyt-gallery-thumb",function(k){e=f.find("iframe, div.__youtube_prefs_gdpr__").first();if(a._EPYT_.touchmoved){return}if(!b(this).hasClass("epyt-current-video")){f.find(".epyt-gallery-list .epyt-gallery-thumb").removeClass("epyt-current-video");b(this).addClass("epyt-current-video");var g=b(this).data("videoid");f.data("currvid",g);var l=f.data("ep-gallerysrc").replace("GALLERYVIDEOID",g);var j=f.find(".epyt-pagebutton").first().data("thumbplay");if(j!=="0"&&j!==0){if(l.indexOf("autoplay")>0){l=l.replace("autoplay=0","autoplay=1")}else{l+="&autoplay=1"}e.addClass("epyt-thumbplay")}var h=Math.max(b("body").scrollTop(),b("html").scrollTop());var i=e.offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(h>i){b("html, body").animate({scrollTop:i},500,function(){a._EPADashboard_.setVidSrc(e,l)})}else{a._EPADashboard_.setVidSrc(e,l)}}}).on("touchmove",function(g){a._EPYT_.touchmoved=true}).on("touchstart",function(){a._EPYT_.touchmoved=false}).on("keydown",".epyt-gallery-list .epyt-gallery-thumb, .epyt-pagebutton",function(h){var g=h.which;if((g===13)||(g===32)){h.preventDefault();b(this).click()}});f.on("mouseenter",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).addClass("hover")});f.on("mouseleave",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).removeClass("hover")});f.on("click touchend",".epyt-pagebutton",function(k){if(a._EPYT_.touchmoved){return}if(!f.find(".epyt-gallery-list").hasClass("epyt-loading")){f.find(".epyt-gallery-list").addClass("epyt-loading");var g=typeof(k.originalEvent)!=="undefined";var j={action:"my_embedplus_gallery_page",security:_EPYT_.security,options:{playlistId:b(this).data("playlistid"),pageToken:b(this).data("pagetoken"),pageSize:b(this).data("pagesize"),columns:b(this).data("epcolumns"),showTitle:b(this).data("showtitle"),showPaging:b(this).data("showpaging"),autonext:b(this).data("autonext"),thumbplay:b(this).data("thumbplay")}};var h=b(this).hasClass("epyt-next");var i=parseInt(f.data("currpage")+"");i+=h?1:-1;f.data("currpage",i);b.post(_EPYT_.ajaxurl,j,function(l){f.find(".epyt-gallery-list").html(l);f.find(".epyt-current").each(function(){b(this).text(f.data("currpage"))});f.find('.epyt-gallery-thumb[data-videoid="'+f.data("currvid")+'"]').addClass("epyt-current-video");if(f.find(".epyt-pagebutton").first().data("autonext")=="1"&&!g){f.find(".epyt-gallery-thumb").first().click()}}).fail(function(){alert("Sorry, there was an error loading the next page.")}).always(function(){f.find(".epyt-gallery-list").removeClass("epyt-loading");if(f.find(".epyt-pagebutton").first().data("autonext")!="1"){var l=Math.max(b("body").scrollTop(),b("html").scrollTop());var m=f.find(".epyt-gallery-list").offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(l>m){b("html, body").animate({scrollTop:m},500)}}})}}).on("touchmove",function(g){a._EPYT_.touchmoved=true}).on("touchstart",function(){a._EPYT_.touchmoved=false})}});b("button.__youtube_prefs_gdpr__").on("click",function(c){c.preventDefault();if(b.cookie){b.cookie("ytprefs_gdpr_consent","1",{expires:30,path:"/"});a.top.location.reload()}})}}}a.onYouTubeIframeAPIReady=typeof a.onYouTubeIframeAPIReady!=="undefined"?a.onYouTubeIframeAPIReady:function(){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready 2")})}};a._EPADashboard_.loadYTAPI();if(a._EPYT_.pageLoaded){a._EPADashboard_.doubleCheck()}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.doubleCheck()})}b(document).ready(function(){a._EPADashboard_.pageReady();a._EPADashboard_.loadYTAPI();if(a._EPYT_.ajax_compat){b(a).on("load._EPYT_",function(){b(document).ajaxSuccess(function(d,f,c){if(f&&f.responseText&&f.responseText.indexOf("<iframe ")!==-1){a._EPADashboard_.loadYTAPI();a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API AJAX");a._EPADashboard_.pageReady()}})})}})})(window,jQuery);
(function($){if(typeof window.editorPlusAnimationExtension==="undefined"){$().ready(function(){const editorPlusAnimationElements=$('[class^="edplus_anim"], [class*=" edplus_anim"]');editorPlusAnimationElements.css("opacity","0");editorPlusAnimationElements.each(function(){const currentClass=$(this).attr("class");let matched=(currentClass.match(/(^|\s)edplus_anim\S+/g)||[]).map((c)=>c.trim()).join(" ");$(this).data("ep-anim-class",matched);});editorPlusAnimationElements.removeClass(function(index,css){return(css.match(/(^|\s)edplus_anim\S+/g)||[]).join(" ");});editorPlusAnimationElements.each(function(){const self=$(this);self.on("animationstart",function(){$(this).css("opacity","1");});function runAnimations(){var el=self;var top_of_element=el.offset().top;var bottom_of_element=el.offset().top+el.outerHeight();var bottom_of_screen=$(window).scrollTop()+$(window).innerHeight();var top_of_screen=$(window).scrollTop();if(bottom_of_screen>top_of_element&&top_of_screen<bottom_of_element&&!el.hasClass(el.data("ep-anim-class"))){el.addClass(el.data("ep-anim-class"));}}
$(window).scroll(runAnimations);$(window).on("load",runAnimations);});});}})(jQuery);
var astraGetParents=function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),a=t.length;0<=--a&&t.item(a)!==this;);return-1<a});for(var a=[];e&&e!==document;e=e.parentNode)t?e.matches(t)&&a.push(e):a.push(e);return a},getParents=function(e,t){console.warn("getParents() function has been deprecated since version 2.5.0 or above of Astra Theme and will be removed in the future. Use astraGetParents() instead."),astraGetParents(e,t)},astraToggleClass=function(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)},toggleClass=function(e,t){console.warn("toggleClass() function has been deprecated since version 2.5.0 or above of Astra Theme and will be removed in the future. Use astraToggleClass() instead."),astraToggleClass(e,t)};!function(){if("function"==typeof window.CustomEvent)return;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=window.Event.prototype,window.CustomEvent=e}();var astraTriggerEvent=function(e,t,a){var n=new CustomEvent(t,2<arguments.length&&void 0!==a?a:{});e.dispatchEvent(n)};!function(){var m=document.querySelectorAll("#masthead .main-header-menu-toggle"),u=document.getElementById("masthead"),o={},g="",p=document.body,v="";function e(e){g=e.detail.type;var t=document.querySelectorAll(".menu-toggle");if("dropdown"===g&&(document.getElementById("ast-mobile-popup").classList.remove("active","show"),h("updateHeader")),"off-canvas"===g)for(var a=0;a<t.length;a++)void 0!==t[a]&&t[a].classList.contains("toggled")&&t[a].click();n(g)}function h(e){var t="";if(null==(v=u.querySelector("#ast-mobile-header"))||"dropdown"!==v.dataset.type||"updateHeader"===e){if(void 0!==e&&"updateHeader"!==e)t=e.closest(".ast-mobile-popup-inner").querySelectorAll(".menu-item-has-children");else t=document.querySelector("#ast-mobile-popup").querySelectorAll(".menu-item-has-children");for(var a=0;a<t.length;a++){t[a].classList.remove("ast-submenu-expanded");for(var n=t[a].querySelectorAll(".sub-menu"),s=0;s<n.length;s++)n[s].style.display="none"}var o=document.querySelectorAll(".menu-toggle");document.body.classList.remove("ast-main-header-nav-open","ast-popup-nav-open"),document.documentElement.classList.remove("ast-off-canvas-active");for(var l=0;l<o.length;l++)o[l].classList.remove("toggled"),o[l].style.display="flex"}}function n(e){var t=document.querySelectorAll("#ast-mobile-header .menu-toggle"),a=document.querySelectorAll("#ast-desktop-header .menu-toggle");if(void 0===e&&null!==u)if(v=u.querySelector("#ast-mobile-header"))e=v.dataset.type;else{var n=u.querySelector("#ast-desktop-header");if(!n)return;e=n.dataset.toggleType}if("off-canvas"===e){for(var s=document.getElementById("menu-toggle-close"),o=document.querySelector(".ast-mobile-popup-inner").getElementsByTagName("a"),l=0;l<t.length;l++)t[l].removeEventListener("click",astraNavMenuToggle,!1),t[l].addEventListener("click",popupTriggerClick,!1),t[l].trigger_type="mobile";for(l=0;l<a.length;l++)a[l].removeEventListener("click",astraNavMenuToggle,!1),a[l].addEventListener("click",popupTriggerClick,!1),a[l].trigger_type="desktop";for(s.addEventListener("click",function(e){document.getElementById("ast-mobile-popup").classList.remove("active","show"),h(this)}),document.addEventListener("keyup",function(e){27===e.keyCode&&(e.preventDefault(),document.getElementById("ast-mobile-popup").classList.remove("active","show"),h())}),document.addEventListener("click",function(e){e.target===document.querySelector(".ast-mobile-popup-drawer.active .ast-mobile-popup-overlay")&&(document.getElementById("ast-mobile-popup").classList.remove("active","show"),h())}),link=0,len=o.length;link<len;link++)null!==o[link].getAttribute("href")&&"#"!==o[link].getAttribute("href")&&(o[link].addEventListener("click",f,!0),o[link].headerType="off-canvas");AstraToggleSetup()}else if("dropdown"===e){var r=document.querySelector(".ast-mobile-header-content"),i=document.querySelector(".ast-desktop-header-content"),c=r.getElementsByTagName("a"),d=i.getElementsByTagName("a");for(link=0,len=c.length;link<len;link++)null!==c[link].getAttribute("href")&&"#"!==c[link].getAttribute("href")&&(c[link].addEventListener("click",f,!0),c[link].headerType="dropdown");for(link=0,len=d.length;link<len;link++)d[link].addEventListener("click",f,!0),d[link].headerType="dropdown";for(l=0;l<t.length;l++)t[l].removeEventListener("click",popupTriggerClick,!1),t[l].addEventListener("click",astraNavMenuToggle,!1),t[l].trigger_type="mobile";for(l=0;l<a.length;l++)a[l].removeEventListener("click",popupTriggerClick,!1),a[l].addEventListener("click",astraNavMenuToggle,!1),a[l].trigger_type="desktop";AstraToggleSetup()}y()}function f(e){switch(e.currentTarget.headerType){case"dropdown":for(var t=document.querySelectorAll(".menu-toggle.toggled"),a=0;a<t.length;a++)t[a].click();break;case"off-canvas":document.getElementById("menu-toggle-close").click()}}null!=u&&(v=u.querySelector("#ast-mobile-header")),""!==v&&null!==v&&(g=v.dataset.type),document.addEventListener("astMobileHeaderTypeChange",e,!1),popupTriggerClick=function(e){var t=e.currentTarget.trigger_type,a=document.getElementById("ast-mobile-popup");p.classList.contains("ast-popup-nav-open")||p.classList.add("ast-popup-nav-open"),p.classList.contains("ast-main-header-nav-open")||p.classList.add("ast-main-header-nav-open"),document.documentElement.classList.contains("ast-off-canvas-active")||document.documentElement.classList.add("ast-off-canvas-active"),"desktop"===t&&(a.querySelector(".ast-mobile-popup-content").style.display="none",a.querySelector(".ast-desktop-popup-content").style.display="block"),"mobile"===t&&(a.querySelector(".ast-desktop-popup-content").style.display="none",a.querySelector(".ast-mobile-popup-content").style.display="block"),this.style.display="none",a.classList.add("active","show")},window.addEventListener("load",function(){n()}),document.addEventListener("astLayoutWidthChanged",function(){n()}),document.addEventListener("astPartialContentRendered",function(){m=document.querySelectorAll(".main-header-menu-toggle"),p.classList.remove("ast-main-header-nav-open"),document.addEventListener("astMobileHeaderTypeChange",e,!1),n(),y()});var s=window.innerWidth;window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&function(){var e=document.getElementById("menu-toggle-close"),t=document.querySelector(".menu-toggle.toggled"),a=document.querySelector("#masthead > #ast-desktop-header .ast-desktop-header-content"),n=document.querySelector(".elementor-editor-active");a&&(a.style.display="none"),window.innerWidth!==s&&(t&&null===n&&t.click(),document.body.classList.remove("ast-main-header-nav-open","ast-popup-nav-open")),e&&null===n&&e.click(),l(),"dropdown"===g&&AstraToggleSetup()}()}),document.addEventListener("DOMContentLoaded",function(){var e,t;for(AstraToggleSetup(),e=document.querySelectorAll(".navigation-accessibility"),t=0;t<=e.length-1;t++)e[t]&&d(e[t])});var l=function(){var e=p.style.overflow;p.style.overflow="hidden";var t=document.documentElement.clientWidth;if(p.style.overflow=e,astra.break_point<t||0===t){if(0<m.length)for(var a=0;a<m.length;a++)null!==m[a]&&m[a].classList.remove("toggled");p.classList.remove("ast-header-break-point"),p.classList.add("ast-desktop"),astraTriggerEvent(p,"astra-header-responsive-enabled")}else p.classList.add("ast-header-break-point"),p.classList.remove("ast-desktop"),astraTriggerEvent(p,"astra-header-responsive-disabled")},y=function(){var e=document.querySelectorAll(".ast-account-action-login")[0];if(void 0!==e){var t=document.getElementById("ast-hb-login-close"),a=document.getElementById("ast-hb-account-login-wrap");e.onclick=function(e){e.preventDefault(),e.stopPropagation(),a.classList.contains("show")||a.classList.add("show")},t.onclick=function(e){e.preventDefault(),a.classList.remove("show")}}};l(),AstraToggleSubMenu=function(e){e.preventDefault();var t=this.parentNode;if(t.classList.contains("ast-submenu-expanded")&&document.querySelector("header.site-header").classList.contains("ast-builder-menu-toggle-link")&&!this.classList.contains("ast-menu-toggle")){var a=t.querySelector("a").getAttribute("href");""!==a&&"#"!==a&&(window.location=a)}for(var n=t.querySelectorAll(".menu-item-has-children"),s=0;s<n.length;s++){n[s].classList.remove("ast-submenu-expanded");var o=n[s].querySelector(".sub-menu, .children");null!==o&&(o.style.display="none")}var l=t.parentNode.querySelectorAll(".menu-item-has-children");for(s=0;s<l.length;s++)if(l[s]!=t){l[s].classList.remove("ast-submenu-expanded");for(var r=l[s].querySelectorAll(".sub-menu"),i=0;i<r.length;i++)r[i].style.display="none"}t.classList.contains("menu-item-has-children")&&(astraToggleClass(t,"ast-submenu-expanded"),t.classList.contains("ast-submenu-expanded")?t.querySelector(".sub-menu").style.display="block":t.querySelector(".sub-menu").style.display="none")},AstraNavigationMenu=function(e){console.warn("AstraNavigationMenu() function has been deprecated since version 1.6.5 or above of Astra Theme and will be removed in the future.")},AstraToggleMenu=function(e){if(console.warn("AstraToggleMenu() function has been deprecated since version 1.6.5 or above of Astra Theme and will be removed in the future. Use AstraToggleSubMenu() instead."),0<e.length)for(var t=0;t<e.length;t++)e[t].addEventListener("click",AstraToggleSubMenu,!1)},AstraToggleSetup=function(){if("off-canvas"===g||"full-width"===g){var e=document.querySelectorAll("#ast-mobile-popup");if(p.classList.contains("ast-header-break-point"))var t=document.querySelectorAll("#ast-mobile-header .main-header-menu-toggle");else t=document.querySelectorAll("#ast-desktop-header .main-header-menu-toggle")}else if(p.classList.contains("ast-header-break-point"))e=document.querySelectorAll("#ast-mobile-header"),t=document.querySelectorAll("#ast-mobile-header .main-header-menu-toggle");else e=document.querySelectorAll("#ast-desktop-header"),t=document.querySelectorAll("#ast-desktop-header .main-header-menu-toggle");if(0<t.length)for(var a=0;a<t.length;a++)if(t[a].setAttribute("data-index",a),o[a]||(o[a]=t[a],t[a].addEventListener("click",astraNavMenuToggle,!1)),void 0!==e[a]){if(document.querySelector("header.site-header").classList.contains("ast-builder-menu-toggle-link"))var n=e[a].querySelectorAll("ul.main-header-menu .menu-item-has-children > .menu-link, ul.main-header-menu .ast-menu-toggle");else n=e[a].querySelectorAll("ul.main-header-menu .ast-menu-toggle");if(0<n.length)for(var s=0;s<n.length;s++)n[s].addEventListener("click",AstraToggleSubMenu,!1)}},astraNavMenuToggle=function(e){e.preventDefault();var t=e.target.closest("#ast-desktop-header"),a=document.querySelector("#masthead > #ast-desktop-header .ast-desktop-header-content");if(null!=t&&""!==t)var n=t.querySelector(".main-header-menu-toggle");else n=document.querySelector("#masthead > #ast-desktop-header .main-header-menu-toggle");var s=document.querySelector("#masthead > #ast-desktop-header .ast-desktop-header-content .main-header-bar-navigation");if("desktop"===e.currentTarget.trigger_type)return null!==s&&""!==s&&void 0!==s&&(astraToggleClass(s,"toggle-on"),s.classList.contains("toggle-on")?s.style.display="block":s.style.display=""),astraToggleClass(n,"toggled"),void(n.classList.contains("toggled")?(p.classList.add("ast-main-header-nav-open"),"dropdown"===g&&(a.style.display="block")):(p.classList.remove("ast-main-header-nav-open"),a.style.display="none"));var o=document.querySelectorAll("#masthead > #ast-mobile-header .main-header-bar-navigation");m=document.querySelectorAll("#masthead > #ast-mobile-header .main-header-menu-toggle");var l="0",r=!1;if(null!==this.closest("#ast-fixed-header")&&(o=document.querySelectorAll("#ast-fixed-header > #ast-mobile-header .main-header-bar-navigation"),m=document.querySelectorAll("#ast-fixed-header .main-header-menu-toggle"),l="0",r=!0),void 0===o[l])return!1;for(var i=o[l].querySelectorAll(".menu-item-has-children"),c=0;c<i.length;c++){i[c].classList.remove("ast-submenu-expanded");for(var d=i[c].querySelectorAll(".sub-menu"),u=0;u<d.length;u++)d[u].style.display="none"}-1!==(this.getAttribute("class")||"").indexOf("main-header-menu-toggle")&&(astraToggleClass(o[l],"toggle-on"),astraToggleClass(m[l],"toggled"),r&&1<m.length&&astraToggleClass(m[1],"toggled"),o[l].classList.contains("toggle-on")?(o[l].style.display="block",p.classList.add("ast-main-header-nav-open")):(o[l].style.display="",p.classList.remove("ast-main-header-nav-open")))},p.addEventListener("astra-header-responsive-enabled",function(){var e=document.querySelectorAll(".main-header-bar-navigation");if(0<e.length)for(var t=0;t<e.length;t++){null!=e[t]&&(e[t].classList.remove("toggle-on"),e[t].style.display="");for(var a=e[t].getElementsByClassName("sub-menu"),n=0;n<a.length;n++)a[n].style.display="";for(var s=e[t].getElementsByClassName("children"),o=0;o<s.length;o++)s[o].style.display="";for(var l=e[t].getElementsByClassName("ast-search-menu-icon"),r=0;r<l.length;r++)l[r].classList.remove("ast-dropdown-active"),l[r].style.display=""}},!1);var t,a,r;a=navigator.userAgent,r=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(r[1])?t=/\brv[ :]+(\d+)/g.exec(a)||[]:"Chrome"===r[1]&&null!=(t=a.match(/\bOPR|Edge\/(\d+)/))||(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=a.match(/version\/(\d+)/i))&&r.splice(1,1,t[1]),"Safari"===r[0]&&r[1]<11&&bodyElement.classList.add("ast-safari-browser-less-than-11"));for(var i=document.getElementsByClassName("astra-search-icon"),c=0;c<i.length;c++)i[c].onclick=function(e){if(this.classList.contains("slide-search")){e.preventDefault();var t=this.parentNode.parentNode.parentNode.querySelector(".ast-search-menu-icon");if(t.classList.contains("ast-dropdown-active"))""!==(t.querySelector(".search-field").value||"")&&t.querySelector(".search-form").submit(),t.classList.remove("ast-dropdown-active");else t.classList.add("ast-dropdown-active"),t.querySelector(".search-field").setAttribute("autocomplete","off"),setTimeout(function(){t.querySelector(".search-field").focus()},200)}};function d(e){if(e){var t=e.getElementsByTagName("button")[0];if(void 0!==t||void 0!==(t=e.getElementsByTagName("a")[0])){var a=e.getElementsByTagName("ul")[0];if(void 0!==a){a.setAttribute("aria-expanded","false"),-1===a.className.indexOf("nav-menu")&&(a.className+=" nav-menu"),t.onclick=function(){-1!==e.className.indexOf("toggled")?(e.className=e.className.replace(" toggled",""),t.setAttribute("aria-expanded","false"),a.setAttribute("aria-expanded","false")):(e.className+=" toggled",t.setAttribute("aria-expanded","true"),a.setAttribute("aria-expanded","true"))};for(var n=a.getElementsByTagName("a"),s=a.getElementsByTagName("ul"),o=0,l=s.length;o<l;o++)s[o].parentNode.setAttribute("aria-haspopup","true");for(o=0,l=n.length;o<l;o++)n[o].addEventListener("focus",L,!0),n[o].addEventListener("blur",L,!0),n[o].addEventListener("click",b,!0)}else t.style.display="none"}}}function b(){var e=this||"";if(e&&!e.classList.contains("astra-search-icon")&&null===e.closest(".ast-builder-menu")&&-1!==new String(e).indexOf("#")){var t=e.parentNode;if(p.classList.contains("ast-header-break-point")){if(!document.querySelector("header.site-header").classList.contains("ast-builder-menu-toggle-link")||!t.classList.contains("menu-item-has-children")){document.querySelector(".main-header-menu-toggle").classList.remove("toggled");var a=document.querySelector(".main-header-bar-navigation");a.classList.remove("toggle-on"),a.style.display="none",astraTriggerEvent(document.querySelector("body"),"astraMenuHashLinkClicked")}}else for(;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&-1!==e.className.indexOf("focus")&&(e.className=e.className.replace(" focus","")),e=e.parentElement}}function L(){for(var e=this;-1===e.className.indexOf("navigation-accessibility");)"li"===e.tagName.toLowerCase()&&e.classList.toggle("focus"),e=e.parentElement}p.onclick=function(e){if(void 0!==e.target.classList&&!e.target.classList.contains("ast-search-menu-icon")&&0===astraGetParents(e.target,".ast-search-menu-icon").length&&0===astraGetParents(e.target,".ast-search-icon").length)for(var t=document.getElementsByClassName("ast-search-menu-icon"),a=0;a<t.length;a++)t[a].classList.remove("ast-dropdown-active")},"querySelector"in document&&"addEventListener"in window&&(p.addEventListener("mousedown",function(){p.classList.add("ast-mouse-clicked")}),p.addEventListener("keydown",function(){p.classList.remove("ast-mouse-clicked")}))}();
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}
/*!
   * GSAP 3.0.1
   * https://greensock.com
   *
   * @license Copyright 2008-2019, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  */function n(t){return"string"==typeof t}function o(t){return"function"==typeof t}function p(t){return"number"==typeof t}function q(t){return void 0===t}function r(t){return"object"==typeof t}function s(t){return!1!==t}function t(){return"undefined"!=typeof window}function u(t){return o(t)||n(t)}function J(t){return(l=dt(t,at))&&ee}function K(t,e){return console.warn("Invalid",t,"tween of",e,"Missing plugin? gsap.registerPlugin()")}function L(t,e){return!e&&console.warn(t)}function M(t,e){return t&&(at[t]=e)&&l&&(l[t]=e)||at}function N(){return 0}function W(t){var e,n,i=t[0];if(!r(i)&&!o(i))return G(t)?t:[t];if(!(e=(i._gsap||{}).harness)){for(n=ct.length;n--&&!ct[n].targetTest(i););e=ct[n]}for(n=t.length;n--;)t[n]._gsap||(t[n]._gsap=new Ft(t[n],e));return t}function X(t){return t._gsap||W(vt(t))[0]._gsap}function Y(t,e){var r=t[e];return o(r)?t[e]():q(r)&&t.getAttribute(e)||r}function Z(t,e){return(t=t.split(",")).forEach(e)||t}function $(t){return Math.round(1e4*t)/1e4}function _(t,e){for(var r=e.length,n=0;t.indexOf(e[n])<0&&++n<r;);return n<r}function aa(t,e,r){var n,i=p(t[1]),a=(i?2:1)+(e<2?0:1),o=t[a];return i&&(o.duration=t[1]),1===e?(o.runBackwards=1,o.immediateRender=s(o.immediateRender)):2===e&&(n=t[a-1],o.startAt=n,o.immediateRender=s(o.immediateRender)),o.parent=r,o}function ba(){var t,e,r=ot.length,n=ot.slice(0);for(ut={},t=ot.length=0;t<r;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function ca(t,e,r,n){ot.length&&ba(),t.render(e,r,n),ot.length&&ba()}function da(t){var e=parseFloat(t);return e||0===e?e:t}function ea(t){return t}function fa(t,e){for(var r in e)r in t||(t[r]=e[r]);return t}function ga(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])}function ia(t,e){for(var n in e)t[n]=r(e[n])?ia(t[n]||(t[n]={}),e[n]):e[n];return t}function ja(t,e){var r,n={};for(r in t)r in e||(n[r]=t[r]);return n}function na(t,e,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=e._prev,a=e._next;i?i._next=a:t[r]===e&&(t[r]=a),a?a._prev=i:t[n]===e&&(t[n]=i),e._dp=t,e._next=e._prev=e.parent=null}function oa(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function pa(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t}function sa(t){var e;return t._repeat?(e=t.duration()+t._rDelay)*~~(t._tTime/e):0}function ta(t,e){return 0<e._ts?(t-e._start)*e._ts:(e._dirty?e.totalDuration():e._tDur)+(t-e._start)*e._ts}function ua(t,e,r){if(e.parent&&oa(e),e._start=r+e._delay,e._end=e._start+(e.totalDuration()/e._ts||0),function _addLinkedListItem(t,e,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var a,s=t[n];if(i)for(a=e[i];s&&s[i]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[n]=e,e._prev=s,e.parent=t}(t,e,"_first","_last",t._sort?"_start":0),(t._recent=e)._time||!e._dur&&e._initted){var n=(t.rawTime()-e._start)*e._ts;(!e._dur||mt(0,e.totalDuration(),n)-e._tTime>B)&&e.render(n,!0)}if(pa(t),t._dp&&t._time>=t._dur&&t._ts&&t._dur<t.duration())for(var i=t;i._dp;)i.totalTime(i._tTime,!0),i=i._dp;return t}function va(t,e,r,n){return It(t,e),t._initted?!r&&t._pt&&t.vars.lazy?(ot.push(t),t._lazy=[e,n],1):void 0:1}function ya(t){if(t instanceof Et)return pa(t);var e=t._repeat;return t._tDur=e?e<0?1e20:$(t._dur*(e+1)+t._rDelay*e):t._dur,pa(t.parent),t}function Aa(t,e){var r,i,a=t.labels,s=t._recent||_t,o=t.duration()>=D?s.endTime(!1):t._dur;return n(e)&&(isNaN(e)||e in a)?"<"===(r=e.charAt(0))||">"===r?("<"===r?s._start:s.endTime(0<=s._repeat))+(parseFloat(e.substr(1))||0):(r=e.indexOf("="))<0?(e in a||(a[e]=o),a[e]):(i=+(e.charAt(r-1)+e.substr(r+1)),1<r?Aa(t,e.substr(0,r-1))+i:o+i):null==e?o:+e}function Ba(t,e){return t||0===t?e(t):e}function Da(t){return(t+"").substr((parseFloat(t)+"").length)}function Ga(t){return r(t)&&"length"in t&&t.length-1 in t&&r(t[0])&&t!==i}function Ja(t){if(o(t))return t;var d=r(t)?t:{each:t},_=Dt(d.ease),m=d.from||0,g=parseFloat(d.base)||0,v={},e=0<m&&m<1,y=isNaN(m)||e,b=d.axis,w=m,T=m;return n(m)?w=T={center:.5,edges:.5,end:1}[m]||0:!e&&y&&(w=m[0],T=m[1]),function(t,e,r){var n,i,a,s,o,u,h,l,f,c=(r||d).length,p=v[c];if(!p){if(!(f="auto"===d.grid?0:(d.grid||[1,D])[1])){for(h=-D;h<(h=r[f++].getBoundingClientRect().left)&&f<c;);f--}for(p=v[c]=[],n=y?Math.min(f,c)*w-.5:m%f,i=y?c*T/f-.5:m/f|0,l=D,u=h=0;u<c;u++)a=u%f-n,s=i-(u/f|0),p[u]=o=b?Math.abs("y"===b?s:a):j(a*a+s*s),h<o&&(h=o),o<l&&(l=o);p.max=h-l,p.min=l,p.v=c=(parseFloat(d.amount)||parseFloat(d.each)*(c<f?c-1:b?"y"===b?c/f:f:Math.max(f,c/f))||0)*("edges"===m?-1:1),p.b=c<0?g-c:g,p.u=Da(d.amount||d.each)||0,_=_&&c<0?Ct(_):_}return c=(p[t]-p.min)/p.max||0,$(p.b+(_?_(c):c)*p.v)+p.u}}function Ka(e){var r=e<1?Math.pow(10,(e+"").length-2):1;return function(t){return~~(Math.round(parseFloat(t)/e)*e*r)/r+(p(t)?0:Da(t))}}function La(u,t){var h,l,e=G(u);return!e&&r(u)&&(h=e=u.radius||D,u=vt(u.values),(l=!p(u[0]))&&(h*=h)),Ba(t,e?function(t){for(var e,r,n=parseFloat(l?t.x:t),i=parseFloat(l?t.y:0),a=D,s=0,o=u.length;o--;)(e=l?(e=u[o].x-n)*e+(r=u[o].y-i)*r:Math.abs(u[o]-n))<a&&(a=e,s=o);return s=!h||a<=h?u[s]:t,l||s===t||p(t)?s:s+Da(t)}:Ka(u))}function Ma(t,e,r,n){return Ba(G(t)?!e:!n,function(){return G(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/r)*r*n)/n})}function Qa(e,r,t){return Ba(t,function(t){return e[~~r(t)]})}function Ta(t){for(var e,r,n,i,a=0,s="";~(e=t.indexOf("random(",a));)n=t.indexOf(")",e),i="["===t.charAt(e+7),r=t.substr(e+7,n-e-7).match(i?it:H),s+=t.substr(a,e-a)+Ma(i?r:+r[0],+r[1],+r[2]||1e-5),a=n+1;return s+t.substr(a,t.length-a)}function Wa(t,e,r){var n,i,a,s=t.labels,o=D;for(n in s)(i=s[n]-e)<0==!!r&&i&&o>(i=Math.abs(i))&&(a=n,o=i);return a}function Ya(t){return oa(t),t.progress()<1&&bt(t,"onInterrupt"),t}function bb(t,e,r){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*wt+.5|0}function cb(t,e){var r,n,i,a,s,o,u,h,l,f,c=t?p(t)?[t>>16,t>>8&wt,t&wt]:0:Tt.black;if(!c){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Tt[t])c=Tt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(r=t.charAt(1))+r+(n=t.charAt(2))+n+(i=t.charAt(3))+i),c=[(t=parseInt(t.substr(1),16))>>16,t>>8&wt,t&wt];else if("hsl"===t.substr(0,3))if(c=f=t.match(H),e){if(~t.indexOf("="))return t.match(tt)}else a=+c[0]%360/360,s=+c[1]/100,r=2*(o=+c[2]/100)-(n=o<=.5?o*(s+1):o+s-o*s),3<c.length&&(c[3]*=1),c[0]=bb(a+1/3,r,n),c[1]=bb(a,r,n),c[2]=bb(a-1/3,r,n);else c=t.match(H)||Tt.transparent;c=c.map(Number)}return e&&!f&&(r=c[0]/wt,n=c[1]/wt,i=c[2]/wt,o=((u=Math.max(r,n,i))+(h=Math.min(r,n,i)))/2,u===h?a=s=0:(l=u-h,s=.5<o?l/(2-u-h):l/(u+h),a=u===r?(n-i)/l+(n<i?6:0):u===n?(i-r)/l+2:(r-n)/l+4,a*=60),c[0]=a+.5|0,c[1]=100*s+.5|0,c[2]=100*o+.5|0),c}function db(t,e){var r,n,i,a=(t+"").match(xt),s=0,o="";if(!a)return t;for(r=0;r<a.length;r++)n=a[r],s+=(i=t.substr(s,t.indexOf(n,s)-s)).length+n.length,3===(n=cb(n,e)).length&&n.push(1),o+=i+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return o+t.substr(s)}function gb(t){var e,r=t.join(" ");xt.lastIndex=0,xt.test(r)&&(e=kt.test(r),t[0]=db(t[0],e),t[1]=db(t[1],e))}function ob(t){var e=(t+"").split("("),r=Ot[e[0]];return r&&1<e.length&&r.config?r.config.apply(null,~t.indexOf("{")?[function _parseObjectInString(t){for(var e,r,n,i={},a=t.substr(1,t.length-3).split(":"),s=a[0],o=1,u=a.length;o<u;o++)r=a[o],e=o!==u-1?r.lastIndexOf(","):r.length,n=r.substr(0,e),i[s]=isNaN(n)?n.replace(St,"").trim():+n,s=r.substr(e+1).trim();return i}(e[1])]:rt.exec(t)[1].split(",").map(da)):Ot._CE&&Pt.test(t)?Ot._CE("",t):r}function rb(t,e,r,n){void 0===r&&(r=function easeOut(t){return 1-e(1-t)}),void 0===n&&(n=function easeInOut(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,a={easeIn:e,easeOut:r,easeInOut:n};return Z(t,function(t){for(var e in Ot[t]=at[t]=a,Ot[i=t.toLowerCase()]=r,a)Ot[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ot[t+"."+e]=a[e]}),a}function sb(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function tb(r,t,e){function sk(t){return 1===t?1:n*Math.pow(2,-10*t)*Q((t-a)*i)+1}var n=1<=t?t:1,i=(e||(r?.3:.45))/(t<1?t:1),a=i/F*(Math.asin(1/n)||0),s="out"===r?sk:"in"===r?function(t){return 1-sk(1-t)}:sb(sk);return i=F/i,s.config=function(t,e){return tb(r,t,e)},s}function ub(e,r){function Ak(t){return--t*t*((r+1)*t+r)+1}void 0===r&&(r=1.70158);var t="out"===e?Ak:"in"===e?function(t){return 1-Ak(1-t)}:sb(Ak);return t.config=function(t){return ub(e,t)},t}var R,i,a,h,l,f,d,c,m,g,v,y,b,w,T,x,k,A,O,P,S,C,U={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},E={duration:.5,overwrite:!1,delay:0},D=1e8,B=1/D,F=2*Math.PI,z=F/4,I=0,j=Math.sqrt,V=Math.cos,Q=Math.sin,G=Array.isArray,H=/(?:-?\.?\d|\.)+/gi,tt=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,et=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,rt=/\(([^()]+)\)/i,nt=/[\+-]=-?[\.\d]+/,it=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,at={},st={},ot=[],ut={},ht={},lt={},ft=30,ct=[],pt="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",dt=function _merge(t,e){for(var r in e)t[r]=e[r];return t},_t={_start:0,endTime:N},mt=function _clamp(t,e,r){return r<t?t:e<r?e:r},gt=[].slice,vt=function toArray(t,e){return!n(t)||e||!a&&Mt()?G(t)?function _flatten(t,r,i){return void 0===i&&(i=[]),t.forEach(function(t){var e;return n(t)&&!r||Ga(t)?(e=i).push.apply(e,vt(t)):i.push(t)})||i}(t,e):Ga(t)?gt.call(t,0):t?[t]:[]:gt.call(h.querySelectorAll(t),0)},yt=function mapRange(e,t,r,n,i){var a=t-e,s=n-r;return Ba(i,function(t){return r+(t-e)/a*s})},bt=function _callback(t,e,r){var n,i,a=t.vars,s=a[e];if(s)return n=a[e+"Params"],i=a.callbackScope||t,r&&ot.length&&ba(),n?s.apply(i,n):s.call(i,t)},wt=255,Tt={aqua:[0,wt,wt],lime:[0,wt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,wt],navy:[0,0,128],white:[wt,wt,wt],olive:[128,128,0],yellow:[wt,wt,0],orange:[wt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[wt,0,0],pink:[wt,192,203],cyan:[0,wt,wt],transparent:[wt,wt,wt,0]},xt=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in Tt)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),kt=/hsl[a]?\(/,At=(b=Date.now,w=500,T=33,x=b(),k=x,O=A=1/60,y={time:0,frame:0,tick:function tick(){yj(!0)},wake:function wake(){f&&(!a&&t()&&(i=a=window,h=i.document||{},at.gsap=ee,(i.gsapVersions||(i.gsapVersions=[])).push(ee.version),J(l||i.GreenSockGlobals||!i.gsap&&i||{}),v=i.requestAnimationFrame),m&&y.sleep(),g=v||function(t){return setTimeout(t,1e3*(O-y.time)+1|0)},c=1,yj(2))},sleep:function sleep(){(v?i.cancelAnimationFrame:clearTimeout)(m),c=0,g=N},lagSmoothing:function lagSmoothing(t,e){w=t||1e8,T=Math.min(e,w,0)},fps:function fps(t){A=1/(t||60),O=y.time+A},add:function add(t){P.indexOf(t)<0&&P.push(t),Mt()},remove:function remove(t){var e;~(e=P.indexOf(t))&&P.splice(e,1)},_listeners:P=[]}),Mt=function _wake(){return!c&&At.wake()},Ot={},Pt=/^[\d.\-M][\d.\-,\s]/,St=/["']/g,Ct=function _invertEase(e){return function(t){return 1-e(1-t)}},Dt=function _parseEase(t,e){return t&&(o(t)?t:Ot[t]||ob(t))||e};function yj(e){var t,r,n=b()-k,i=!0===e;w<n&&(x+=n-T),k+=n,y.time=(k-x)/1e3,(0<(t=y.time-O)||i)&&(y.frame++,O+=t+(A<=t?.004:A-t),r=1),i||(m=g(yj)),r&&P.forEach(function(t){return t(y.time,n,y.frame,e)})}function Rk(t){return t<C?S*t*t:t<.7272727272727273?S*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?S*(t-=2.25/2.75)*t+.9375:S*Math.pow(t-2.625/2.75,2)+.984375}Z("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;rb(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},function(t){return 1-Math.pow(1-t,r)},function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2})}),Ot.Linear.easeNone=Ot.none=Ot.Linear.easeIn,rb("Elastic",tb("in"),tb("out"),tb()),S=7.5625,C=1/2.75,rb("Bounce",function(t){return 1-Rk(1-t)},Rk),rb("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),rb("Circ",function(t){return-(j(1-t*t)-1)}),rb("Sine",function(t){return 1-V(t*z)}),rb("Back",ub("in"),ub("out"),ub()),Ot.SteppedEase=Ot.steps=at.SteppedEase={config:function config(t,e){void 0===t&&(t=1);var r=1/t,n=t+(e?0:1),i=e?1:0;return function(t){return((n*mt(0,.99999999,t)|0)+i)*r}}},E.ease=Ot["quad.out"];var Bt,Ft=function GSCache(t,e){this.id=I++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:Y,this.set=e?e.getSetter:jt},Rt=((Bt=Animation.prototype).delay=function delay(t){return t||0===t?(this._delay=t,this):this._delay},Bt.duration=function duration(t){var e=arguments.length,r=this._repeat,n=0<r?r*((e?t:this._dur)+this._rDelay):0;return e?this.totalDuration(r<0?t:t+n):this.totalDuration()&&this._dur},Bt.totalDuration=function totalDuration(t){if(!arguments.length)return this._tDur;var e=this._repeat,r=(t||this._rDelay)&&e<0;return this._tDur=r?1e20:t,this._dur=r?t:(t-e*this._rDelay)/(e+1),this._dirty=0,pa(this.parent),this},Bt.totalTime=function totalTime(t,e){if(Mt(),!arguments.length)return this._tTime;var r,n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(r=this._start,this._start=n._time-(0<this._ts?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts),this._end+=this._start-r,n._dirty||pa(n);n.parent;)n.parent._time!==n._start+(0<n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;this.parent||ua(this._dp,this,this._start-this._delay)}return this._tTime===t&&this._dur||ca(this,t,e),this},Bt.time=function time(t,e){return arguments.length?this.totalTime(t+sa(this),e):this._time},Bt.totalProgress=function totalProgress(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._tTime/this.totalDuration()},Bt.progress=function progress(t,e){return arguments.length?this.totalTime(this.duration()*t+sa(this),e):this.duration()?this._time/this._dur:this.ratio},Bt.iteration=function iteration(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?1+~~(this._tTime/r):1},Bt.timeScale=function timeScale(t){var e=this._ts;return arguments.length?e?(this._end=this._start+this._tDur/(this._ts=t||B),function _recacheAncestors(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this).totalTime(this._tTime,!0)):(this._pauseTS=t,this):e||this._pauseTS},Bt.paused=function paused(t){var e=!this._ts;return arguments.length?(e!==t&&(t?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS,t=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=B),this.totalTime(t,!0))),this):e},Bt.startTime=function startTime(t){return arguments.length?(this.parent&&this.parent._sort&&ua(this.parent,this,t-this._delay),this):this._start},Bt.endTime=function endTime(t){return this._start+(s(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},Bt.rawTime=function rawTime(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ta(e.rawTime(t),this):this._tTime:this._tTime},Bt.repeat=function repeat(t){return arguments.length?(this._repeat=t,ya(this)):this._repeat},Bt.repeatDelay=function repeatDelay(t){return arguments.length?(this._rDelay=t,ya(this)):this._rDelay},Bt.yoyo=function yoyo(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Bt.seek=function seek(t,e){return this.totalTime(Aa(this,t),s(e))},Bt.restart=function restart(t,e){return this.play().totalTime(t?-this._delay:0,s(e))},Bt.play=function play(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Bt.reverse=function reverse(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Bt.pause=function pause(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Bt.resume=function resume(){return this.paused(!1)},Bt.reversed=function reversed(t){var e=this._ts||this._pauseTS;return arguments.length?(t!==this.reversed()&&(this[this._ts?"_ts":"_pauseTS"]=Math.abs(e)*(t?-1:1),this.totalTime(this._tTime,!0)),this):e<0},Bt.invalidate=function invalidate(){return this._initted=0,this},Bt.isActive=function isActive(){var t,e=this.parent||this._dp,r=this._start;return!e||this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-B},Bt.eventCallback=function eventCallback(t,e,r){var n=this.vars;return 1<arguments.length?(e?(n[t]=e,r&&(n[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},Bt.then=function then(e){var r=this;return void 0===e&&(e=N),new Promise(function(t){r._prom=function(){e(r),t()}})},Bt.kill=function kill(){Ya(this)},Animation);function Animation(t,e){var r=t.parent||R;this.vars=t,this._dur=this._tDur=+t.duration||0,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase,ya(this)),this._ts=1,this.data=t.data,c||At.wake(),r&&ua(r,this,e||0===e?e:r._time),t.reversed&&this.reversed(!0),t.paused&&this.paused(!0)}fa(Rt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-B,_prom:0});var Et=function(i){function Timeline(t,e){var r;return void 0===t&&(t={}),(r=i.call(this,t,e)||this).labels={},r.smoothChildTiming=s(t.smoothChildTiming),r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=s(t.sortChildren),r}_inheritsLoose(Timeline,i);var t=Timeline.prototype;return t.to=function to(t,e,r,n){return new Xt(t,aa(arguments,0,this),Aa(this,p(e)?n:r)),this},t.from=function from(t,e,r,n){return new Xt(t,aa(arguments,1,this),Aa(this,p(e)?n:r)),this},t.fromTo=function fromTo(t,e,r,n,i){return new Xt(t,aa(arguments,2,this),Aa(this,p(e)?i:n)),this},t.set=function set(t,e,r){return e.duration=0,e.parent=this,e.repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Xt(t,e,Aa(this,r)),this},t.call=function call(t,e,r){return ua(this,Xt.delayedCall(0,t,e),Aa(this,r))},t.staggerTo=function staggerTo(t,e,r,n,i,a,s){return r.duration=e,r.stagger=r.stagger||n,r.onComplete=a,r.onCompleteParams=s,r.parent=this,new Xt(t,r,Aa(this,i)),this},t.staggerFrom=function staggerFrom(t,e,r,n,i,a,o){return r.runBackwards=1,r.immediateRender=s(r.immediateRender),this.staggerTo(t,e,r,n,i,a,o)},t.staggerFromTo=function staggerFromTo(t,e,r,n,i,a,o,u){return n.startAt=r,n.immediateRender=s(n.immediateRender),this.staggerTo(t,e,n,i,a,o,u)},t.render=function render(t,e,r){var n,i,a,s,o,u,h,l,f,c,p,d=this._time,_=this._dirty?this.totalDuration():this._tDur,m=this._dur,g=_-B<t&&0<=t&&this!==R?_:t<B?0:t,v=this._zTime<0!=t<0&&this._initted;if(g!==this._tTime||r||v){if(v&&(m||(d=this._zTime),!t&&e||(this._zTime=t)),n=g,f=this._start,u=0===(l=this._ts),d!==this._time&&m&&(n+=this._time-d),this._repeat&&(p=this._yoyo,o=m+this._rDelay,(m<(n=$(g%o))||_===g)&&(n=m),(s=~~(g/o))&&s===g/o&&(n=m,s--),(c=~~(this._tTime/o))&&c===this._tTime/o&&c--,p&&1&s&&(n=m-n),s!==c&&!this._lock)){var y=p&&1&c,b=y===(p&&1&s);if(s<c&&(y=!y),d=y?0:m,this._lock=1,this.render(d,e,!m)._lock=0,!e&&this.parent&&bt(this,"onRepeat"),d!==this._time||u!=!this._ts)return this;if(b&&(this._lock=2,d=y?m+1e-4:-1e-4,this.render(d,!0)),this._lock=0,!this._ts&&!u)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function _findNextPauseTween(t,e,r){var n;if(e<r)for(n=t._first;n&&n._start<=r;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=r;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,$(d),$(n)))&&(g-=n-(n=h._start)),this._tTime=g,this._time=n,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),d||!n||e||bt(this,"onStart"),d<=n&&0<=t)for(i=this._first;i;){if(a=i._next,(i._act||n>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(0<i._ts?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!u){h=0;break}}i=a}else{i=this._last;for(var w=t<0?t:n;i;){if(a=i._prev,(i._act||w<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(0<i._ts?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!u){h=0;break}}i=a}}if(h&&!e&&(this.pause(),h.render(d<=n?0:-B)._zTime=d<=n?1:-1,this._ts))return this._start=f,this.render(t,e,r);this._onUpdate&&!e&&bt(this,"onUpdate",!0),(g===_||!g&&this._ts<0)&&(f!==this._start&&Math.abs(l)===Math.abs(this._ts)||(!n||_>=this.totalDuration())&&(!t&&m||oa(this,1),e||t<0&&!d||(bt(this,g===_?"onComplete":"onReverseComplete",!0),this._prom&&g===_&&this._prom())))}return this},t.add=function add(t,e){var r=this;if(p(e)||(e=Aa(this,e)),!(t instanceof Rt)){if(G(t))return t.forEach(function(t){return r.add(t,e)}),pa(this);if(n(t))return this.addLabel(t,e);if(!o(t))return this;t=Xt.delayedCall(0,t)}return this!==t?ua(this,t,e):this},t.getChildren=function getChildren(t,e,r,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===n&&(n=-D);for(var i=[],a=this._first;a;)a._start>=n&&(a instanceof Xt?e&&i.push(a):(r&&i.push(a),t&&i.push.apply(i,a.getChildren(!0,e,r)))),a=a._next;return i},t.getById=function getById(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},t.remove=function remove(t){return n(t)?this.removeLabel(t):o(t)?this.killTweensOf(t):(na(this,t),t===this._recent&&(this._recent=this._last),pa(this))},t.totalTime=function totalTime(t,e){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=At.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts)),i.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},t.addLabel=function addLabel(t,e){return this.labels[t]=Aa(this,e),this},t.removeLabel=function removeLabel(t){return delete this.labels[t],this},t.addPause=function addPause(t,e,r){var n=Xt.delayedCall(0,e||N,r);return n.data="isPause",this._hasPause=1,ua(this,n,Aa(this,t))},t.removePause=function removePause(t){var e=this._first;for(t=Aa(this,t);e;)e._start===t&&"isPause"===e.data&&oa(e),e=e._next},t.killTweensOf=function killTweensOf(t,e,r){for(var n=this.getTweensOf(t,r),i=n.length;i--;)n[i].kill(t,e);return this},t.getTweensOf=function getTweensOf(t,e){for(var r,n=[],i=vt(t),a=this._first;a;)a instanceof Xt?!_(a._targets,i)||e&&!a.isActive()||n.push(a):(r=a.getTweensOf(i,e)).length&&n.push.apply(n,r),a=a._next;return n},t.tweenTo=function tweenTo(t,e){var r=this,n=Aa(r,t),i=e&&e.startAt,a=Xt.to(r,fa({ease:"none",lazy:!1,time:n,duration:Math.abs(n-(i&&"time"in i?i.time:r._time))/r.timeScale()||B,onStart:function onStart(){r.pause();var t=Math.abs(n-r._time)/r.timeScale();a._dur!==t&&(a._dur=t,a.render(a._time,!0,!0)),e&&e.onStart&&e.onStart.apply(a,e.onStartParams||[])}},e));return a},t.tweenFromTo=function tweenFromTo(t,e,r){return this.tweenTo(e,fa({startAt:{time:Aa(this,t)}},r))},t.recent=function recent(){return this._recent},t.nextLabel=function nextLabel(t){return void 0===t&&(t=this._time),Wa(this,Aa(this,t))},t.previousLabel=function previousLabel(t){return void 0===t&&(t=this._time),Wa(this,Aa(this,t),1)},t.currentLabel=function currentLabel(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+B)},t.shiftChildren=function shiftChildren(t,e,r){void 0===r&&(r=0);for(var n,i=this._first,a=this.labels;i;)i._start>=r&&(i._start+=t),i=i._next;if(e)for(n in a)a[n]>=r&&(a[n]+=t);return pa(this)},t.invalidate=function invalidate(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return i.prototype.invalidate.call(this)},t.clear=function clear(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._time=this._tTime=0,t&&(this.labels={}),pa(this)},t.totalDuration=function totalDuration(t){var e,r,n=0,i=this,a=i._last,s=D,o=i._repeat,u=o*i._rDelay||0,h=o<0;if(arguments.length)return h?i:i.timeScale(i.totalDuration()/t);if(i._dirty){for(;a;)e=a._prev,a._dirty&&a.totalDuration(),a._start>s&&i._sort&&a._ts&&!i._lock?(i._lock=1,ua(i,a,a._start-a._delay),i._lock=0):s=a._start,a._start<0&&a._ts&&(n-=a._start,(!i.parent&&!i._dp||i.parent&&i.parent.smoothChildTiming)&&(i._start+=a._start/i._ts,i._time-=a._start,i._tTime-=a._start),i.shiftChildren(-a._start,!1,-D),s=0),n<(r=a._end=a._start+a._tDur/Math.abs(a._ts||a._pauseTS))&&a._ts&&(n=$(r)),a=e;i._dur=i===R&&i._time>n?i._time:Math.min(D,n),i._tDur=h&&(i._dur||u)?1e20:Math.min(D,n*(o+1)+u),i._end=i._start+(i._tDur/Math.abs(i._ts||i._pauseTS)||0),i._dirty=0}return i._tDur},Timeline.updateRoot=function updateRoot(t){if(R._ts&&ca(R,ta(t,R)),At.frame>=ft){ft+=U.autoSleep||120;var e=R._first;if((!e||!e._ts)&&U.autoSleep&&At._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||At.sleep()}}},Timeline}(Rt);fa(Et.prototype,{_lock:0,_hasPause:0,_forcing:0});function Bb(t,e,i,a,s,u){var h,l,f,c;if(ht[t]&&!1!==(h=new ht[t]).init(s,h.rawVars?e[t]:function _processVars(t,e,i,a,s){if(o(t)&&(t=Yt(t,s,e,i,a)),!r(t)||t.style&&t.nodeType||G(t))return n(t)?Yt(t,s,e,i,a):t;var u,h={};for(u in t)h[u]=Yt(t[u],s,e,i,a);return h}(e[t],a,s,u,i),i,a,u)&&(i._pt=l=new te(i._pt,s,t,0,1,h.render,h,0,h.priority),i!==d))for(f=i._ptLookup[i._targets.indexOf(s)],c=h._props.length;c--;)f[h._props[c]]=l;return h}var zt,Lt=function _addPropTween(t,e,r,i,a,s,u,h,l){o(i)&&(i=i(a||0,t,s));var f,c=t[e],p="get"!==r?r:o(c)?l?t[e.indexOf("set")||!o(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():c,d=o(c)?l?qt:Ut:Zt;if(n(i)&&(~i.indexOf("random(")&&(i=Ta(i)),"="===i.charAt(1)&&(i=parseFloat(p)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+Da(p))),p!==i)return isNaN(p+i)?(c||e in t||K(e,i),function _addComplexStringPropTween(t,e,r,n,i,a,s){var o,u,h,l,f,c,p,d,_=new te(this._pt,t,e,0,1,Wt,null,i),m=0,g=0;for(_.b=r,_.e=n,r+="",(p=~(n+="").indexOf("random("))&&(n=Ta(n)),a&&(a(d=[r,n],t,e),r=d[0],n=d[1]),u=r.match(et)||[];o=et.exec(n);)l=o[0],f=n.substring(m,o.index),h?h=(h+1)%5:"rgba("===f.substr(-5)&&(h=1),l!==u[g++]&&(c=parseFloat(u[g-1]),_._pt={_next:_._pt,p:f||1===g?f:",",s:c,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-c,m:h&&h<4?Math.round:0},m=et.lastIndex);return _.c=m<n.length?n.substring(m,n.length):"",_.fp=s,(nt.test(n)||p)&&(_.e=0),this._pt=_}.call(this,t,e,p,i,d,h||U.stringFilter,l)):(f=new te(this._pt,t,e,+p||0,i-(p||0),"boolean"==typeof c?Qt:Vt,0,d),l&&(f.fp=l),u&&f.modifier(u,this,t),this._pt=f)},It=function _initTween(t,e){var r,n,i,a,o,u,h,l,f,c,p,d,_=t.vars,m=_.ease,g=_.startAt,v=_.immediateRender,y=_.lazy,b=_.onUpdate,w=_.onUpdateParams,T=_.callbackScope,x=_.runBackwards,k=_.yoyoEase,A=_.keyframes,M=_.autoRevert,O=t._dur,P=t._startAt,S=t._targets,C=t.parent,D=C&&"nested"===C.data?C.parent._targets:S,B="auto"===t._overwrite,F=t.timeline;if(!F||A&&m||(m="none"),t._ease=Dt(m,E.ease),t._yEase=k?Ct(Dt(!0===k?m:k,E.ease)):0,k&&t._yoyo&&!t._repeat&&(k=t._yEase,t._yEase=t._ease,t._ease=k),!F){if(P&&P.render(-1,!0).kill(),g){if(oa(t._startAt=Xt.set(S,fa({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:s(y),startAt:null,delay:0,onUpdate:b,onUpdateParams:w,callbackScope:T,stagger:0},g))),v)if(0<e)M||(t._startAt=0);else if(O)return}else if(x&&O)if(P)M||(t._startAt=0);else if(e&&(v=!1),oa(t._startAt=Xt.set(S,dt(ja(_,st),{overwrite:!1,data:"isFromStart",lazy:v&&s(y),immediateRender:v,stagger:0,parent:C}))),v){if(!e)return}else _initTween(t._startAt,e),v&&(M||(t._startAt=0));for(r=ja(_,st),d=(l=S[t._pt=0]?X(S[0]).harness:0)&&_[l.prop],n=0;n<S.length;n++){if(h=(o=S[n])._gsap||W(S)[n]._gsap,t._ptLookup[n]=c={},ut[h.id]&&ba(),p=D===S?n:D.indexOf(o),l&&!1!==(f=new l).init(o,d||r,t,p,D)&&(t._pt=a=new te(t._pt,o,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(t){c[t]=a}),f.priority&&(u=1)),!l||d)for(i in r)ht[i]&&(f=Bb(i,r,t,p,o,D))?f.priority&&(u=1):c[i]=a=Lt.call(t,o,i,"get",r[i],p,D,0,_.stringFilter);t._op&&t._op[n]&&t.kill(o,t._op[n]),B&&(zt=t,R.killTweensOf(o,c,!0),zt=0),t._pt&&(s(y)&&O||y&&!O)&&(ut[h.id]=1)}u&&Ht(t),t._onInit&&t._onInit(t)}t._from=!F&&!!_.runBackwards,t._onUpdate=b,t._initted=1},Yt=function _parseFuncOrString(t,e,r,i,a){return o(t)?t.call(e,r,i,a):n(t)&&~t.indexOf("random(")?Ta(t):t},Nt=pt+",repeat,repeatDelay,yoyo,yoyoEase",$t=(Nt+",id,stagger,delay,duration").split(","),Xt=function(k){function Tween(t,e,n){var i;"number"==typeof e&&(n.duration=e,e=n,n=null);var a,o,h,l,f,c,p,d,_=(i=k.call(this,function _inheritDefaults(t){var e=t.parent||R,r=t.keyframes?ga:fa;if(s(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent;return t}(e),n)||this).vars,m=_.duration,g=_.delay,v=_.immediateRender,y=_.stagger,b=_.overwrite,w=_.keyframes,T=_.defaults,x=vt(t);if(i._targets=x.length?W(x):L("GSAP target "+t+" not found. https://greensock.com",!U.nullTargetWarn)||[{}],i._ptLookup=[],i._overwrite=b,w||y||u(m)||u(g)){if(e=i.vars,(a=i.timeline=new Et({data:"nested",defaults:T||{}})).kill(),a.parent=_assertThisInitialized(i),w)fa(a.vars.defaults,{ease:"none"}),w.forEach(function(t){return a.to(x,t,">")});else{if(l=x.length,p=y?Ja(y):N,r(y))for(f in y)~Nt.indexOf(f)&&((d=d||{})[f]=y[f]);for(o=0;o<l;o++){for(f in h={},e)$t.indexOf(f)<0&&(h[f]=e[f]);h.stagger=0,d&&dt(h,d),e.yoyoEase&&!e.repeat&&(h.yoyoEase=e.yoyoEase),c=x[o],h.duration=+Yt(m,_assertThisInitialized(i),o,c,x),h.delay=(+Yt(g,_assertThisInitialized(i),o,c,x)||0)-i._delay,!y&&1===l&&h.delay&&(i._delay=g=h.delay,i._start+=g,h.delay=0),a.to(c,h,p(o,c,x))}m=g=0}m||i.duration(m=a.duration())}else i.timeline=0;return!0===b&&(zt=_assertThisInitialized(i),R.killTweensOf(x),zt=0),(v||!m&&!w&&i._start===i.parent._time&&s(v)&&function _hasNoPausedAncestors(t){return!t||t._ts&&_hasNoPausedAncestors(t.parent)}(_assertThisInitialized(i))&&"nested"!==i.parent.data)&&(i._tTime=-B,i.render(Math.max(0,-g))),i}_inheritsLoose(Tween,k);var t=Tween.prototype;return t.render=function render(t,e,r){var n,i,a,s,o,u,h,l,f,c=this._time,p=this._tDur,d=this._dur,_=p-B<t&&0<=t?p:t<B?0:t;if(d){if(_!==this._tTime||r||this._startAt&&this._zTime<0!=t<0){if(n=_,l=this.timeline,this._repeat){if(s=d+this._rDelay,d<(n=$(_%s))&&(n=d),(a=~~(_/s))&&a===_/s&&(n=d,a--),(u=this._yoyo&&1&a)&&(f=this._yEase,n=d-n),(o=~~(this._tTime/s))&&o===this._tTime/s&&o--,n===c&&!r)return this;a!==o&&this.vars.repeatRefresh&&!this._lock&&(this._lock=1,this.render(s*a,!0).invalidate()._lock=0)}if(!this._initted&&va(this,n,r,e))return this;for(this._tTime=_,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(f||this._ease)(n/d),this._from&&(this.ratio=h=1-h),c||!n||e||bt(this,"onStart"),i=this._pt;i;)i.r(h,i.d),i=i._next;l&&l.render(t<0?t:!n&&u?-B:l._dur*h,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),bt(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!e&&this.parent&&bt(this,"onRepeat"),_!==p&&_||this._tTime!==_||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,r),!t&&d||!(_||this._ts<0)||oa(this,1),e||t<0&&!c||(bt(this,_===p?"onComplete":"onReverseComplete",!0),this._prom&&_===p&&this._prom()))}}else!function _renderZeroDurationTween(t,e,r,n){var i,a,s,o=t._zTime<0?0:1,u=e<0?0:1,h=t._rDelay,l=0;if(h&&t._repeat&&((a=~~((l=mt(0,t._tDur,e))/h))&&a===l/h&&a--,(s=~~(t._tTime/h))&&s===t._tTime/h&&s--,a!==s&&(o=1-u,t.vars.repeatRefresh&&t.invalidate())),(t._initted||!va(t,e,n,r))&&(u!==o||n)){for(r&&!e||(t._zTime=e),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=l,r||bt(t,"onStart"),i=t._pt;i;)i.r(u,i.d),i=i._next;!u&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,n),t._onUpdate&&!r&&bt(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&bt(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(t.ratio&&oa(t,1),r||(bt(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t.ratio&&t._prom()))}}(this,t,e,r);return this},t.targets=function targets(){return this._targets},t.invalidate=function invalidate(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),k.prototype.invalidate.call(this)},t.kill=function kill(t,e){if(void 0===e&&(e="all"),zt===this)return zt;if(!(t||e&&"all"!==e)&&this.parent)return this._lazy=0,Ya(this);if(this.timeline)return this.timeline.killTweensOf(t,e),this;var r,i,a,s,o,u,h,l=this._targets,f=t?vt(t):l,c=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function _arraysMatch(t,e){for(var r=t.length,n=r===e.length;n&&r--&&t[r]===e[r];);return r<0}(l,f))return Ya(this);for(r=this._op=this._op||[],"all"!==e&&(n(e)&&(o={},Z(e,function(t){return o[t]=1}),e=o),e=function _addAliasesToVars(t,e){var r,n,i,a,s=t[0]?X(t[0]).harness:0,o=s&&s.aliases;if(!o)return e;for(n in r=dt({},e),o)if(n in r)for(i=(a=o[n].split(",")).length;i--;)r[a[i]]=r[n];return r}(l,e)),h=l.length;h--;)if(~f.indexOf(l[h]))for(o in i=c[h],"all"===e?(r[h]=e,s=i,a={}):(a=r[h]=r[h]||{},s=e),s)(u=i&&i[o])&&("kill"in u.d&&!0!==u.d.kill(o)||(na(this,u,"_pt"),delete i[o])),"all"!==a&&(a[o]=1);return this._initted&&!this._pt&&p&&Ya(this),this},Tween.to=function to(t,e,r){return new Tween(t,e,r)},Tween.from=function from(t,e){return new Tween(t,aa(arguments,1))},Tween.delayedCall=function delayedCall(t,e,r,n){return new Tween(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:n})},Tween.fromTo=function fromTo(t,e,r){return new Tween(t,aa(arguments,2))},Tween.set=function set(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new Tween(t,e)},Tween.killTweensOf=function killTweensOf(t,e,r){return R.killTweensOf(t,e,r)},Tween}(Rt);fa(Xt.prototype,{_targets:[],_initted:0,_lazy:0,_startAt:0,_op:0,_onInit:0}),Z("staggerTo,staggerFrom,staggerFromTo",function(r){Xt[r]=function(){var t=new Et,e=vt(arguments);return e.splice("staggerFromTo"===r?5:4,0,0),t[r].apply(t,e)}});function Mb(t,e,r){return t.setAttribute(e,r)}function Ub(t,e,r,n){n.mSet(t,e,n.m.call(n.tween,r,n.mt),n)}var Zt=function _setterPlain(t,e,r){return t[e]=r},Ut=function _setterFunc(t,e,r){return t[e](r)},qt=function _setterFuncWithParam(t,e,r,n){return t[e](n.fp,r)},jt=function _getSetter(t,e){return o(t[e])?Ut:q(t[e])&&t.setAttribute?Mb:Zt},Vt=function _renderPlain(t,e){return e.set(e.t,e.p,~~(1e4*(e.s+e.c*t))/1e4,e)},Qt=function _renderBoolean(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Wt=function _renderComplexString(t,e){var r=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*t):~~(1e4*(r.s+r.c*t))/1e4)+n,r=r._next;n+=e.c}e.set(e.t,e.p,n,e)},Gt=function _renderPropTweens(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},Jt=function _addPluginModifier(t,e,r,n){for(var i,a=this._pt;a;)i=a._next,a.p===n&&a.modifier(t,e,r),a=i},Kt=function _killPropTweensOf(t){for(var e,r,n=this._pt;n;)r=n._next,n.p===t&&!n.op||n.op===t?na(this,n,"_pt"):n.dep||(e=1),n=r;return!e},Ht=function _sortPropTweensByPriority(t){for(var e,r,n,i,a=t._pt;a;){for(e=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:i)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:i=a,a=e}t._pt=n},te=(PropTween.prototype.modifier=function modifier(t,e,r){this.mSet=this.mSet||this.set,this.set=Ub,this.m=t,this.mt=r,this.tween=e},PropTween);function PropTween(t,e,r,n,i,a,s,o,u){this.t=e,this.s=n,this.c=i,this.p=r,this.r=a||Vt,this.d=s||this,this.set=o||Zt,this.pr=u||0,(this._next=t)&&(t._prev=this)}Z(pt+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(t){st[t]=1,"on"===t.substr(0,2)&&(st[t+"Params"]=1)}),at.TweenMax=at.TweenLite=Xt,at.TimelineLite=at.TimelineMax=Et,R=new Et({sortChildren:!1,defaults:E,autoRemoveChildren:!0,id:"root"}),U.stringFilter=gb;var ee={registerPlugin:function registerPlugin(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach(function(t){return function _createPlugin(t){var e=(t=!t.name&&t.default||t).name,r=o(t),n=e&&!r&&t.init?function(){this._props=[]}:t,i={init:N,render:Gt,add:Lt,kill:Kt,modifier:Jt,rawVars:0},a={targetTest:0,get:0,getSetter:jt,aliases:{},register:0};if(Mt(),t!==n){if(ht[e])return;fa(n,fa(ja(t,i),a)),dt(n.prototype,dt(i,ja(t,a))),ht[n.prop=e]=n,t.targetTest&&(ct.push(n),st[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}M(e,n),t.register&&t.register(ee,n,te)}(t)})},timeline:function timeline(t){return new Et(t)},getTweensOf:function getTweensOf(t,e){return R.getTweensOf(t,e)},getProperty:function getProperty(i,t,e,r){n(i)&&(i=vt(i)[0]);var a=X(i||{}).get,s=e?ea:da;return"native"===e&&(e=""),i?t?s((ht[t]&&ht[t].get||a)(i,t,e,r)):function(t,e,r){return s((ht[t]&&ht[t].get||a)(i,t,e,r))}:i},quickSetter:function quickSetter(r,e,n){if(1<(r=vt(r)).length){var i=r.map(function(t){return ee.quickSetter(t,e,n)}),a=i.length;return function(t){for(var e=a;e--;)i[e](t)}}r=r[0]||{};var s=ht[e],o=X(r),u=s?function(t){var e=new s;d._pt=0,e.init(r,n?t+n:t,d,0,[r]),e.render(1,e),d._pt&&Gt(1,d)}:o.set(r,e);return s?u:function(t){return u(r,e,n?t+n:t,o,1)}},isTweening:function isTweening(t){return 0<R.getTweensOf(t,!0).length},defaults:function defaults(t){return t&&t.ease&&(t.ease=Dt(t.ease,E.ease)),ia(E,t||{})},config:function config(t){return ia(U,t||{})},registerEffect:function registerEffect(t){var i=t.name,n=t.effect,e=t.plugins,a=t.defaults,s=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!ht[t]&&!at[t]&&L(i+" effect requires "+t+" plugin.")}),lt[i]=function(t,e){return n(vt(t),fa(e||{},a))},s&&(Et.prototype[i]=function(t,e,n){return this.add(lt[i](t,r(e)?e:(n=e)&&{}),n)})},registerEase:function registerEase(t,e){Ot[t]=Dt(e)},parseEase:function parseEase(t,e){return arguments.length?Dt(t,e):Ot},getById:function getById(t){return R.getById(t)},exportRoot:function exportRoot(t,e){void 0===t&&(t={});var r,n,i=new Et(t);for(i.smoothChildTiming=s(t.smoothChildTiming),R.remove(i),i._dp=0,i._time=i._tTime=R._time,r=R._first;r;)n=r._next,!e&&!r._dur&&r instanceof Xt&&r.vars.onComplete===r._targets[0]||ua(i,r,r._start-r._delay),r=n;return ua(R,i,0),i},utils:{wrap:function wrap(e,t,r){var n=t-e;return G(e)?Qa(e,wrap(0,e.length),t):Ba(r,function(t){return(n+(t-e)%n)%n+e})},wrapYoyo:function wrapYoyo(e,t,r){var n=t-e,i=2*n;return G(e)?Qa(e,wrapYoyo(0,e.length-1),t):Ba(r,function(t){return e+(n<(t=(i+(t-e)%i)%i)?i-t:t)})},distribute:Ja,random:Ma,snap:La,normalize:function normalize(t,e,r){return yt(t,e,0,1,r)},getUnit:Da,clamp:function clamp(e,r,t){return Ba(t,function(t){return mt(e,r,t)})},splitColor:cb,toArray:vt,mapRange:yt,pipe:function pipe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function unitize(e,r){return function(t){return e(parseFloat(t))+(r||Da(t))}},interpolate:function interpolate(e,r,t,i){var a=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!a){var s,o,u,h,l,f=n(e),c={};if(!0===t&&(i=1)&&(t=null),f)e={p:e},r={p:r};else if(G(e)&&!G(r)){for(u=[],h=e.length,l=h-2,o=1;o<h;o++)u.push(interpolate(e[o-1],e[o]));h--,a=function func(t){t*=h;var e=Math.min(l,~~t);return u[e](t-e)},t=r}else i||(e=dt(G(e)?[]:{},e));if(!u){for(s in r)Lt.call(c,e,s,"get",r[s]);a=function func(t){return Gt(t,c)||(f?e.p:e)}}}return Ba(t,a)}},install:J,effects:lt,ticker:At,updateRoot:Et.updateRoot,plugins:ht,globalTimeline:R,core:{PropTween:te,globals:M,Tween:Xt,Timeline:Et,Animation:Rt,getCache:X}};Z("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ee[t]=Xt[t]}),At.add(Et.updateRoot),d=ee.to({},{duration:0});function Zb(t,a){return{name:t,rawVars:1,init:function init(t,i,e){e._onInit=function(t){var e,r;if(n(i)&&(e={},Z(i,function(t){return e[t]=1}),i=e),a){for(r in e={},i)e[r]=a(i[r]);i=e}!function _addModifiers(t,e){var r,n,i,a=t._targets;for(r in e)for(n=a.length;n--;)(i=t._ptLookup[n][r])&&i.d.modifier&&i.d.modifier(e[r],t,a[n],r)}(t,i)}}}}ee.registerPlugin({name:"attr",init:function init(t,e,r,n,i){for(var a in e)this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],n,i,0,0,a),this._props.push(a)}},{name:"endArray",init:function init(t,e){for(var r=e.length;r--;)this.add(t,r,t[r],e[r])}},Zb("roundProps",Ka),Zb("modifiers"),Zb("snap",La)),Xt.version=Et.version=ee.version="3.0.1",f=1,t()&&Mt();function Ic(t,e){return e.set(e.t,e.p,~~(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Jc(t,e){return e.set(e.t,e.p,1===t?e.e:~~(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Kc(t,e){return e.set(e.t,e.p,t?~~(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function Lc(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)}function Mc(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function Nc(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function Oc(t,e,r){return t.style[e]=r}function Pc(t,e,r){return t.style.setProperty(e,r)}function Qc(t,e,r){return t._gsap[e]=r}function Rc(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r}function Sc(t,e,r,n,i){var a=t._gsap;a.scaleX=a.scaleY=r,a.renderTransform(i,a)}function Tc(t,e,r,n,i){var a=t._gsap;a[e]=r,a.renderTransform(i,a)}function Xc(t,e){var r=ne.createElementNS?ne.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ne.createElement(t);return r.style?r:ne.createElement(t)}function Yc(t,e){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(Ee,"-$1").toLowerCase())||r.getPropertyValue(e)}function Zc(t,e){var r=(e||se).style,n=5,i="O,Moz,ms,Ms,Webkit".split(",");if(t in r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(i[n]+t in r););return n<0?null:(3===n?"ms":0<=n?i[n]:"")+t}function $c(){!function _windowExists(){return"undefined"!=typeof window}()||(re=window,ne=re.document,ie=ne.documentElement,se=Xc("div")||{style:{}},oe=Xc("div"),Ne=Zc(Ne),$e=Zc($e),se.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",he=!!Zc("perspective"),ae=1)}function ad(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])}function bd(e){var r;try{r=e.getBBox()}catch(t){r=function _getBBoxHack(t){var e,r=Xc("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,a=this.style.cssText;if(ie.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=_getBBoxHack}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i?n.insertBefore(this,i):n.appendChild(this),ie.removeChild(r),this.style.cssText=a,e}.call(e,!0)}return!r||r.width||r.x||r.y?r:{x:+ad(e,["x","cx","x1"]),y:+ad(e,["y","cy","y1"]),width:0,height:0}}function cd(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!bd(t))}function dd(t,e){if(e){var r=t.style;e in De&&(e=Ne),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(Ee,"-$1").toLowerCase())):r.removeAttribute(e)}}function ed(t,e,r,n,i,a){var s=new te(t._pt,e,r,0,1,a?Nc:Mc);return(t._pt=s).b=n,s.e=i,t._props.push(r),s}function gd(t,e,r,n){var i,a,s,o,u=parseFloat(r),h=(r+"").substr((u+"").length)||"px",l=se.style,f=Le.test(e),c="svg"===t.tagName.toLowerCase(),p=(c?"client":"offset")+(f?"Width":"Height"),d="px"===n;return n===h||Xe[n]||Xe[h]?u:(o=t.getCTM&&cd(t),"%"===n&&De[e]?$(u/(o?t.getBBox()[f?"width":"height"]:t[p])*100):(l[f?"width":"height"]=100+(d?h:n),a="em"===n&&t.appendChild&&!c?t:t.parentNode,o&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==ne&&a.appendChild||(a=ne.body),(s=a._gsap)&&"%"===n&&s.width&&f&&s.time===At.time?i=s.width*u/100:(a.appendChild(se),i=se[p],a.removeChild(se),f&&"%"===n&&((s=X(a)).time=At.time,s.width=i/u*100)),$(d?i*u/100:100/i*u)))}function hd(t,e,r,n){var i;return ae||$c(),e in Ye&&~(e=Ye[e]).indexOf(",")&&(e=e.split(",")[0]),De[e]?(i=Ve(t,n),i="transformOrigin"!==e?i[e]:Qe(Yc(t,$e))+i.zOrigin+"px"):(i=t.style[e])&&"auto"!==i&&!n||(i=Yc(t,e)||Y(t,e)),r?gd(t,e,i,r)+r:i}function id(t,e,r,n){var i,a,s,o,u,h,l,f,c,p,d,_,m=new te(this._pt,t.style,e,0,1,Wt),g=0,v=0;if(m.b=r,m.e=n,r+="","auto"===(n+="")&&(t.style[e]=n,n=Yc(t,e)||n,t.style[e]=r),gb(i=[r,n]),n=i[1],s=(r=i[0]).match(ze)||[],(n.match(ze)||[]).length){for(;a=ze.exec(n);)l=a[0],c=n.substring(g,a.index),u?u=(u+1)%5:"rgba("===c.substr(-5)&&(u=1),l!==(h=s[v++]||"")&&(o=parseFloat(h)||0,d=h.substr((o+"").length),(_="="===l.charAt(1)?+(l.charAt(0)+"1"):0)&&(l=l.substr(2)),f=parseFloat(l),p=l.substr((f+"").length),g=ze.lastIndex-p.length,p||(p=p||U.units[e]||d,g===n.length&&(n+=p,m.e+=p)),d!==p&&(o=gd(t,e,h,p)),m._pt={_next:m._pt,p:c||1===v?c:",",s:o,c:_?_*f:f-o,m:u&&u<4?Math.round:0});m.c=g<n.length?n.substring(g,n.length):""}else m.r="display"===e?Nc:Mc;return nt.test(n)&&(m.e=0),this._pt=m}function kd(t){var e=t.split(" "),r=e[0],n=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(e=r,r=n,n=e),e[0]=Ze[r]||r,e[1]=Ze[n]||n,e.join(" ")}function ld(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,n,i,a=e.t,s=a.style,o=e.u;if("all"===o||!0===o)s.cssText="",n=1;else for(i=(o=o.split(",")).length;-1<--i;)r=o[i],De[r]&&(n=1,r="transformOrigin"===r?$e:Ne),dd(a,r);n&&(dd(a,Ne),(n=a._gsap)&&(n.svg&&a.removeAttribute("transform"),delete n.x))}}function pd(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function qd(t){var e=Yc(t,Ne);return pd(e)?qe:e.substr(7).match(tt).map($)}function rd(t,e){var r,n,i,a,s=t._gsap,o=t.style,u=qd(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?qe:u:(u!==qe||t.offsetParent||t===ie||s.svg||(i=o.display,o.display="block",(r=t.parentNode)&&t.offsetParent||(a=1,n=t.nextSibling,ie.appendChild(t)),u=qd(t),i?o.display=i:dd(t,"display"),a&&(n?r.insertBefore(t,n):r?r.appendChild(t):ie.removeChild(t))),e&&6<u.length?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)}function sd(t,e,r,n,i,a){var s,o,u,h=t._gsap,l=i||rd(t,!0),f=h.xOrigin||0,c=h.yOrigin||0,p=h.xOffset||0,d=h.yOffset||0,_=l[0],m=l[1],g=l[2],v=l[3],y=l[4],b=l[5],w=e.split(" "),T=parseFloat(w[0])||0,x=parseFloat(w[1])||0;r?l!==qe&&(o=_*v-m*g)&&(u=T*(-m/o)+x*(_/o)-(_*b-m*y)/o,T=T*(v/o)+x*(-g/o)+(g*b-v*y)/o,x=u):(T=(s=bd(t)).x+(~w[0].indexOf("%")?T/100*s.width:T),x=s.y+(~(w[1]||w[0]).indexOf("%")?x/100*s.height:x)),n||!1!==n&&h.smooth?(y=T-f,b=x-c,h.xOffset+=y*_+b*g-y,h.yOffset+=y*m+b*v-b):h.xOffset=h.yOffset=0,h.xOrigin=T,h.yOrigin=x,h.smooth=!!n,h.origin=e,h.originIsAbsolute=!!r,a&&(ed(a,h,"xOrigin",f,T),ed(a,h,"yOrigin",c,x),ed(a,h,"xOffset",p,h.xOffset),ed(a,h,"yOffset",d,h.yOffset))}function vd(t,e,r){var n=Da(e);return $(parseFloat(e)+parseFloat(gd(t,"x",r+"px",n)))+n}function Cd(t,e,r,i,a,s){var o,u,h=360,l=n(a),f=parseFloat(a)*(l&&~a.indexOf("rad")?Be:1),c=s?f*s:f-i,p=i+c+"deg";return l&&("short"===(o=a.split("_")[1])&&(c%=h)!==c%180&&(c+=c<0?h:-h),"cw"===o&&c<0?c=(c+36e9)%h-~~(c/h)*h:"ccw"===o&&0<c&&(c=(c-36e9)%h-~~(c/h)*h)),t._pt=u=new te(t._pt,e,r,i,c,Jc),u.e=p,u.u="deg",t._props.push(r),u}function Dd(t,e,r){var n,i,a,s,o,u,h,l=oe.style,f=r._gsap;for(i in l.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",l[Ne]=e,ne.body.appendChild(oe),n=Ve(oe,1),De)(a=f[i])!==(s=n[i])&&"perspective"!==i&&(o=Da(a)!==(h=Da(s))?gd(r,i,a,h):parseFloat(a),u=parseFloat(s),t._pt=new te(t._pt,f,i,o,u-o,Ic),t._pt.u=h,t._props.push(i));ne.body.removeChild(oe)}var re,ne,ie,ae,se,oe,ue,he,le,fe,ce,pe=Ot.Power0,de=Ot.Power1,_e=Ot.Power2,me=Ot.Power3,ge=Ot.Power4,ve=Ot.Linear,ye=Ot.Quad,be=Ot.Cubic,we=Ot.Quart,Te=Ot.Quint,xe=Ot.Strong,ke=Ot.Elastic,Ae=Ot.Back,Me=Ot.SteppedEase,Oe=Ot.Bounce,Pe=Ot.Sine,Se=Ot.Expo,Ce=Ot.Circ,De={},Be=180/Math.PI,Fe=Math.PI/180,Re=Math.atan2,Ee=/([A-Z])/g,ze=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,Le=/(?:left|right|width|margin|padding|x)/i,Ie=/[\s,\(]\S/,Ye={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ne="transform",$e=Ne+"Origin",Xe={deg:1,rad:1,turn:1},Ze={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ue={clearProps:function clearProps(t,e,r,n,i){var a=t._pt=new te(t._pt,e,r,0,0,ld);return a.u=n,a.pr=-10,a.tween=i,t._props.push(r),1}},qe=[1,0,0,1,0,0],je={},Ve=function _parseTransform(t,e){var r=t._gsap||new Ft(t);if("x"in r&&!e)return r;var n,i,a,s,o,u,h,l,f,c,p,d,_,m,g,v,y,b,w,T,x,k,A,M,O,P,S,C,D,B,F=t.style,R=r.scaleX<0,E=r.xOrigin||0,z=r.yOrigin||0,L="deg",I=Yc(t,$e)||"0";return n=i=a=u=h=l=f=c=p=0,s=o=1,r.svg=!(!t.getCTM||!cd(t)),d=rd(t,r.svg),r.svg&&sd(t,I,r.originIsAbsolute,!1!==r.smooth,d),d!==qe&&(v=d[0],y=d[1],b=d[2],w=d[3],n=T=d[4],i=x=d[5],6===d.length?(s=Math.sqrt(v*v+y*y),o=Math.sqrt(w*w+b*b),u=v||y?Re(y,v)*Be:r.rotation||0,f=b||w?Re(b,w)*Be+u:r.skewX||0,r.svg&&(n-=E-(E*v+z*b),i-=z-(E*y+z*w))):(B=d[6],C=d[7],O=d[8],P=d[9],S=d[10],D=d[11],n=d[12],i=d[13],a=d[14],h=(_=Re(B,S))*Be,_&&(k=T*(m=Math.cos(-_))+O*(g=Math.sin(-_)),A=x*m+P*g,M=B*m+S*g,O=T*-g+O*m,P=x*-g+P*m,S=B*-g+S*m,D=C*-g+D*m,T=k,x=A,B=M),l=(_=Re(-b,S))*Be,_&&(m=Math.cos(-_),D=w*(g=Math.sin(-_))+D*m,v=k=v*m-O*g,y=A=y*m-P*g,b=M=b*m-S*g),u=(_=Re(y,v))*Be,_&&(k=v*(m=Math.cos(_))+y*(g=Math.sin(_)),A=T*m+x*g,y=y*m-v*g,x=x*m-T*g,v=k,T=A),h&&359.9<Math.abs(h)+Math.abs(u)&&(h=u=0,l=180-l),s=$(Math.sqrt(v*v+y*y+b*b)),o=$(Math.sqrt(x*x+B*B)),_=Re(T,x),f=2e-4<Math.abs(_)?_*Be:0,p=D?1/(D<0?-D:D):0),r.svg&&(d=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!pd(Yc(t,Ne)),d&&t.setAttribute("transform",d))),90<Math.abs(f)&&Math.abs(f)<270&&(R?(s*=-1,f+=u<=0?180:-180,u+=u<=0?180:-180):(o*=-1,f+=f<=0?180:-180)),r.x=((r.xPercent=n&&Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+"px",r.y=((r.yPercent=i&&Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",r.z=a+"px",r.scaleX=$(s),r.scaleY=$(o),r.rotation=$(u)+L,r.rotationX=$(h)+L,r.rotationY=$(l)+L,r.skewX=f+L,r.skewY=c+L,r.transformPerspective=p+"px",(r.zOrigin=parseFloat(I.split(" ")[2])||0)&&(F[$e]=Qe(I)),r.xOffset=r.yOffset=0,r.force3D=U.force3D,r.renderTransform=r.svg?tr:he?He:We,r},Qe=function _firstTwoOnly(t){return(t=t.split(" "))[0]+" "+t[1]},We=function _renderNon3DTransforms(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,He(t,e)},Ge="0deg",Je="0px",Ke=") ",He=function _renderCSSTransforms(t,e){var r=e||this,n=r.xPercent,i=r.yPercent,a=r.x,s=r.y,o=r.z,u=r.rotation,h=r.rotationY,l=r.rotationX,f=r.skewX,c=r.skewY,p=r.scaleX,d=r.scaleY,_=r.transformPerspective,m=r.force3D,g=r.target,v=r.zOrigin,y="",b="auto"===m&&t&&1!==t||!0===m;if(v&&(l!==Ge||h!==Ge)){var w,T=parseFloat(h)*Fe,x=Math.sin(T),k=Math.cos(T);T=parseFloat(l)*Fe,w=Math.cos(T),a=vd(g,a,x*w*-v),s=vd(g,s,-Math.sin(T)*-v),o=vd(g,o,k*w*-v+v)}(n||i)&&(y="translate("+n+"%, "+i+"%) "),!b&&a===Je&&s===Je&&o===Je||(y+=o!==Je||b?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+Ke),_!==Je&&(y+="perspective("+_+Ke),u!==Ge&&(y+="rotate("+u+Ke),h!==Ge&&(y+="rotateY("+h+Ke),l!==Ge&&(y+="rotateX("+l+Ke),f===Ge&&c===Ge||(y+="skew("+f+", "+c+Ke),1===p&&1===d||(y+="scale("+p+", "+d+Ke),g.style[Ne]=y||"translate(0, 0)"},tr=function _renderSVGTransforms(t,e){var r,n,i,a,s,o=e||this,u=o.xPercent,h=o.yPercent,l=o.x,f=o.y,c=o.rotation,p=o.skewX,d=o.skewY,_=o.scaleX,m=o.scaleY,g=o.target,v=o.xOrigin,y=o.yOrigin,b=o.xOffset,w=o.yOffset,T=o.forceCSS,x=parseFloat(l),k=parseFloat(f);c=parseFloat(c),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),c+=d),c||p?(c*=Fe,p*=Fe,r=Math.cos(c)*_,n=Math.sin(c)*_,i=Math.sin(c-p)*-m,a=Math.cos(c-p)*m,p&&(d*=Fe,s=Math.tan(p-d),i*=s=Math.sqrt(1+s*s),a*=s,d&&(s=Math.tan(d),r*=s=Math.sqrt(1+s*s),n*=s)),r=$(r),n=$(n),i=$(i),a=$(a)):(r=_,a=m,n=i=0),(x&&!~(l+"").indexOf("px")||k&&!~(f+"").indexOf("px"))&&(x=gd(g,"x",l,"px"),k=gd(g,"y",f,"px")),(v||y||b||w)&&(x=$(x+v-(v*r+y*i)+b),k=$(k+y-(v*n+y*a)+w)),(u||h)&&(s=g.getBBox(),x=$(x+u/100*s.width),k=$(k+h/100*s.height)),s="matrix("+r+","+n+","+i+","+a+","+x+","+k+")",g.setAttribute("transform",s),T&&(g.style[Ne]=s)},er={name:"css",register:$c,targetTest:function targetTest(t){return t.style&&t.nodeType},init:function init(t,e,r,n,i){var a,s,o,u,h,l,f,c,p,d,_,m,g,v,y,b=this._props,w=t.style;for(f in ae||$c(),e)if("autoRound"!==f&&(s=e[f],!ht[f]||!Bb(f,e,r,n,t,i)))if(l=Ue[f],"function"===(h=typeof s)&&(h=typeof(s=s.call(r,n,t,i))),"string"===h&&~s.indexOf("random(")&&(s=Ta(s)),l)l(this,t,f,s,r)&&(y=1);else if("--"===f.substr(0,2))this.add(w,"setProperty",getComputedStyle(t).getPropertyValue(f)+"",s+"",n,i,0,0,f);else{if(a=hd(t,f),u=parseFloat(a),(d="string"===h&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),o=parseFloat(s),f in Ye&&("autoAlpha"===f&&(1===u&&"hidden"===hd(t,"visibility")&&o&&(u=0),ed(this,w,"visibility",u?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==f&&~(f=Ye[f]).indexOf(",")&&(f=f.split(",")[0])),_=f in De){if(m||(g=t._gsap,v=!1!==e.smoothOrigin&&g.smooth,(m=this._pt=new te(this._pt,w,Ne,0,1,g.renderTransform,g)).dep=1),"scale"===f){this._pt=new te(this._pt,t,"scale",u,d?d*o:o-u,0,0,Rc),b.push("scale");continue}if("transformOrigin"===f){s=kd(s),g.svg?sd(t,s,0,v,0,this):((p=parseFloat(s.split(" ")[2]))!==g.zOrigin&&ed(this,g,"zOrigin",g.zOrigin,p),ed(this,w,f,Qe(a),Qe(s)));continue}if("svgOrigin"===f){sd(t,s,1,v,0,this);continue}if(f in je){Cd(this,g,f,u,s,d);continue}if("smoothOrigin"===f){ed(this,g,"smooth",g.smooth,s);continue}if("force3D"===f){g[f]=s;continue}if("transform"===f){Dd(this,s,t);continue}}if(_||(o||0===o)&&(u||0===u)&&!Ie.test(s)&&f in w)(c=(a+"").substr((u+"").length))!==(p=(s+"").substr((o+"").length)||(f in U.units?U.units[f]:c))&&(u=gd(t,f,a,p)),this._pt=new te(this._pt,_?g:w,f,u,d?d*o:o-u,"px"!==p||!1===e.autoRound||_?Ic:Lc),this._pt.u=p||0,c!==p&&(this._pt.b=a,this._pt.r=Kc);else if(f in w)id.call(this,t,f,a,s);else{if(!(f in t)){K("Invalid "+f+" tween "+s+". Missing plugin? gsap.registerPlugin()");continue}this.add(t,f,t[f],s,n,i)}b.push(f)}y&&Ht(this)},get:hd,aliases:Ye,getSetter:function getSetter(t,e,r){return e in De&&e!==$e&&(t._gsap.x||hd(t,"x"))?r&&ue===r?"scale"===e?Rc:Qc:(ue=r||{})&&("scale"===e?Sc:Tc):t.style&&!q(t.style[e])?Oc:~e.indexOf("-")?Pc:jt(t,e)}};ee.utils.checkPrefix=Zc,ce=Z((le="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(fe="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){De[t]=1}),Z(fe,function(t){U.units[t]="deg",je[t]=1}),Ye[ce[13]]=le+","+fe,Z("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");Ye[e[1]]=ce[e[0]]}),Z("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){U.units[t]="px"}),ee.registerPlugin(er);var rr=ee.registerPlugin(er)||ee;e.Back=Ae,e.Bounce=Oe,e.CSSPlugin=er,e.Circ=Ce,e.Cubic=be,e.Elastic=ke,e.Expo=Se,e.Linear=ve,e.Power0=pe,e.Power1=de,e.Power2=_e,e.Power3=me,e.Power4=ge,e.Quad=ye,e.Quart=we,e.Quint=Te,e.Sine=Pe,e.SteppedEase=Me,e.Strong=xe,e.TimelineLite=Et,e.TimelineMax=Et,e.TweenLite=Xt,e.TweenMax=Xt,e.default=rr,e.gsap=rr,Object.defineProperty(e,"__esModule",{value:!0})});
/*!
    * SplitText 3.0.0
    * https://greensock.com
    *
    * @license Copyright 2008-2019, GreenSock. All rights reserved.
    * Subject to the terms at https://greensock.com/standard-license or for
    * Club GreenSock members, the agreement issued with that membership.
    * @author: Jack Doyle, jack@greensock.com
 */
! function(D, u) {
    "object" == typeof exports && "undefined" != typeof module ? u(exports) : "function" == typeof define && define.amd ? define(["exports"], u) : u((D = D || self).window = D.window || {})
}(this, function(e) {
    "use strict";
    var v = /([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;
    function m() {
        return String.fromCharCode.apply(null, arguments)
    }
    function p(D) {
        return F.getComputedStyle(D)
    }
    function s(D, u) {
        var e;
        return d(D) ? D : "string" == (e = typeof D) && !u && D ? a.call(Q.querySelectorAll(D), 0) : D && "object" == e && "length" in D ? a.call(D, 0) : D ? [D] : []
    }
    function t(D) {
        return "absolute" === D.position || !0 === D.absolute
    }
    function u(D, u) {
        for (var e, t = u.length; - 1 < --t;)
            if (e = u[t], D.substr(0, e.length) === e) return e.length
    }
    function w(D, u) {
        void 0 === D && (D = "");
        var e = ~D.indexOf("++"),
            t = 1;
        return e && (D = D.split("++").join("")),
            function() {
                return "<" + u + " style='position:relative;display:inline-block;'" + (D ? " class='" + D + (e ? t++ : "") + "'>" : ">")
            }
    }
    function x(D, u, e) {
        var t = D.nodeType;
        if (1 === t || 9 === t || 11 === t)
            for (D = D.firstChild; D; D = D.nextSibling) x(D, u, e);
        else 3 !== t && 4 !== t || (D.nodeValue = D.nodeValue.split(u).join(e))
    }
    function y(D, u) {
        for (var e = u.length; - 1 < --e;) D.push(u[e])
    }
    function z(D, u, e) {
        for (var t; D && D !== u;) {
            if (t = D._next || D.nextSibling) return t.textContent.charAt(0) === e;
            D = D.parentNode || D._parent
        }
    }
    function A(D) {
        var u, e, t = s(D.childNodes),
            F = t.length;
        for (u = 0; u < F; u++)(e = t[u])._isSplit ? A(e) : (u && 3 === e.previousSibling.nodeType ? e.previousSibling.nodeValue += 3 === e.nodeType ? e.nodeValue : e.firstChild.nodeValue : 3 !== e.nodeType && D.insertBefore(e.firstChild, e), D.removeChild(e))
    }
    function B(D, u) {
        return parseFloat(u[D]) || 0
    }
    function C(D, u, e, F, C, i, n) {
        var E, s, r, o, l, d, a, h, f, c, g, m, v = p(D),
            w = B("paddingLeft", v),
            S = -999,
            b = B("borderBottomWidth", v) + B("borderTopWidth", v),
            _ = B("borderLeftWidth", v) + B("borderRightWidth", v),
            T = B("paddingTop", v) + B("paddingBottom", v),
            N = B("paddingLeft", v) + B("paddingRight", v),
            L = .2 * B("fontSize", v),
            O = v.textAlign,
            W = [],
            H = [],
            V = [],
            j = u.wordDelimiter || " ",
            M = u.tag ? u.tag : u.span ? "span" : "div",
            R = u.type || u.split || "chars,words,lines",
            k = C && ~R.indexOf("lines") ? [] : null,
            P = ~R.indexOf("words"),
            q = ~R.indexOf("chars"),
            G = t(u),
            I = u.linesClass,
            J = ~(I || "").indexOf("++"),
            K = [];
        for (J && (I = I.split("++").join("")), r = (s = D.getElementsByTagName("*")).length, l = [], E = 0; E < r; E++) l[E] = s[E];
        if (k || G)
            for (E = 0; E < r; E++)((d = (o = l[E]).parentNode === D) || G || q && !P) && (m = o.offsetTop, k && d && Math.abs(m - S) > L && ("BR" !== o.nodeName || 0 === E) && (a = [], k.push(a), S = m), G && (o._x = o.offsetLeft, o._y = m, o._w = o.offsetWidth, o._h = o.offsetHeight), k && ((o._isSplit && d || !q && d || P && d || !P && o.parentNode.parentNode === D && !o.parentNode._isSplit) && (a.push(o), o._x -= w, z(o, D, j) && (o._wordEnd = !0)), "BR" === o.nodeName && (o.nextSibling && "BR" === o.nextSibling.nodeName || 0 === E) && k.push([])));
        for (E = 0; E < r; E++) d = (o = l[E]).parentNode === D, "BR" !== o.nodeName ? (G && (f = o.style, P || d || (o._x += o.parentNode._x, o._y += o.parentNode._y), f.left = o._x + "px", f.top = o._y + "px", f.position = "absolute", f.display = "block", f.width = o._w + 1 + "px", f.height = o._h + "px"), !P && q ? o._isSplit ? (o._next = o.nextSibling, o.parentNode.appendChild(o)) : o.parentNode._isSplit ? (o._parent = o.parentNode, !o.previousSibling && o.firstChild && (o.firstChild._isFirst = !0), o.nextSibling && " " === o.nextSibling.textContent && !o.nextSibling.nextSibling && K.push(o.nextSibling), o._next = o.nextSibling && o.nextSibling._isFirst ? null : o.nextSibling, o.parentNode.removeChild(o), l.splice(E--, 1), r--) : d || (m = !o.nextSibling && z(o.parentNode, D, j), o.parentNode._parent && o.parentNode._parent.appendChild(o), m && o.parentNode.appendChild(Q.createTextNode(" ")), "span" === M && (o.style.display = "inline"), W.push(o)) : o.parentNode._isSplit && !o._isSplit && "" !== o.innerHTML ? H.push(o) : q && !o._isSplit && ("span" === M && (o.style.display = "inline"), W.push(o))) : k || G ? (o.parentNode && o.parentNode.removeChild(o), l.splice(E--, 1), r--) : P || D.appendChild(o);
        for (E = K.length; - 1 < --E;) K[E].parentNode.removeChild(K[E]);
        if (k) {
            for (G && (c = Q.createElement(M), D.appendChild(c), g = c.offsetWidth + "px", m = c.offsetParent === D ? 0 : D.offsetLeft, D.removeChild(c)), f = D.style.cssText, D.style.cssText = "display:none;"; D.firstChild;) D.removeChild(D.firstChild);
            for (h = " " === j && (!G || !P && !q), E = 0; E < k.length; E++) {
                for (a = k[E], (c = Q.createElement(M)).style.cssText = "display:block;text-align:" + O + ";position:" + (G ? "absolute;" : "relative;"), I && (c.className = I + (J ? E + 1 : "")), V.push(c), r = a.length, s = 0; s < r; s++) "BR" !== a[s].nodeName && (o = a[s], c.appendChild(o), h && o._wordEnd && c.appendChild(Q.createTextNode(" ")), G && (0 === s && (c.style.top = o._y + "px", c.style.left = w + m + "px"), o.style.top = "0px", m && (o.style.left = o._x - m + "px")));
                0 === r ? c.innerHTML = "&nbsp;" : P || q || (A(c), x(c, String.fromCharCode(160), " ")), G && (c.style.width = g, c.style.height = o._h + "px"), D.appendChild(c)
            }
            D.style.cssText = f
        }
        G && (n > D.clientHeight && (D.style.height = n - T + "px", D.clientHeight < n && (D.style.height = n + b + "px")), i > D.clientWidth && (D.style.width = i - N + "px", D.clientWidth < i && (D.style.width = i + _ + "px"))), y(e, W), P && y(F, H), y(C, V)
    }
    function D(D, e, F, C) {
        var i, n, E, s, r, o, l, d, p = e.tag ? e.tag : e.span ? "span" : "div",
            a = ~(e.type || e.split || "chars,words,lines").indexOf("chars"),
            h = t(e),
            B = e.wordDelimiter || " ",
            f = " " !== B ? "" : h ? "&#173; " : " ",
            A = "</" + p + ">",
            c = 1,
            g = e.specialChars ? "function" == typeof e.specialChars ? e.specialChars : u : null,
            y = Q.createElement("div"),
            m = D.parentNode;
        for (m.insertBefore(y, D), y.textContent = D.nodeValue, m.removeChild(D), l = -1 !== (i = function getText(D) {
                var u = D.nodeType,
                    e = "";
                if (1 === u || 9 === u || 11 === u) {
                    if ("string" == typeof D.textContent) return D.textContent;
                    for (D = D.firstChild; D; D = D.nextSibling) e += getText(D)
                } else if (3 === u || 4 === u) return D.nodeValue;
                return e
            }(D = y)).indexOf("<"), !1 !== e.reduceWhiteSpace && (i = i.replace(b, " ").replace(S, "")), l && (i = i.split("<").join("{{LT}}")), r = i.length, n = (" " === i.charAt(0) ? f : "") + F(), E = 0; E < r; E++)
            if (o = i.charAt(E), g && (d = g(i.substr(E), e.specialChars))) o = i.substr(E, d || 1), n += a && " " !== o ? C() + o + "</" + p + ">" : o, E += d - 1;
            else if (o === B && i.charAt(E - 1) !== B && E) {
            for (n += c ? A : "", c = 0; i.charAt(E + 1) === B;) n += f, E++;
            E === r - 1 ? n += f : ")" !== i.charAt(E + 1) && (n += f + F(), c = 1)
        } else "{" === o && "{{LT}}" === i.substr(E, 6) ? (n += a ? C() + "{{LT}}</" + p + ">" : "{{LT}}", E += 5) : 55296 <= o.charCodeAt(0) && o.charCodeAt(0) <= 56319 || 65024 <= i.charCodeAt(E + 1) && i.charCodeAt(E + 1) <= 65039 ? (s = ((i.substr(E, 12).split(v) || [])[1] || "").length || 2, n += a && " " !== o ? C() + i.substr(E, s) + "</" + p + ">" : i.substr(E, s), E += s - 1) : n += a && " " !== o ? C() + o + "</" + p + ">" : o;
        D.outerHTML = n + (c ? A : ""), l && x(m, "{{LT}}", "<")
    }
    function E(u, e, F, C) {
        var i, n, r = s(u.childNodes),
            o = r.length,
            l = t(e);
        if (3 !== u.nodeType || 1 < o) {
            for (e.absolute = !1, i = 0; i < o; i++) 3 === (n = r[i]).nodeType && !/\S+/.test(n.nodeValue) || (l && 3 !== n.nodeType && "inline" === p(n).display && (n.style.display = "inline-block", n.style.position = "relative"), n._isSplit = !0, E(n, e, F, C));
            return e.absolute = l, void(u._isSplit = !0)
        }
        D(u, e, F, C)
    }
    var Q, F, i, n, S = /(?:\r|\n|\t\t)/g,
        b = /(?:\s\s+)/g,
        r = "SplitText",
        o = m(103, 114, 101, 101, 110, 115, 111, 99, 107, 46, 99, 111, 109),
        l = function(D) {
            for (var u = 0 === (window ? window.location.href : "").indexOf(m(102, 105, 108, 101, 58, 47, 47)) || -1 !== D.indexOf(m(108, 111, 99, 97, 108, 104, 111, 115, 116)) || -1 !== D.indexOf(m(49, 50, 55, 46, 48, 32, 48, 46, 49)), e = [o, m(99, 111, 100, 101, 112, 101, 110, 46, 105, 111), m(99, 111, 100, 101, 112, 101, 110, 46, 112, 108, 117, 109, 98, 105, 110, 103), m(99, 111, 100, 101, 112, 101, 110, 46, 100, 101, 118), m(99, 115, 115, 45, 116, 114, 105, 99, 107, 115, 46, 99, 111, 109), m(99, 100, 112, 110, 46, 105, 111), m(103, 97, 110, 110, 111, 110, 46, 116, 118), m(99, 111, 100, 101, 99, 97, 110, 121, 111, 110, 46, 110, 101, 116), m(116, 104, 101, 109, 101, 102, 111, 114, 101, 115, 116, 46, 110, 101, 116), m(99, 101, 114, 101, 98, 114, 97, 120, 46, 99, 111, 46, 117, 107), m(116, 121, 109, 112, 97, 110, 117, 115, 46, 110, 101, 116), m(116, 119, 101, 101, 110, 109, 97, 120, 46, 99, 111, 109), m(116, 119, 101, 101, 110, 108, 105, 116, 101, 46, 99, 111, 109), m(112, 108, 110, 107, 114, 46, 99, 111), m(104, 111, 116, 106, 97, 114, 46, 99, 111, 109), m(119, 101, 98, 112, 97, 99, 107, 98, 105, 110, 46, 99, 111, 109), m(97, 114, 99, 104, 105, 118, 101, 46, 111, 114, 103), m(99, 111, 100, 101, 115, 97, 110, 100, 98, 111, 120, 46, 105, 111), m(115, 116, 97, 99, 107, 98, 108, 105, 116, 122, 46, 99, 111, 109), m(99, 111, 100, 105, 101, 114, 46, 105, 111), m(109, 111, 116, 105, 111, 110, 116, 114, 105, 99, 107, 115, 46, 99, 111, 109), m(106, 115, 102, 105, 100, 100, 108, 101, 46, 110, 101, 116)], t = e.length; - 1 < --t;)
                if (1) return !0;
            return u && window && window.console && console.log(m(87, 65, 82, 78, 73, 78, 71, 58, 32, 97, 32, 115, 112, 101, 99, 105, 97, 108, 32, 118, 101, 114, 115, 105, 111, 110, 32, 111, 102, 32) + r + m(32, 105, 115, 32, 114, 117, 110, 110, 105, 110, 103, 32, 108, 111, 99, 97, 108, 108, 121, 44, 32, 98, 117, 116, 32, 105, 116, 32, 119, 105, 108, 108, 32, 110, 111, 116, 32, 119, 111, 114, 107, 32, 111, 110, 32, 97, 32, 108, 105, 118, 101, 32, 100, 111, 109, 97, 105, 110, 32, 98, 101, 99, 97, 117, 115, 101, 32, 105, 116, 32, 105, 115, 32, 97, 32, 109, 101, 109, 98, 101, 114, 115, 104, 105, 112, 32, 98, 101, 110, 101, 102, 105, 116, 32, 111, 102, 32, 67, 108, 117, 98, 32, 71, 114, 101, 101, 110, 83, 111, 99, 107, 46, 32, 80, 108, 101, 97, 115, 101, 32, 115, 105, 103, 110, 32, 117, 112, 32, 97, 116, 32, 104, 116, 116, 112, 58, 47, 47, 103, 114, 101, 101, 110, 115, 111, 99, 107, 46, 99, 111, 109, 47, 99, 108, 117, 98, 47, 32, 97, 110, 100, 32, 116, 104, 101, 110, 32, 100, 111, 119, 110, 108, 111, 97, 100, 32, 116, 104, 101, 32, 39, 114, 101, 97, 108, 39, 32, 118, 101, 114, 115, 105, 111, 110, 32, 102, 114, 111, 109, 32, 121, 111, 117, 114, 32, 71, 114, 101, 101, 110, 83, 111, 99, 107, 32, 97, 99, 99, 111, 117, 110, 116, 32, 119, 104, 105, 99, 104, 32, 104, 97, 115, 32, 110, 111, 32, 115, 117, 99, 104, 32, 108, 105, 109, 105, 116, 97, 116, 105, 111, 110, 115, 46, 32, 84, 104, 101, 32, 102, 105, 108, 101, 32, 121, 111, 117, 39, 114, 101, 32, 117, 115, 105, 110, 103, 32, 119, 97, 115, 32, 108, 105, 107, 101, 108, 121, 32, 100, 111, 119, 110, 108, 111, 97, 100, 101, 100, 32, 102, 114, 111, 109, 32, 101, 108, 115, 101, 119, 104, 101, 114, 101, 32, 111, 110, 32, 116, 104, 101, 32, 119, 101, 98, 32, 97, 110, 100, 32, 105, 115, 32, 114, 101, 115, 116, 114, 105, 99, 116, 101, 100, 32, 116, 111, 32, 108, 111, 99, 97, 108, 32, 117, 115, 101, 32, 111, 114, 32, 111, 110, 32, 115, 105, 116, 101, 115, 32, 108, 105, 107, 101, 32, 99, 111, 100, 101, 112, 101, 110, 46, 105, 111, 46)), u || !(window.location.href = "http://" + o + m(47, 114, 101, 113, 117, 105, 114, 101, 115, 45, 109, 101, 109, 98, 101, 114, 115, 104, 105, 112, 47) + "?plugin=" + r + "&source=codepen")
        }(window ? window.location.host : ""),
        d = Array.isArray,
        a = [].slice,
        h = ((n = SplitText.prototype).split = function split(D) {
            this.isSplit && this.revert(), this.vars = D = D || this.vars, this._originals.length = this.chars.length = this.words.length = this.lines.length = 0;
            for (var u, e, t, F = this.elements.length, i = D.tag ? D.tag : D.span ? "span" : "div", n = w(D.wordsClass, i), s = w(D.charsClass, i); - 1 < --F;) t = this.elements[F], this._originals[F] = t.innerHTML, u = t.clientHeight, e = t.clientWidth, E(t, D, n, s), C(t, D, this.chars, this.words, this.lines, e, u);
            return this.chars.reverse(), this.words.reverse(), this.lines.reverse(), this.isSplit = !0, this
        }, n.revert = function revert() {
            var e = this._originals;
            if (!e) throw "revert() call wasn't scoped properly.";
            return this.elements.forEach(function(D, u) {
                return D.innerHTML = e[u]
            }), this.chars = [], this.words = [], this.lines = [], this.isSplit = !1, this
        }, SplitText.create = function create(D, u) {
            return new SplitText(D, u)
        }, SplitText);
    function SplitText(D, u) {
        i || function _initCore() {
            Q = document, F = window, i = 1
        }(), this.elements = s(D), this.chars = [], this.words = [], this.lines = [], this._originals = [], this.vars = u || {}, l && this.split(u)
    }
    h.version = "3.2.3", e.SplitText = h, e.default = h;
    if (typeof(window) === "undefined" || window !== e) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    } else {
        delete e.default
    }
});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";
/*!
	 * ScrollToPlugin 3.0.0
	 * https://greensock.com
	 *
	 * @license Copyright 2008-2019, GreenSock. All rights reserved.
	 * Subject to the terms at https://greensock.com/standard-license or for
	 * Club GreenSock members, the agreement issued with that membership.
	 * @author: Jack Doyle, jack@greensock.com
	*/function k(){return"undefined"!=typeof window}function l(){return e||k()&&(e=window.gsap)&&e.registerPlugin&&e}function m(t){return"string"==typeof t}function n(t,e){var o="x"===e?"Width":"Height",n="scroll"+o,r="client"+o;return t===x||t===s||t===f?Math.max(s[n],f[n])-(x["inner"+o]||s[r]||f[r]):t[n]-t["offset"+o]}function o(t,e){var o="scroll"+("x"===e?"Left":"Top");return t===x&&(null!=t.pageXOffset?o="page"+e.toUpperCase()+"Offset":t=null!=s[o]?s:f),function(){return t[o]}}function p(t,e){var n=a(t)[0].getBoundingClientRect(),r=!e||e===x||e===f,i=r?{top:s.clientTop-(x.pageYOffset||s.scrollTop||f.scrollTop||0),left:s.clientLeft-(x.pageXOffset||s.scrollLeft||f.scrollLeft||0)}:e.getBoundingClientRect(),l={x:n.left-i.left,y:n.top-i.top};return!r&&e&&(l.x+=o(e,"x")(),l.y+=o(e,"y")()),l}function q(t,e,o,r){return isNaN(t)?m(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+r:"max"===t?n(e,o):Math.min(n(e,o),p(t,e)[o]):parseFloat(t)}function r(){e=l(),k()&&e&&(x=window,f=document.body,s=document.documentElement,a=e.utils.toArray,e.config({autoKillThreshold:7}),g=e.config(),u=1)}var e,u,x,s,f,a,g,i={version:"3.0.0",name:"scrollTo",register:function register(t){e=t,r()},init:function init(t,e,n,i,l){u||r();var s=this;s.isWin=t===x,s.target=t,s.tween=n,"object"!=typeof e?m((e={y:e}).y)&&"max"!==e.y&&"="!==e.y.charAt(1)&&(e.x=e.y):e.nodeType&&(e={y:e,x:e}),s.vars=e,s.autoKill=!!e.autoKill,s.getX=o(t,"x"),s.getY=o(t,"y"),s.x=s.xPrev=s.getX(),s.y=s.yPrev=s.getY(),null!=e.x?(s.add(s,"x",s.x,q(e.x,t,"x",s.x)-(e.offsetX||0),i,l,Math.round),s._props.push("scrollTo_x")):s.skipX=1,null!=e.y?(s.add(s,"y",s.y,q(e.y,t,"y",s.y)-(e.offsetY||0),i,l,Math.round),s._props.push("scrollTo_y")):s.skipY=1},render:function render(t,e){for(var o,r,i,l,s,u=e._pt,f=e.target,p=e.tween,a=e.autoKill,c=e.xPrev,y=e.yPrev,d=e.isWin;u;)u.r(t,u.d),u=u._next;o=d||!e.skipX?e.getX():c,i=(r=d||!e.skipY?e.getY():y)-y,l=o-c,s=g.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),a&&(!e.skipX&&(s<l||l<-s)&&o<n(f,"x")&&(e.skipX=1),!e.skipY&&(s<i||i<-s)&&r<n(f,"y")&&(e.skipY=1),e.skipX&&e.skipY&&(p.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(p,e.vars.onAutoKillParams||[]))),d?x.scrollTo(e.skipX?o:e.x,e.skipY?r:e.y):(e.skipY||(f.scrollTop=e.y),e.skipX||(f.scrollLeft=e.x)),e.xPrev=e.x,e.yPrev=e.y},kill:function kill(t){var e="scrollTo"===t;!e&&"scrollTo_x"!==t||(this.skipX=1),!e&&"scrollTo_y"!==t||(this.skipY=1)}};i.max=n,i.getOffset=p,i.buildGetter=o,l()&&e.registerPlugin(i),t.ScrollToPlugin=i,t.default=i,Object.defineProperty(t,"__esModule",{value:!0})});
/*!
 * MotionPathPlugin 3.2.3
 * https://greensock.com
 * 
 * @license Copyright 2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function p(t){return"string"==typeof t}function x(t,e,n,r){var a=t[e],i=1===r?6:subdivideSegment(a,n,r);if(i&&i+n+2<a.length)return t.splice(e,0,a.slice(0,n+i+2)),a.splice(0,n+i),1}function A(t,e){var n=t.length,r=t[n-1]||[],a=r.length;e[0]===r[a-2]&&e[1]===r[a-1]&&(e=r.concat(e.slice(2)),n--),t[n]=e}var M=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,S=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,R=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,r=/(^[#\.][a-z]|[a-y][a-z])/i,F=Math.PI/180,s=180/Math.PI,U=Math.sin,H=Math.cos,Z=Math.abs,Q=Math.sqrt,L=Math.atan2,B=1e8,l=function _isNumber(t){return"number"==typeof t},N={},_={},e=1e5,d=function _wrapProgress(t){return Math.round((t+B)%1*e)/e||(t<0?0:1)},C=function _round(t){return Math.round(t*e)/e||0},D=function _copyMetaData(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):e.totalPoints=t.totalPoints,e};function getRawPath(t){var e,n=(t=p(t)&&r.test(t)&&document.querySelector(t)||t).getAttribute?t:0;return n&&(t=t.getAttribute("d"))?(n._gsPath||(n._gsPath={}),(e=n._gsPath[t])&&!e._dirty?e:n._gsPath[t]=stringToRawPath(t)):t?p(t)?stringToRawPath(t):l(t[0])?[t]:t:console.warn("Expecting a <path> element or an SVG path data string")}function reverseSegment(t){var e,n=0;for(t.reverse();n<t.length;n+=2)e=t[n],t[n]=t[n+1],t[n+1]=e;t.reversed=!t.reversed}var z={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"};function convertToPath(t,e){var n,r,a,i,o,s,l,h,u,g,f,p,c,d,m,v,x,y,P,w,b,M,R=t.tagName.toLowerCase(),L=.552284749831;return"path"!==R&&t.getBBox?(s=function _createPath(t,e){var n,r=document.createElementNS("http://www.w3.org/2000/svg","path"),a=[].slice.call(t.attributes),i=a.length;for(e=","+e+",";-1<--i;)n=a[i].nodeName.toLowerCase(),e.indexOf(","+n+",")<0&&r.setAttributeNS(null,n,a[i].nodeValue);return r}(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),M=function _attrToObj(t,e){for(var n=e?e.split(","):[],r={},a=n.length;-1<--a;)r[n[a]]=+t.getAttribute(n[a])||0;return r}(t,z[R]),"rect"===R?(i=M.rx,o=M.ry,r=M.x,a=M.y,g=M.width-2*i,f=M.height-2*o,n=i||o?"M"+(v=(d=(c=r+i)+g)+i)+","+(y=a+o)+" V"+(P=y+f)+" C"+[v,w=P+o*L,m=d+i*L,b=P+o,d,b,d-(d-c)/3,b,c+(d-c)/3,b,c,b,p=r+i*(1-L),b,r,w,r,P,r,P-(P-y)/3,r,y+(P-y)/3,r,y,r,x=a+o*(1-L),p,a,c,a,c+(d-c)/3,a,d-(d-c)/3,a,d,a,m,a,v,x,v,y].join(",")+"z":"M"+(r+g)+","+a+" v"+f+" h"+-g+" v"+-f+" h"+g+"z"):"circle"===R||"ellipse"===R?(h="circle"===R?(i=o=M.r)*L:(i=M.rx,(o=M.ry)*L),n="M"+((r=M.cx)+i)+","+(a=M.cy)+" C"+[r+i,a+h,r+(l=i*L),a+o,r,a+o,r-l,a+o,r-i,a+h,r-i,a,r-i,a-h,r-l,a-o,r,a-o,r+l,a-o,r+i,a-h,r+i,a].join(",")+"z"):"line"===R?n="M"+M.x1+","+M.y1+" L"+M.x2+","+M.y2:"polyline"!==R&&"polygon"!==R||(n="M"+(r=(u=(t.getAttribute("points")+"").match(S)||[]).shift())+","+(a=u.shift())+" L"+u.join(","),"polygon"===R&&(n+=","+r+","+a+"z")),s.setAttribute("d",rawPathToString(s._gsRawPath=stringToRawPath(n))),e&&t.parentNode&&(t.parentNode.insertBefore(s,t),t.parentNode.removeChild(t)),s):t}function getRotationAtBezierT(t,e,n){var r,a=t[e],i=t[e+2],o=t[e+4];return a+=(i-a)*n,a+=((i+=(o-i)*n)-a)*n,r=i+(o+(t[e+6]-o)*n-i)*n-a,a=t[e+1],a+=((i=t[e+3])-a)*n,a+=((i+=((o=t[e+5])-i)*n)-a)*n,C(L(i+(o+(t[e+7]-o)*n-i)*n-a,r)*s)}function sliceRawPath(t,e,n){!function _isUndefined(t){return void 0===t}(n)||(n=1);var r=n<(e=e||0),a=Math.max(0,~~(Z(n-e)-1e-8));if(r&&(r=n,n=e,e=r,r=1,a-=a?1:0),e<0||n<0){var i=1+~~Math.min(e,n);e+=i,n+=i}var o,s,l,h,u,g,f,p=function copyRawPath(t){for(var e=[],n=0;n<t.length;n++)e[n]=D(t[n],t[n].slice(0));return D(t,e)}(t.totalLength?t:cacheRawPathMeasurements(t)),c=1<n,d=getProgressData(p,e,N,!0),m=getProgressData(p,n,_),v=m.segment,y=d.segment,P=m.segIndex,w=d.segIndex,b=m.i,M=d.i,R=w===P,L=b===M&&R,T=R&&b<M||L&&d.t>m.t;if(c||a){if(x(p,w,M,d.t)&&(o=1,w++,L?T?m.t/=d.t:(m.t=(m.t-d.t)/(1-d.t),P++,b=0):w<=P+1&&!T&&(P++,R&&(b-=M))),m.t?x(p,P,b,m.t)&&(T&&o&&w++,r&&P++):(P--,r&&w--),h=[],g=1+(u=p.length)*a,f=w,r)for(g+=(u-(P=(P||u)-1)+w)%u,l=0;l<g;l++)A(h,p[f]),f=(f||u)-1;else for(g+=(u-w+P)%u,l=0;l<g;l++)A(h,p[f++%u]);p=h}else if(s=1===m.t?6:subdivideSegment(v,b,m.t),e!==n)for(o=subdivideSegment(y,M,L?d.t/m.t:d.t),R&&(s+=o),v.splice(b+s+2),(o||M)&&y.splice(0,M+o),l=p.length;l--;)(l<w||P<l)&&p.splice(l,1);else v.angle=getRotationAtBezierT(v,b+s,0),d=v[b+=s],m=v[b+1],v.length=v.totalLength=0,v.totalPoints=p.totalPoints=8,v.push(d,m,d,m,d,m,d,m);return r&&function _reverseRawPath(t,e){var n=t.length;for(e||t.reverse();n--;)t[n].reversed||reverseSegment(t[n])}(p,c||a),p.totalLength=0,p}function measureSegment(t,e,n){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var r,a,i,o,s,l,h,u,g,f,p,c,d,m,v,x,y,P=~~t.resolution||12,w=1/P,b=n?e+6*n+1:t.length,M=t[e],R=t[e+1],L=e?e/6*P:0,T=t.samples,S=t.lookup,N=(e?t.minLength:B)||B,_=T[L+n*P-1],C=e?T[L-1]:0;for(T.length=S.length=0,a=e+2;a<b;a+=6){if(i=t[a+4]-M,o=t[a+2]-M,s=t[a]-M,u=t[a+5]-R,g=t[a+3]-R,f=t[a+1]-R,l=h=p=c=0,Z(i)<1e-5&&Z(u)<1e-5&&Z(s)+Z(f)<1e-5)8<t.length&&(t.splice(a,6),a-=6,b-=6);else for(r=1;r<=P;r++)l=h-(h=((m=w*r)*m*i+3*(d=1-m)*(m*o+d*s))*m),p=c-(c=(m*m*u+3*d*(m*g+d*f))*m),(x=Q(p*p+l*l))<N&&(N=x),C+=x,T[L++]=C;M+=i,R+=u}if(_)for(_-=C;L<T.length;L++)T[L]+=_;if(T.length&&N)for(t.totalLength=y=T[T.length-1]||0,t.minLength=N,x=v=0,r=0;r<y;r+=N)S[x++]=T[v]<r?++v:v;else t.totalLength=T[0]=0;return e?C-T[e/2-1]:C}function cacheRawPathMeasurements(t,e){var n,r,a;for(a=n=r=0;a<t.length;a++)t[a].resolution=~~e||12,r+=t[a].length,n+=measureSegment(t[a]);return t.totalPoints=r,t.totalLength=n,t}function subdivideSegment(t,e,n){if(n<=0||1<=n)return 0;var r=t[e],a=t[e+1],i=t[e+2],o=t[e+3],s=t[e+4],l=t[e+5],h=r+(i-r)*n,u=i+(s-i)*n,g=a+(o-a)*n,f=o+(l-o)*n,p=h+(u-h)*n,c=g+(f-g)*n,d=s+(t[e+6]-s)*n,m=l+(t[e+7]-l)*n;return u+=(d-u)*n,f+=(m-f)*n,t.splice(e+2,4,C(h),C(g),C(p),C(c),C(p+(u-p)*n),C(c+(f-c)*n),C(u),C(f),C(d),C(m)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}function getProgressData(t,e,n,r){n=n||{},t.totalLength||cacheRawPathMeasurements(t),(e<0||1<e)&&(e=d(e));var a,i,o,s,l,h,u,g=0,f=t[0];if(1<t.length){for(o=t.totalLength*e,l=h=0;(l+=t[h++].totalLength)<o;)g=h;e=(o-(s=l-(f=t[g]).totalLength))/(l-s)||0}return a=f.samples,i=f.resolution,o=f.totalLength*e,s=(h=f.lookup[~~(o/f.minLength)]||0)?a[h-1]:0,(l=a[h])<o&&(s=l,l=a[++h]),u=1/i*((o-s)/(l-s)+h%i),h=6*~~(h/i),r&&1===u&&(h+6<f.length?(h+=6,u=0):g+1<t.length&&(h=u=0,f=t[++g])),n.t=u,n.i=h,n.path=t,n.segment=f,n.segIndex=g,n}function getPositionOnPath(t,e,n,r){var a,i,o,s,l,h,u,g,f,p=t[0],c=r||{};if((e<0||1<e)&&(e=d(e)),1<t.length){for(o=t.totalLength*e,l=h=0;(l+=t[h++].totalLength)<o;)p=t[h];e=(o-(s=l-p.totalLength))/(l-s)||0}return a=p.samples,i=p.resolution,o=p.totalLength*e,s=(h=p.lookup[~~(o/p.minLength)]||0)?a[h-1]:0,(l=a[h])<o&&(s=l,l=a[++h]),f=1-(u=1/i*((o-s)/(l-s)+h%i)||0),g=p[h=6*~~(h/i)],c.x=C((u*u*(p[h+6]-g)+3*f*(u*(p[h+4]-g)+f*(p[h+2]-g)))*u+g),c.y=C((u*u*(p[h+7]-(g=p[h+1]))+3*f*(u*(p[h+5]-g)+f*(p[h+3]-g)))*u+g),n&&(c.angle=p.totalLength?getRotationAtBezierT(p,h,1<=u?1-1e-9:u||1e-9):p.angle||0),c}function transformRawPath(t,e,n,r,a,i,o){for(var s,l,h,u,g,f=t.length;-1<--f;)for(l=(s=t[f]).length,h=0;h<l;h+=2)u=s[h],g=s[h+1],s[h]=u*e+g*r+i,s[h+1]=u*n+g*a+o;return t._dirty=1,t}function arcToSegment(t,e,n,r,a,i,o,s,l){if(t!==s||e!==l){n=Z(n),r=Z(r);var h=a%360*F,u=H(h),g=U(h),f=Math.PI,p=2*f,c=(t-s)/2,d=(e-l)/2,m=u*c+g*d,v=-g*c+u*d,x=m*m,y=v*v,P=x/(n*n)+y/(r*r);1<P&&(n=Q(P)*n,r=Q(P)*r);var w=n*n,b=r*r,M=(w*b-w*y-b*x)/(w*y+b*x);M<0&&(M=0);var R=(i===o?-1:1)*Q(M),L=n*v/r*R,T=-r*m/n*R,S=u*L-g*T+(t+s)/2,N=g*L+u*T+(e+l)/2,_=(m-L)/n,C=(v-T)/r,A=(-m-L)/n,O=(-v-T)/r,B=_*_+C*C,V=(C<0?-1:1)*Math.acos(_/Q(B)),D=(_*O-C*A<0?-1:1)*Math.acos((_*A+C*O)/Q(B*(A*A+O*O)));isNaN(D)&&(D=f),!o&&0<D?D-=p:o&&D<0&&(D+=p),V%=p,D%=p;var z,E=Math.ceil(Z(D)/(p/4)),G=[],I=D/E,X=4/3*U(I/2)/(1+H(I/2)),j=u*n,k=g*n,Y=g*-r,q=u*r;for(z=0;z<E;z++)m=H(a=V+z*I),v=U(a),_=H(a+=I),C=U(a),G.push(m-X*v,v+X*m,_+X*C,C-X*_,_,C);for(z=0;z<G.length;z+=2)m=G[z],v=G[z+1],G[z]=m*j+v*Y+S,G[z+1]=m*k+v*q+N;return G[z-2]=s,G[z-1]=l,G}}function stringToRawPath(t){function pf(t,e,n,r){u=(n-t)/3,g=(r-e)/3,s.push(t+u,e+g,n-u,r-g,n,r)}var e,n,r,a,i,o,s,l,h,u,g,f,p,c,d,m=(t+"").replace(R,function(t){var e=+t;return e<1e-4&&-1e-4<e?0:e}).match(M)||[],v=[],x=0,y=0,P=m.length,w=0,b="ERROR: malformed path: "+t;if(!t||!isNaN(m[0])||isNaN(m[1]))return console.log(b),v;for(e=0;e<P;e++)if(p=i,isNaN(m[e])?o=(i=m[e].toUpperCase())!==m[e]:e--,r=+m[e+1],a=+m[e+2],o&&(r+=x,a+=y),e||(l=r,h=a),"M"===i)s&&(s.length<8?--v.length:w+=s.length),x=l=r,y=h=a,s=[r,a],v.push(s),e+=2,i="L";else if("C"===i)o||(x=y=0),(s=s||[0,0]).push(r,a,x+1*m[e+3],y+1*m[e+4],x+=1*m[e+5],y+=1*m[e+6]),e+=6;else if("S"===i)u=x,g=y,"C"!==p&&"S"!==p||(u+=x-s[s.length-4],g+=y-s[s.length-3]),o||(x=y=0),s.push(u,g,r,a,x+=1*m[e+3],y+=1*m[e+4]),e+=4;else if("Q"===i)u=x+2/3*(r-x),g=y+2/3*(a-y),o||(x=y=0),x+=1*m[e+3],y+=1*m[e+4],s.push(u,g,x+2/3*(r-x),y+2/3*(a-y),x,y),e+=4;else if("T"===i)u=x-s[s.length-4],g=y-s[s.length-3],s.push(x+u,y+g,r+2/3*(x+1.5*u-r),a+2/3*(y+1.5*g-a),x=r,y=a),e+=2;else if("H"===i)pf(x,y,x=r,y),e+=1;else if("V"===i)pf(x,y,x,y=r+(o?y-x:0)),e+=1;else if("L"===i||"Z"===i)"Z"===i&&(r=l,a=h,s.closed=!0),("L"===i||.5<Z(x-r)||.5<Z(y-a))&&(pf(x,y,r,a),"L"===i&&(e+=2)),x=r,y=a;else if("A"===i){if(c=m[e+4],d=m[e+5],u=m[e+6],g=m[e+7],n=7,1<c.length&&(c.length<3?(g=u,u=d,n--):(g=d,u=c.substr(2),n-=2),d=c.charAt(1),c=c.charAt(0)),f=arcToSegment(x,y,+m[e+1],+m[e+2],+m[e+3],+c,+d,(o?x:0)+1*u,(o?y:0)+1*g),e+=n,f)for(n=0;n<f.length;n++)s.push(f[n]);x=s[s.length-2],y=s[s.length-1]}else console.log(b);return(e=s.length)<6?(v.pop(),e=0):s[0]===s[e-2]&&s[1]===s[e-1]&&(s.closed=!0),v.totalPoints=w+e,v}function flatPointsToSegment(t,e){void 0===e&&(e=1);for(var n=t[0],r=0,a=[n,r],i=2;i<t.length;i+=2)a.push(n,r,t[i],r=(t[i]-n)*e/2,n=t[i],-r);return a}function pointsToSegment(t,e,n){var r,a,i,o,s,l,h,u,g,f,p,c,d,m,v=t.length-2,x=+t[0],y=+t[1],P=+t[2],w=+t[3],b=[x,y,x,y],M=P-x,R=w-y;for(isNaN(n)&&(n=Math.PI/10),e=e||0===e?+e:1,s=2;s<v;s+=2)r=x,a=y,x=P,y=w,c=(l=M)*l+(u=R)*u,d=(M=(P=+t[s+2])-x)*M+(R=(w=+t[s+3])-y)*R,m=(h=P-r)*h+(g=w-a)*g,p=(i=Math.acos((c+d-m)/Q(4*c*d)))/Math.PI*e,f=Q(c)*p,p*=Q(d),x===r&&y===a||(n<i?(o=L(g,h),b.push(C(x-H(o)*f),C(y-U(o)*f),C(x),C(y),C(x+H(o)*p),C(y+U(o)*p))):(o=L(u,l),b.push(C(x-H(o)*f),C(y-U(o)*f)),o=L(R,M),b.push(C(x),C(y),C(x+H(o)*p),C(y+U(o)*p))));return b.push(C(P),C(w),C(P),C(w)),b}function rawPathToString(t){l(t[0])&&(t=[t]);var e,n,r,a,i="",o=t.length;for(n=0;n<o;n++){for(a=t[n],i+="M"+C(a[0])+","+C(a[1])+" C",e=a.length,r=2;r<e;r++)i+=C(a[r++])+","+C(a[r++])+" "+C(a[r++])+","+C(a[r++])+" "+C(a[r++])+","+C(a[r])+" ";a.closed&&(i+="z")}return i}function O(t){var e=t.ownerDocument||t;!(b in t.style)&&"msTransform"in t.style&&(E=(b="msTransform")+"Origin");for(;e.parentNode&&(e=e.parentNode););if(f=window,P=new j,e){c=(g=e).documentElement,m=e.body;var n=e.createElement("div"),r=e.createElement("div");m.appendChild(n),n.appendChild(r),n.style.position="static",n.style[b]="translate3d(0,0,1px)",w=r.offsetParent!==n,m.removeChild(n)}return e}function T(t){return t.ownerSVGElement||("svg"===(t.tagName+"").toLowerCase()?t:null)}function V(t,e){if(t.parentNode&&(g||O(t))){var n=T(t),r=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",a=n?e?"rect":"g":"div",i=2!==e?0:100,o=3===e?100:0,s="position:absolute;display:block;pointer-events:none;",l=g.createElementNS?g.createElementNS(r.replace(/^https/,"http"),a):g.createElement(a);return e&&(n?(y=y||V(t),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+i+","+o+")"),y.appendChild(l)):(v||((v=V(t)).style.cssText=s),l.style.cssText=s+"width:1px;height:1px;top:"+o+"px;left:"+i+"px",v.appendChild(l))),l}throw"Need document and parent."}function X(t,e,n,r,a,i,o){return t.a=e,t.b=n,t.c=r,t.d=a,t.e=i,t.f=o,t}var g,f,c,m,v,y,P,w,n,b="transform",E=b+"Origin",G=[],I=[],j=((n=Matrix2D.prototype).inverse=function inverse(){var t=this.a,e=this.b,n=this.c,r=this.d,a=this.e,i=this.f,o=t*r-e*n;return X(this,r/o,-e/o,-n/o,t/o,(n*i-r*a)/o,-(t*i-e*a)/o)},n.multiply=function multiply(t){var e=this.a,n=this.b,r=this.c,a=this.d,i=this.e,o=this.f,s=t.a,l=t.c,h=t.b,u=t.d,g=t.e,f=t.f;return X(this,s*e+h*r,s*n+h*a,l*e+u*r,l*n+u*a,i+g*e+f*r,o+g*n+f*a)},n.clone=function clone(){return new Matrix2D(this.a,this.b,this.c,this.d,this.e,this.f)},n.equals=function equals(t){var e=this.a,n=this.b,r=this.c,a=this.d,i=this.e,o=this.f;return e===t.a&&n===t.b&&r===t.c&&a===t.d&&i===t.e&&o===t.f},n.apply=function apply(t,e){void 0===e&&(e={});var n=t.x,r=t.y,a=this.a,i=this.b,o=this.c,s=this.d,l=this.e,h=this.f;return e.x=n*a+r*o+l||0,e.y=n*i+r*s+h||0,e},Matrix2D);function Matrix2D(t,e,n,r,a,i){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===a&&(a=0),void 0===i&&(i=0),X(this,t,e,n,r,a,i)}function getGlobalMatrix(t,e,n){if(!t||!t.parentNode||(g||O(t)).documentElement===t)return new j;var r=T(t)?G:I,a=function _placeSiblings(t,e){var n,r,a,i,o,s=T(t),l=t===s,h=s?G:I;if(t===f)return t;if(h.length||h.push(V(t,1),V(t,2),V(t,3)),n=s?y:v,s)a=l?{x:0,y:0}:t.getBBox(),o=(r=t.transform?t.transform.baseVal:{}).numberOfItems?(i=(r=r.consolidate().matrix).a*a.x+r.c*a.y,r.b*a.x+r.d*a.y):(r=P,i=a.x,a.y),e&&"g"===t.tagName.toLowerCase()&&(i=o=0),n.setAttribute("transform","matrix("+r.a+","+r.b+","+r.c+","+r.d+","+(r.e+i)+","+(r.f+o)+")"),(l?s:t.parentNode).appendChild(n);else{if(i=o=0,w)for(r=t.offsetParent,a=t;(a=a&&a.parentNode)&&a!==r&&a.parentNode;)4<(f.getComputedStyle(a)[b]+"").length&&(i=a.offsetLeft,o=a.offsetTop,a=0);(a=n.style).top=t.offsetTop-o+"px",a.left=t.offsetLeft-i+"px",r=f.getComputedStyle(t),a[b]=r[b],a[E]=r[E],a.position="fixed"===r.position?"fixed":"absolute",t.parentNode.appendChild(n)}return n}(t,n),i=r[0].getBoundingClientRect(),o=r[1].getBoundingClientRect(),s=r[2].getBoundingClientRect(),l=a.parentNode,h=function _isFixed(t){return"fixed"===f.getComputedStyle(t).position||((t=t.parentNode)&&1===t.nodeType?_isFixed(t):void 0)}(t),u=new j((o.left-i.left)/100,(o.top-i.top)/100,(s.left-i.left)/100,(s.top-i.top)/100,i.left+(h?0:function _getDocScrollLeft(){return f.pageXOffset||g.scrollLeft||c.scrollLeft||m.scrollLeft||0}()),i.top+(h?0:function _getDocScrollTop(){return f.pageYOffset||g.scrollTop||c.scrollTop||m.scrollTop||0}()));return l.removeChild(a),e?u.inverse():u}function fa(t,e,n,r){for(var a=e.length,i=r,o=0;o<a;o++)t[i]=parseFloat(e[o][n]),i+=2;return t}function ga(t,e,n){return parseFloat(t._gsap.get(t,e,n||"px"))||0}function ha(t){var e,n=t[0],r=t[1];for(e=2;e<t.length;e+=2)n=t[e]+=n,r=t[e+1]+=r}function ia(t,e,n,r,a,i,o){return e="cubic"===o.type?[e]:(e.unshift(ga(n,r,o.unitX),a?ga(n,a,o.unitY):0),o.relative&&ha(e),[(a?pointsToSegment:flatPointsToSegment)(e,o.curviness)]),e=i(tt(e,n,o)),et(t,n,r,e,"x",o.unitX),a&&et(t,n,a,e,"y",o.unitY),cacheRawPathMeasurements(e,o.resolution||(0===o.curviness?20:12))}function ja(t){return t}function la(t,e,n){var r,a,i,o=getGlobalMatrix(t);return"svg"===(t.tagName+"").toLowerCase()?(a=(r=t.viewBox.baseVal).x,i=r.y,r.width||(r={width:+t.getAttribute("width"),height:+t.getAttribute("height")})):(r=e&&t.getBBox&&t.getBBox(),a=i=0),e&&"auto"!==e&&(a+=e.push?e[0]*(r?r.width:t.offsetWidth||0):e.x,i+=e.push?e[1]*(r?r.height:t.offsetHeight||0):e.y),n.apply(a||i?o.apply({x:a,y:i}):{x:o.e,y:o.f})}function ma(t,e,n,r){var a,i=getGlobalMatrix(t.parentNode,!0,!0),o=i.clone().multiply(getGlobalMatrix(e)),s=la(t,n,i),l=la(e,r,i),h=l.x,u=l.y;return o.e=o.f=0,"auto"===r&&e.getTotalLength&&"path"===e.tagName.toLowerCase()&&(a=e.getAttribute("d").match(K)||[],h+=(a=o.apply({x:+a[0],y:+a[1]})).x,u+=a.y),(a||e.getBBox&&t.getBBox)&&(h-=(a=o.apply(e.getBBox())).x,u-=a.y),o.e=h-s.x,o.f=u-s.y,o}var k,Y,q,W,$=["x","translateX","left","marginLeft"],J=["y","translateY","top","marginTop"],i=Math.PI/180,K=/[-+\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,tt=function _align(t,e,n){var r,a,i,o=n.align,s=n.matrix,l=n.offsetX,h=n.offsetY,u=n.alignOrigin,g=t[0][0],f=t[0][1],p=ga(e,"x"),c=ga(e,"y");return t&&t.length?(o&&("self"===o||(r=W(o)[0]||e)===e?transformRawPath(t,1,0,0,1,p-g,c-f):(u&&!1!==u[2]?k.set(e,{transformOrigin:100*u[0]+"% "+100*u[1]+"%"}):u=[ga(e,"xPercent")/-100,ga(e,"yPercent")/-100],i=(a=ma(e,r,u,"auto")).apply({x:g,y:f}),transformRawPath(t,a.a,a.b,a.c,a.d,p+a.e-(i.x-a.e),c+a.f-(i.y-a.f)))),s?transformRawPath(t,s.a,s.b,s.c,s.d,s.e,s.f):(l||h)&&transformRawPath(t,1,0,0,1,l||0,h||0),t):getRawPath("M0,0L0,0")},et=function _addDimensionalPropTween(t,e,n,r,a,i){var o=e._gsap,s=o.harness,l=s&&s.aliases&&s.aliases[n],h=l&&l.indexOf(",")<0?l:n,u=t._pt=new Y(t._pt,e,h,0,0,ja,0,o.set(e,h,t));u.u=q(o.get(e,h,i))||0,u.path=r,u.pp=a,t._props.push(h)},a={version:"3.2.3",name:"motionPath",register:function register(t,e,n){q=(k=t).utils.getUnit,W=k.utils.toArray,Y=n},init:function init(t,e){if(!k)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;"object"==typeof e&&!e.style&&e.path||(e={path:e});var n,r,a,i,o=[],s=e.path,l=s[0],h=e.autoRotate,u=function _sliceModifier(e,n){return function(t){return e||1!==n?sliceRawPath(t,e,n):t}}(e.start,"end"in e?e.end:1);if(this.rawPaths=o,this.target=t,(this.rotate=h||0===h)&&(this.rOffset=parseFloat(h)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||"rotation",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=q(t._gsap.get(t,this.rProp))||0),!Array.isArray(s)||"closed"in s||"number"==typeof l)cacheRawPathMeasurements(n=u(tt(getRawPath(e.path),t,e)),e.resolution),o.push(n),et(this,t,e.x||"x",n,"x",e.unitX||"px"),et(this,t,e.y||"y",n,"y",e.unitY||"px");else{for(r in l)~$.indexOf(r)?a=r:~J.indexOf(r)&&(i=r);for(r in a&&i?o.push(ia(this,fa(fa([],s,a,0),s,i,1),t,e.x||a,e.y||i,u,e)):a=i=0,l)r!==a&&r!==i&&o.push(ia(this,fa([],s,r,0),t,r,0,u,e))}},render:function render(t,e){var n=e.rawPaths,r=n.length,a=e._pt;for(1<t?t=1:t<0&&(t=0);r--;)getPositionOnPath(n[r],t,!r&&e.rotate,n[r]);for(;a;)a.set(a.t,a.p,a.path[a.pp]+a.u,a.d,t),a=a._next;e.rotate&&e.rSet(e.target,e.rProp,n[0].angle*(e.radians?i:1)+e.rOffset+e.ru,e,t)},getLength:function getLength(t){return cacheRawPathMeasurements(getRawPath(t)).totalLength},sliceRawPath:sliceRawPath,getRawPath:getRawPath,pointsToSegment:pointsToSegment,stringToRawPath:stringToRawPath,rawPathToString:rawPathToString,transformRawPath:transformRawPath,getGlobalMatrix:getGlobalMatrix,getPositionOnPath:getPositionOnPath,cacheRawPathMeasurements:cacheRawPathMeasurements,convertToPath:function convertToPath$1(t,e){return W(t).map(function(t){return convertToPath(t,!1!==e)})},convertCoordinates:function convertCoordinates(t,e,n){var r=getGlobalMatrix(e,!0,!0).multiply(getGlobalMatrix(t));return n?r.apply(n):r},getAlignMatrix:ma,getRelativePosition:function getRelativePosition(t,e,n,r){var a=ma(t,e,n,r);return{x:a.e,y:a.f}},arrayToRawPath:function arrayToRawPath(t,e){var n=fa(fa([],t,(e=e||{}).x||"x",0),t,e.y||"y",1);return e.relative&&ha(n),["cubic"===e.type?n:pointsToSegment(n,e.curviness)]}};!function _getGSAP(){return k||"undefined"!=typeof window&&(k=window.gsap)&&k.registerPlugin&&k}()||k.registerPlugin(a),t.MotionPathPlugin=a,t.default=a;if(typeof(window)==="undefined"||window!==t){Object.defineProperty(t,"__esModule",{value:!0})}else{delete t.default}});
/*! ScrollMagic v2.0.8 | (c) 2020 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){"use strict";function _(){}_.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var P="data-scrollmagic-pin-spacer";_.Controller=function(e){function t(){var e,t,n;v&&u&&(e=R.type.Array(u)?u:f.slice(0),u=!1,t=d,0!=(n=(d=l.scrollPos())-t)&&(h=0<n?"FORWARD":i),h===i&&e.reverse(),e.forEach(function(e,t){e.update(!0)}))}function r(){n=R.rAF(t)}var n,o,i="REVERSE",s="PAUSED",a=z.defaults,l=this,c=R.extend({},a,e),f=[],u=!1,d=0,h=s,p=!0,g=0,v=!0,m=function(){0<c.refreshInterval&&(o=window.setTimeout(E,c.refreshInterval))},w=function(){return c.vertical?R.get.scrollTop(c.container):R.get.scrollLeft(c.container)},y=function(){return c.vertical?R.get.height(c.container):R.get.width(c.container)},S=this._setScrollPos=function(e){c.vertical?p?window.scrollTo(R.get.scrollLeft(),e):c.container.scrollTop=e:p?window.scrollTo(e,R.get.scrollTop()):c.container.scrollLeft=e},b=function(e){"resize"==e.type&&(g=y(),h=s),!0!==u&&(u=!0,r())},E=function(){if(!p&&g!=y()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){(t=document.createEvent("Event")).initEvent("resize",!1,!1)}c.container.dispatchEvent(t)}f.forEach(function(e,t){e.refresh()}),m()};this._options=c;function x(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t}return this.addScene=function(e){if(R.type.Array(e))e.forEach(function(e,t){l.addScene(e)});else if(e instanceof _.Scene)if(e.controller()!==l)e.addTo(l);else if(!~f.indexOf(e))for(var t in f.push(e),f=x(f),e.on("shift.controller_sort",function(){f=x(f)}),c.globalSceneOptions)e[t]&&e[t].call(e,c.globalSceneOptions[t]);return l},this.removeScene=function(e){var t;return R.type.Array(e)?e.forEach(function(e,t){l.removeScene(e)}):-1<(t=f.indexOf(e))&&(e.off("shift.controller_sort"),f.splice(t,1),e.remove()),l},this.updateScene=function(e,n){return R.type.Array(e)?e.forEach(function(e,t){l.updateScene(e,n)}):n?e.update(!0):!0!==u&&e instanceof _.Scene&&(~(u=u||[]).indexOf(e)||u.push(e),u=x(u),r()),l},this.update=function(e){return b({type:"resize"}),e&&t(),l},this.scrollTo=function(e,t){if(R.type.Number(e))S.call(c.container,e,t);else if(e instanceof _.Scene)e.controller()===l&&l.scrollTo(e.scrollOffset(),t);else if(R.type.Function(e))S=e;else{var n=R.get.elements(e)[0];if(n){for(;n.parentNode.hasAttribute(P);)n=n.parentNode;var r=c.vertical?"top":"left",o=R.get.offset(c.container),i=R.get.offset(n);p||(o[r]-=l.scrollPos()),l.scrollTo(i[r]-o[r],t)}}return l},this.scrollPos=function(e){return arguments.length?(R.type.Function(e)&&(w=e),l):w.call(l)},this.info=function(e){var t={size:g,vertical:c.vertical,scrollPos:d,scrollDirection:h,container:c.container,isDocument:p};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(e){return l},this.enabled=function(e){return arguments.length?(v!=e&&(v=!!e,l.updateScene(f,!0)),l):v},this.destroy=function(e){window.clearTimeout(o);for(var t=f.length;t--;)f[t].destroy(e);return c.container.removeEventListener("resize",b),c.container.removeEventListener("scroll",b),R.cAF(n),null},function(){for(var e in c)a.hasOwnProperty(e)||delete c[e];if(c.container=R.get.elements(c.container)[0],!c.container)throw"ScrollMagic.Controller init failed.";(p=c.container===window||c.container===document.body||!document.body.contains(c.container))&&(c.container=window),g=y(),c.container.addEventListener("resize",b),c.container.addEventListener("scroll",b);var t=parseInt(c.refreshInterval,10);c.refreshInterval=R.type.Number(t)?t:a.refreshInterval,m()}(),l};var z={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};_.Controller.addOption=function(e,t){z.defaults[e]=t},_.Controller.extend=function(e){var t=this;_.Controller=function(){return t.apply(this,arguments),this.$super=R.extend({},this),e.apply(this,arguments)||this},R.extend(_.Controller,t),_.Controller.prototype=t.prototype,_.Controller.prototype.constructor=_.Controller},_.Scene=function(e){var n,l,c="BEFORE",f="DURING",u="AFTER",r=D.defaults,d=this,h=R.extend({},r,e),p=c,g=0,a={start:0,end:0},v=0,o=!0,s={};this.on=function(e,o){return R.type.Function(o)&&(e=e.trim().split(" ")).forEach(function(e){var t=e.split("."),n=t[0],r=t[1];"*"!=n&&(s[n]||(s[n]=[]),s[n].push({namespace:r||"",callback:o}))}),d},this.off=function(e,i){return e&&(e=e.trim().split(" ")).forEach(function(e,t){var n=e.split("."),r=n[0],o=n[1]||"";("*"===r?Object.keys(s):[r]).forEach(function(e){for(var t=s[e]||[],n=t.length;n--;){var r=t[n];!r||o!==r.namespace&&"*"!==o||i&&i!=r.callback||t.splice(n,1)}t.length||delete s[e]})}),d},this.trigger=function(e,n){var t,r,o,i;return e&&(t=e.trim().split("."),r=t[0],o=t[1],(i=s[r])&&i.forEach(function(e,t){o&&o!==e.namespace||e.callback.call(d,new _.Event(r,e.namespace,d,n))})),d},d.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?y():"reverse"===e.what&&d.update())}).on("shift.internal",function(e){t(),d.update()}),this.addTo=function(e){return e instanceof _.Controller&&l!=e&&(l&&l.removeScene(d),l=e,E(),i(!0),y(!0),t(),l.info("container").addEventListener("resize",S),e.addScene(d),d.trigger("add",{controller:l}),d.update()),d},this.enabled=function(e){return arguments.length?(o!=e&&(o=!!e,d.update(!0)),d):o},this.remove=function(){var e;return l&&(l.info("container").removeEventListener("resize",S),e=l,l=void 0,e.removeScene(d),d.trigger("remove")),d},this.destroy=function(e){return d.trigger("destroy",{reset:e}),d.remove(),d.off("*.*"),null},this.update=function(e){var t,n;return l&&(e?l.enabled()&&o?(t=l.info("scrollPos"),n=0<h.duration?(t-a.start)/(a.end-a.start):t>=a.start?1:0,d.trigger("update",{startPos:a.start,endPos:a.end,scrollPos:t}),d.progress(n)):m&&p===f&&T(!0):l.updateScene(d,!1)),d},this.refresh=function(){return i(),y(),d},this.progress=function(e){if(arguments.length){var t,n,r,o=!1,i=p,s=l?l.info("scrollDirection"):"PAUSED",a=h.reverse||g<=e;return 0===h.duration?(o=g!=e,p=0===(g=e<1&&a?0:1)?c:f):e<0&&p!==c&&a?(p=c,o=!(g=0)):0<=e&&e<1&&a?(g=e,p=f,o=!0):1<=e&&p!==u?(g=1,p=u,o=!0):p!==f||a||T(),o&&(t={progress:g,state:p,scrollDirection:s},r=function(e){d.trigger(e,t)},(n=p!=i)&&i!==f&&(r("enter"),r(i===c?"start":"end")),r("progress"),n&&p!==f&&(r(p===c?"start":"end"),r("leave"))),d}return g};var m,w,t=function(){a={start:v+h.offset},l&&h.triggerElement&&(a.start-=l.info("size")*h.triggerHook),a.end=a.start+h.duration},i=function(e){var t;!n||x(t="duration",n.call(d))&&!e&&(d.trigger("change",{what:t,newval:h[t]}),d.trigger("shift",{reason:t}))},y=function(e){var t=0,n=h.triggerElement;if(l&&(n||0<v)){if(n)if(n.parentNode){for(var r=l.info(),o=R.get.offset(r.container),i=r.vertical?"top":"left";n.parentNode.hasAttribute(P);)n=n.parentNode;var s=R.get.offset(n);r.isDocument||(o[i]-=l.scrollPos()),t=s[i]-o[i]}else d.triggerElement(void 0);var a=t!=v;v=t,a&&!e&&d.trigger("shift",{reason:"triggerElementPosition"})}},S=function(e){0<h.triggerHook&&d.trigger("shift",{reason:"containerResize"})},b=R.extend(D.validate,{duration:function(t){var e;if(R.type.String(t)&&t.match(/^(\.|\d)*\d+%$/)&&(e=parseFloat(t)/100,t=function(){return l?l.info("size")*e:0}),R.type.Function(t)){n=t;try{t=parseFloat(n.call(d))}catch(e){t=-1}}if(t=parseFloat(t),!R.type.Number(t)||t<0)throw n=n&&void 0,0;return t}}),E=function(e){(e=arguments.length?[e]:Object.keys(b)).forEach(function(t,e){var n;if(b[t])try{n=b[t](h[t])}catch(e){n=r[t]}finally{h[t]=n}})},x=function(e,t){var n=!1,r=h[e];return h[e]!=t&&(h[e]=t,E(e),n=r!=h[e]),n},z=function(t){d[t]||(d[t]=function(e){return arguments.length?("duration"===t&&(n=void 0),x(t,e)&&(d.trigger("change",{what:t,newval:h[t]}),~D.shifts.indexOf(t)&&d.trigger("shift",{reason:t})),d):h[t]})};this.controller=function(){return l},this.state=function(){return p},this.scrollOffset=function(){return a.start},this.triggerPosition=function(){var e=h.offset;return l&&(h.triggerElement?e+=v:e+=l.info("size")*d.triggerHook()),e},d.on("shift.internal",function(e){var t="duration"===e.reason;(p===u&&t||p===f&&0===h.duration)&&T(),t&&A()}).on("progress.internal",function(e){T()}).on("add.internal",function(e){A()}).on("destroy.internal",function(e){d.removePin(e.reset)});function C(){l&&m&&p===f&&!l.info("isDocument")&&T()}function F(){l&&m&&p===f&&((w.relSize.width||w.relSize.autoFullWidth)&&R.get.width(window)!=R.get.width(w.spacer.parentNode)||w.relSize.height&&R.get.height(window)!=R.get.height(w.spacer.parentNode))&&A()}function L(e){l&&m&&p===f&&!l.info("isDocument")&&(e.preventDefault(),l._setScrollPos(l.info("scrollPos")-((e.wheelDelta||e[l.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))}var T=function(e){var t,n,r,o,i,s;m&&l&&(t=l.info(),n=w.spacer.firstChild,e||p!==f?(r={position:w.inFlow?"relative":"absolute",top:0,left:0},o=R.css(n,"position")!=r.position,w.pushFollowers?0<h.duration&&(p===u&&0===parseFloat(R.css(w.spacer,"padding-top"))||p===c&&0===parseFloat(R.css(w.spacer,"padding-bottom")))&&(o=!0):r[t.vertical?"top":"left"]=h.duration*g,R.css(n,r),o&&A()):("fixed"!=R.css(n,"position")&&(R.css(n,{position:"fixed"}),A()),i=R.get.offset(w.spacer,!0),s=h.reverse||0===h.duration?t.scrollPos-a.start:Math.round(g*h.duration*10)/10,i[t.vertical?"top":"left"]+=s,R.css(w.spacer.firstChild,{top:i.top,left:i.left})))},A=function(){var e,t,n,r,o;m&&l&&w.inFlow&&(e=p===f,t=l.info("vertical"),n=w.spacer.firstChild,r=R.isMarginCollapseType(R.css(w.spacer,"display")),o={},w.relSize.width||w.relSize.autoFullWidth?e?R.css(m,{width:R.get.width(w.spacer)}):R.css(m,{width:"100%"}):(o["min-width"]=R.get.width(t?m:n,!0,!0),o.width=e?o["min-width"]:"auto"),w.relSize.height?e?R.css(m,{height:R.get.height(w.spacer)-(w.pushFollowers?h.duration:0)}):R.css(m,{height:"100%"}):(o["min-height"]=R.get.height(t?n:m,!0,!r),o.height=e?o["min-height"]:"auto"),w.pushFollowers&&(o["padding"+(t?"Top":"Left")]=h.duration*g,o["padding"+(t?"Bottom":"Right")]=h.duration*(1-g)),R.css(w.spacer,o))};this.setPin=function(e,t){if(t=R.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},t),!(e=R.get.elements(e)[0]))return d;if("fixed"===R.css(e,"position"))return d;if(m){if(m===e)return d;d.removePin()}var n=(m=e).parentNode.style.display,r=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];m.parentNode.style.display="none";var o="absolute"!=R.css(m,"position"),i=R.css(m,r.concat(["display"])),s=R.css(m,["width","height"]);m.parentNode.style.display=n,!o&&t.pushFollowers&&(t.pushFollowers=!1);var a,l=m.parentNode.insertBefore(document.createElement("div"),m),c=R.extend(i,{position:o?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});return o||R.extend(c,R.css(m,["width","height"])),R.css(l,c),l.setAttribute(P,""),R.addClass(l,t.spacerClass),w={spacer:l,relSize:{width:"%"===s.width.slice(-1),height:"%"===s.height.slice(-1),autoFullWidth:"auto"===s.width&&o&&R.isMarginCollapseType(i.display)},pushFollowers:t.pushFollowers,inFlow:o},m.___origStyle||(m.___origStyle={},a=m.style,r.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(e){m.___origStyle[e]=a[e]||""})),w.relSize.width&&R.css(l,{width:s.width}),w.relSize.height&&R.css(l,{height:s.height}),l.appendChild(m),R.css(m,{position:o?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(w.relSize.width||w.relSize.autoFullWidth)&&R.css(m,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",C),window.addEventListener("resize",C),window.addEventListener("resize",F),m.addEventListener("mousewheel",L),m.addEventListener("DOMMouseScroll",L),T(),d},this.removePin=function(e){var t,n,r;return m&&(p===f&&T(!0),!e&&l||((t=w.spacer.firstChild).hasAttribute(P)&&(n=w.spacer.style,r={},["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(e){r[e]=n[e]||""}),R.css(t,r)),w.spacer.parentNode.insertBefore(t,w.spacer),w.spacer.parentNode.removeChild(w.spacer),m.parentNode.hasAttribute(P)||(R.css(m,m.___origStyle),delete m.___origStyle)),window.removeEventListener("scroll",C),window.removeEventListener("resize",C),window.removeEventListener("resize",F),m.removeEventListener("mousewheel",L),m.removeEventListener("DOMMouseScroll",L),m=void 0),d};var N,O=[];return d.on("destroy.internal",function(e){d.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var n=R.get.elements(e);return 0!==n.length&&R.type.String(t)&&(0<O.length&&d.removeClassToggle(),N=t,O=n,d.on("enter.internal_class leave.internal_class",function(e){var n="enter"===e.type?R.addClass:R.removeClass;O.forEach(function(e,t){n(e,N)})})),d},this.removeClassToggle=function(e){return e&&O.forEach(function(e,t){R.removeClass(e,N)}),d.off("start.internal_class end.internal_class"),N=void 0,O=[],d},function(){for(var e in h)r.hasOwnProperty(e)||delete h[e];for(var t in r)z(t);E()}(),d};var D={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!R.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=R.get.elements(e)[0];if(!t||!t.parentNode)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(R.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:["duration","offset","triggerHook"]};_.Scene.addOption=function(e,t,n,r){e in D.defaults||(D.defaults[e]=t,D.validate[e]=n,r&&D.shifts.push(e))},_.Scene.extend=function(e){var t=this;_.Scene=function(){return t.apply(this,arguments),this.$super=R.extend({},this),e.apply(this,arguments)||this},R.extend(_.Scene,t),_.Scene.prototype=t.prototype,_.Scene.prototype.constructor=_.Scene},_.Event=function(e,t,n,r){for(var o in r=r||{})this[o]=r[o];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var R=_._util=function(s){function a(e){return parseFloat(e)||0}function l(e){return e.currentStyle?e.currentStyle:s.getComputedStyle(e)}function r(e,t,n,r){if((t=t===document?s:t)===s)r=!1;else if(!u.DomElement(t))return 0;e=e[0].toUpperCase()+e.substr(1).toLowerCase();var o,i=(n?t["offset"+e]||t["outer"+e]:t["client"+e]||t["inner"+e])||0;return n&&r&&(o=l(t),i+="Height"===e?a(o.marginTop)+a(o.marginBottom):a(o.marginLeft)+a(o.marginRight)),i}function c(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}var e={};e.extend=function(e){for(e=e||{},f=1;f<arguments.length;f++)if(arguments[f])for(var t in arguments[f])arguments[f].hasOwnProperty(t)&&(e[t]=arguments[f][t]);return e},e.isMarginCollapseType=function(e){return!!~["block","flex","list-item","table","-webkit-box"].indexOf(e)};for(var o=0,t=["ms","moz","webkit","o"],n=s.requestAnimationFrame,i=s.cancelAnimationFrame,f=0;!n&&f<4;++f)n=s[t[f]+"RequestAnimationFrame"],i=s[t[f]+"CancelAnimationFrame"]||s[t[f]+"CancelRequestAnimationFrame"];n=n||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-o)),r=s.setTimeout(function(){e(t+n)},n);return o=t+n,r},i=i||function(e){s.clearTimeout(e)},e.rAF=n.bind(s),e.cAF=i.bind(s);var u=e.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};u.String=function(e){return"string"===u(e)},u.Function=function(e){return"function"===u(e)},u.Array=function(e){return Array.isArray(e)},u.Number=function(e){return!u.Array(e)&&0<=e-parseFloat(e)+1},u.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var d=e.get={};return d.elements=function(e){var t=[];if(u.String(e))try{e=document.querySelectorAll(e)}catch(e){return t}if("nodelist"===u(e)||u.Array(e)||e instanceof NodeList)for(var n=0,r=t.length=e.length;n<r;n++){var o=e[n];t[n]=u.DomElement(o)?o:d.elements(o)}else!u.DomElement(e)&&e!==document&&e!==s||(t=[e]);return t},d.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:s.pageYOffset||0},d.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:s.pageXOffset||0},d.width=function(e,t,n){return r("width",e,t,n)},d.height=function(e,t,n){return r("height",e,t,n)},d.offset=function(e,t){var n,r={top:0,left:0};return e&&e.getBoundingClientRect&&(n=e.getBoundingClientRect(),r.top=n.top,r.left=n.left,t||(r.top+=d.scrollTop(),r.left+=d.scrollLeft())),r},e.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},e.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},e.css=function(e,t){if(u.String(t))return l(e)[c(t)];if(u.Array(t)){var n={},r=l(e);return t.forEach(function(e,t){n[e]=r[c(e)]}),n}for(var o in t){var i=t[o];i==parseFloat(i)&&(i+="px"),e.style[c(o)]=i}},e}(window||{});return _});
/*! ScrollMagic v2.0.8 | (c) 2020 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(e,n){var r;"function"==typeof define&&define.amd?define(["ScrollMagic","gsap","TweenMax","TimelineMax"],n):"object"==typeof exports?(r=require("gsap/dist/gsap")||require("gsap"),n(require("scrollmagic"),r,TweenMax||r,TimelineMax||r)):n(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.gsap,e.gsap||e.TweenMax||e.TweenLite,e.gsap||e.TimelineMax||e.TimelineLite)}(this,function(e,n,p,u){"use strict";var g=n&&3<=parseFloat(n.version);e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var o,i=this;i.on("progress.plugin_gsap",function(){s()}),i.on("destroy.plugin_gsap",function(e){i.removeTween(e.reset)});var s=function(){var e,n;o&&(e=i.progress(),n=i.state(),o.repeat&&-1===o.repeat()?"DURING"===n&&o.paused()?o.play():"DURING"===n||o.paused()||o.pause():e!=o.progress()&&(0===i.duration()?0<e?o.play():o.reverse():i.tweenChanges()&&o.tweenTo?o.tweenTo(e*o.duration()):o.progress(e).pause()))};i.setTween=function(e,n,r){var t,a;1<arguments.length&&(a="number"==typeof arguments[1],g?(a||(r=n),r.hasOwnProperty("duration")||(r.duration=a?n:1)):arguments.length<3&&(r=n,n=1),e=g?p.to(e,r):p.to(e,n,r));try{(t=u&&!g?new u({smoothChildTiming:!0}).add(e):e).pause()}catch(e){return i}return o&&i.removeTween(),o=t,e.repeat&&-1===e.repeat()&&(o.repeat(-1),o.yoyo(e.yoyo())),s(),i},i.removeTween=function(e){return o&&(e&&o.progress(0).pause(),o.kill(),o=void 0),i}})});
(function($){'use strict';if(typeof ScrollMagic=='undefined'||typeof BB_SCENES=='undefined'){return;}
$.each(BB_SCENES,function(index,scene){if(typeof scene.misc.disableMobile=='undefined'&&typeof scene.misc.disableMobile=='disableDesktop'){return true;}
if(scene.misc.disableMobile=='on'&&BB_DEVICE=='mobile'){delete BB_SCENES[index];}
if(scene.misc.disableDesktop=='on'&&BB_DEVICE=='desktop'){delete BB_SCENES[index];}});$.fn.preload=function(){this.each(function(){$('<img/>')[0].src=this;});};var bbsmController=new ScrollMagic.Controller();var bbsmController_h=new ScrollMagic.Controller({vertical:false});$('document').ready(function(){$('body').prepend('<span id="bbsm-trigger-top-document" class="bb-scrollmagic-trigger"></span>');$.each(BB_SCENES,function(key,value){var counter=1;var settings=value.settings;var init=value['init'];var tween=value['tween'];var misc=value['misc'];var bezier=value['bezier'];var controller;if(typeof settings.general.vertical!=undefined&&settings.general.vertical=='off'){if(typeof misc.container!='undefined'&&misc.container!=''&&$(misc.container).length>0){controller=new ScrollMagic.Controller({container:misc.container,vertical:false});}else{controller=bbsmController_h;}}else{if(typeof misc.container!='undefined'&&misc.container!=''&&$(misc.container).length>0){controller=new ScrollMagic.Controller({container:misc.container});}else{controller=bbsmController;}}
if(typeof misc.selector!=='undefined'&&misc.selector!=''&&$(misc.selector).length>0){$('body '+misc.selector).each(function(){var $self=$(this);var trigger='';if(typeof settings.general.triggerElement!=undefined){trigger=settings.general.triggerElement;}
if(trigger=='top-document'){trigger='bbsm-trigger-top-document';}else{trigger='bbsm-trigger-selector-'+key+'-'+(counter++);$self.before('<span id="'+trigger+'" class="bb-scrollmagic-trigger"></span>');}
bbsm_scrollmagic($self,settings,init,tween,misc,bezier,trigger,controller);});}
$('body .'+key).each(function(){var $self=$(this);var trigger='';if(typeof settings.general.triggerElement!=undefined){trigger=settings.general.triggerElement;}
if(trigger=='top-document'){trigger='bbsm-trigger-top-document';}else{trigger='bbsm-trigger-'+key+'-'+(counter++);$self.before('<span id="'+trigger+'" class="bb-scrollmagic-trigger"></span>');}
bbsm_scrollmagic($self,settings,init,tween,misc,bezier,trigger,controller);});});$('[data-scrollmagic="true"]').each(function(){var $self=$(this);var settings=($self.data('bbsm-settings'));var init=($self.data('bbsm-init'));var tween=($self.data('bbsm-tween'));var misc=($self.data('bbsm-misc'));var bezier=($self.data('bbsm-bezier'));var trigger=($self.data('bbsm-trigger'));bbsm_scrollmagic($self,settings,init,tween,misc,bezier,trigger);});var lastId,topMenu=$("#top-menu"),topMenuHeight=0,menuItems=$(".wpsm-dots-navigation a"),scrollItems=menuItems.map(function(){var item=$($(this).attr("href"));if(item.length){return item;}});menuItems.click(function(e){var href=$(this).attr("href"),offsetTop=href==="#"?0:$(href).offset().top-topMenuHeight;$('html, body').stop().animate({scrollTop:offsetTop},300);if(window.history&&window.history.pushState){history.pushState("",document.title,$(this).attr("href"));}
e.preventDefault();});$(window).scroll(function(){var fromTop=$(this).scrollTop()+topMenuHeight;var cur=scrollItems.map(function(){if($(this).offset().top<(fromTop+5))
return this;});cur=cur[cur.length-1];var id=cur&&cur.length?cur[0].id:"";menuItems.filter("[href='#"+id+"']").addClass("active")
if(lastId!==id){lastId=id;menuItems.removeClass("active").end().filter("[href='#"+id+"']").addClass("active");}});});function bbsm_scrollmagic($self,settings,init,tween,misc,bezier,trigger,controller){gsap.set($self,init);if(typeof init.blur!=='undefined'&&init.blur!=''){gsap.to($self,0,{webkitFilter:"blur("+init.blur+"px)",filter:"blur("+init.blur+"px)"},0);}
var reverse=true;if(typeof settings.general.reverse!=='undefined'){reverse=eval(settings.general.reverse);}
var duration=settings.general.duration;if(duration!=''){if(duration.indexOf('vh')!=-1){duration=duration.replace('vh','');duration=window.innerHeight/100*duration;}}
tween['duration']=settings.ease.duration;var tl=gsap.timeline();tl.to($self,tween);var scene=new ScrollMagic.Scene({triggerElement:'#'+trigger,duration:duration,offset:settings.general.offset,triggerHook:settings.general.triggerHook,reverse:reverse,tweenChanges:true}).setTween(tl);if(typeof bezier!=undefined&&bezier.length>0){var bezierEffect=gsap.timeline();bezierEffect.to($self,{duration:settings.ease.duration,ease:eval(settings.ease.ease),motionPath:{path:bezier,curviness:1.25,autoRotate:true}});scene.setTween(bezierEffect);}
if(typeof settings.general.pin!=='undefined'&&settings.general.pin=='on'){var pushFollowers=true;if(typeof settings.general.pushFollowers!=='undefined'){pushFollowers=eval(settings.general.pushFollowers);}
scene.setPin($self[0],{pushFollowers:pushFollowers});}
if(typeof settings.class.classToggleEnable!=='undefined'&&settings.class.classToggleEnable=='on'){$self.addClass('animated');if(typeof settings.class.customClassCSS!=='undefined'&&settings.class.classCSS=='custom'){scene.setClassToggle($self[0],settings.class.customClassCSS);}else{scene.setClassToggle($self[0],settings.class.classCSS);}}
if(typeof misc.clickTo!=='undefined'&&misc.clickTo!=''){scene.on("enter",function(event){$(misc.clickTo).trigger('click');});}
scene.addTo(controller);$(window).load(function(){if($self.find('path').length>0&&typeof misc!=='undefined'&&typeof misc.drawSVG!=='undefined'&&misc.drawSVG=='on'){var lineLength=$self.find('path')[0].getTotalLength();$self.find('path').css("stroke-dasharray",lineLength+' '+lineLength);$self.find('path').css("stroke-dashoffset",lineLength);if(misc.unableFill=='on'){$self.find('path').css("fill","none");}
$self.find('path').css("stroke",misc.stroke);if(misc.stroke!=""){$self.find('path').css("stroke",misc.stroke);}
if(misc.strokeWidth!=""){$self.find('path').css("stroke-width",misc.strokeWidth);}
var tween_svg=gsap.timeline();tween_svg.to($self.find('path'),{duration:settings.ease.duration,strokeDashoffset:0,ease:Linear.easeNone});var scene_svg=new ScrollMagic.Scene({triggerElement:'#'+trigger,triggerHook:settings.general.triggerHook,duration:settings.general.duration,offset:settings.general.offset,reverse:reverse,tweenChanges:true}).setTween(tween_svg);scene_svg.addTo(controller);}});if(typeof misc!=='undefined'&&(typeof misc.imageSequence=='undefined'||misc.imageSequence=='on')){if($self.find('.bbsm-imagesequence').length>0){var repeat,images,obj;if(typeof misc.imageSequenceRepeat=='undefined'){repeat=0;}else{repeat=misc.imageSequenceRepeat;}
images=$self.find('.bbsm-imagesequence').data('bbsm-imagesequence');$(images).preload();obj={curImg:0};var tween_imagesequence=gsap.timeline();tween_imagesequence.to(obj,{duration:0.5,curImg:images.length-1,roundProps:"curImg",repeat:repeat,immediateRender:true,ease:Linear.easeNone,onUpdate:function(){$self.find('.bbsm-imagesequence img').attr("src",images[obj.curImg]);$self.find('.bbsm-imagesequence img').attr("srcset",images[obj.curImg]);$self.find('.bbsm-imagesequence source').attr("srcset",images[obj.curImg]);}});var duration=settings.general.duration;if(duration!=''){if(duration.indexOf('vh')!=-1){duration=duration.replace('vh','');duration=window.innerHeight/100*duration;}}
var scene_imagesequence=new ScrollMagic.Scene({triggerElement:'#'+trigger,triggerHook:settings.general.triggerHook,duration:duration,offset:settings.general.offset,reverse:reverse,tweenChanges:true}).setTween(tween_imagesequence);scene_imagesequence.addTo(controller);}}
if(typeof misc!=='undefined'&&misc.scrollToPlay=='on'){if($self.find('video').length>0){var myVideo=$self.find('video')[0];var autoPlay=new ScrollMagic.Scene({triggerElement:'#'+trigger,triggerHook:settings.general.triggerHook,duration:duration,offset:settings.general.offset,reverse:reverse,tweenChanges:true}).on("start",function(event){if(myVideo.paused){myVideo.play();}
else{myVideo.pause();}});autoPlay.addTo(controller);}else if($self.find('audio').length>0){var myAudio=$self.find('audio')[0];var autoPlay=new ScrollMagic.Scene({triggerElement:'#'+trigger,triggerHook:settings.general.triggerHook,duration:duration,offset:settings.general.offset,reverse:reverse,tweenChanges:true}).on("start",function(event){if(myAudio.paused){myAudio.play();}
else{myAudio.pause();}});autoPlay.addTo(controller);}}
if(typeof misc!=='undefined'&&misc.timeLapse=='on'){$(window).load(function(){var myVideo=$self.find('video')[0];var timeLapse=new ScrollMagic.Scene({triggerElement:'#'+trigger,triggerHook:settings.general.triggerHook,duration:duration,offset:settings.general.offset,reverse:reverse,tweenChanges:true})
var scrollVideo={a:0};setTimeout(()=>{timeLapse.setTween(gsap.to(scrollVideo,{a:myVideo.duration*1,onUpdate:()=>{myVideo.currentTime=scrollVideo.a*1}}));timeLapse.addTo(controller);},400);});}
if(typeof misc!=='undefined'&&misc.textDance=='on'){if($self.find('p').length<1){return;}
var mySplitText=new SplitText($self.find('p'),{type:"words,chars"});var chars=mySplitText.chars;var tl=gsap.timeline();gsap.to($self.find('p'),{perspective:400});var style=misc.textDanceStyle;var stagger=misc.textDanceSpeed||0.01;switch(style){case'wave_from':tl.from(chars,{duration:1,opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:"back",stagger:stagger},"+=0");break;case'wave_to':tl.to(chars,{duration:1,opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:"back",stagger:stagger},"+=0");break;case'random_from':tl.from(chars,{duration:1,opacity:0,scale:0,y:80,rotationZ:((Math.random()*(500-(-500)))+(-500)),rotationX:((Math.random()*(500-(-500)))+(-500)),rotationY:((Math.random()*(500-(-500)))+(-500)),transformOrigin:"0% 50% -50",ease:"back",stagger:stagger},"+=0");break;case'random_to':tl.to(chars,{duration:1,opacity:0,scale:0,y:80,rotationZ:((Math.random()*(500-(-500)))+(-500)),rotationX:((Math.random()*(500-(-500)))+(-500)),rotationY:((Math.random()*(500-(-500)))+(-500)),transformOrigin:"0% 50% -50",ease:"back",stagger:stagger},"+=0");break;default:tl.from(chars,{duration:1,opacity:0,scale:0,y:80,rotationZ:((Math.random()*(500-(-500)))+(-500)),rotationX:((Math.random()*(500-(-500)))+(-500)),rotationY:((Math.random()*(500-(-500)))+(-500)),transformOrigin:"0% 50% -50",ease:"back",stagger:stagger},"+=0");break;}
var textDance=new ScrollMagic.Scene({triggerElement:'#'+trigger,triggerHook:settings.general.triggerHook,duration:duration,offset:settings.general.offset,reverse:reverse,tweenChanges:true}).setTween(tl);textDance.addTo(controller);}
if((null!=init.blur&&0!=init.blur)||(null!=tween.blur&&0!=tween.blur)){var sceneBlur=new ScrollMagic.Scene({triggerElement:'#'+trigger,triggerHook:settings.general.triggerHook,duration:settings.general.duration,offset:settings.general.offset,reverse:reverse,tweenChanges:true});var blurElement={a:init.blur!=null?init.blur*1:0};var tl=gsap.timeline();tl.to(blurElement,{duration:tween.delay!=null&&tween.delay!=""?tween.delay:0.5,a:tween.blur!=null?tween.blur*1:0,onUpdate:applyBlur});sceneBlur.setTween(tl);function applyBlur()
{gsap.to($self,{webkitFilter:"blur("+blurElement.a+"px)",filter:"blur("+blurElement.a+"px)"});};sceneBlur.addTo(controller);}}})(jQuery);
/*! This file is auto-generated */
!function(){function t(){}var n=this,r=n._,e=Array.prototype,o=Object.prototype,u=Function.prototype,i=e.push,c=e.slice,l=o.toString,a=o.hasOwnProperty,f=Array.isArray,s=Object.keys,p=u.bind,h=Object.create,v=function(n){return n instanceof v?n:this instanceof v?void(this._wrapped=n):new v(n)};"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=v:exports)._=v:n._=v,v.VERSION="1.8.3";var y=function(u,i,n){if(void 0===i)return u;switch(null==n?3:n){case 1:return function(n){return u.call(i,n)};case 2:return function(n,t){return u.call(i,n,t)};case 3:return function(n,t,r){return u.call(i,n,t,r)};case 4:return function(n,t,r,e){return u.call(i,n,t,r,e)}}return function(){return u.apply(i,arguments)}},d=function(n,t,r){return null==n?v.identity:v.isFunction(n)?y(n,t,r):v.isObject(n)?v.matcher(n):v.property(n)};v.iteratee=function(n,t){return d(n,t,1/0)};function g(n){return v.isObject(n)?h?h(n):(t.prototype=n,n=new t,t.prototype=null,n):{}}var m=function(c,f){return function(n){var t=arguments.length;if(t<2||null==n)return n;for(var r=1;r<t;r++)for(var e=arguments[r],u=c(e),i=u.length,o=0;o<i;o++){var a=u[o];f&&void 0!==n[a]||(n[a]=e[a])}return n}},b=function(t){return function(n){return null==n?void 0:n[t]}},x=Math.pow(2,53)-1,_=b("length"),j=function(n){n=_(n);return"number"==typeof n&&0<=n&&n<=x};function w(a){return function(n,t,r,e){t=y(t,e,4);var u=!j(n)&&v.keys(n),i=(u||n).length,o=0<a?0:i-1;return arguments.length<3&&(r=n[u?u[o]:o],o+=a),function(n,t,r,e,u,i){for(;0<=u&&u<i;u+=a){var o=e?e[u]:u;r=t(r,n[o],o,n)}return r}(n,t,r,u,o,i)}}v.each=v.forEach=function(n,t,r){if(t=y(t,r),j(n))for(u=0,i=n.length;u<i;u++)t(n[u],u,n);else for(var e=v.keys(n),u=0,i=e.length;u<i;u++)t(n[e[u]],e[u],n);return n},v.map=v.collect=function(n,t,r){t=d(t,r);for(var e=!j(n)&&v.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},v.reduce=v.foldl=v.inject=w(1),v.reduceRight=v.foldr=w(-1),v.find=v.detect=function(n,t,r){r=j(n)?v.findIndex(n,t,r):v.findKey(n,t,r);if(void 0!==r&&-1!==r)return n[r]},v.filter=v.select=function(n,e,t){var u=[];return e=d(e,t),v.each(n,function(n,t,r){e(n,t,r)&&u.push(n)}),u},v.reject=function(n,t,r){return v.filter(n,v.negate(d(t)),r)},v.every=v.all=function(n,t,r){t=d(t,r);for(var e=!j(n)&&v.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},v.some=v.any=function(n,t,r){t=d(t,r);for(var e=!j(n)&&v.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},v.contains=v.includes=v.include=function(n,t,r,e){return j(n)||(n=v.values(n)),0<=v.indexOf(n,t,r="number"!=typeof r||e?0:r)},v.invoke=function(n,r){var e=c.call(arguments,2),u=v.isFunction(r);return v.map(n,function(n){var t=u?r:n[r];return null==t?t:t.apply(n,e)})},v.pluck=function(n,t){return v.map(n,v.property(t))},v.where=function(n,t){return v.filter(n,v.matcher(t))},v.findWhere=function(n,t){return v.find(n,v.matcher(t))},v.max=function(n,e,t){var r,u,i=-1/0,o=-1/0;if(null==e&&null!=n)for(var a=0,c=(n=j(n)?n:v.values(n)).length;a<c;a++)r=n[a],i<r&&(i=r);else e=d(e,t),v.each(n,function(n,t,r){u=e(n,t,r),(o<u||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},v.min=function(n,e,t){var r,u,i=1/0,o=1/0;if(null==e&&null!=n)for(var a=0,c=(n=j(n)?n:v.values(n)).length;a<c;a++)(r=n[a])<i&&(i=r);else e=d(e,t),v.each(n,function(n,t,r){((u=e(n,t,r))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},v.shuffle=function(n){for(var t,r=j(n)?n:v.values(n),e=r.length,u=Array(e),i=0;i<e;i++)(t=v.random(0,i))!==i&&(u[i]=u[t]),u[t]=r[i];return u},v.sample=function(n,t,r){return null==t||r?(n=!j(n)?v.values(n):n)[v.random(n.length-1)]:v.shuffle(n).slice(0,Math.max(0,t))},v.sortBy=function(n,e,t){return e=d(e,t),v.pluck(v.map(n,function(n,t,r){return{value:n,index:t,criteria:e(n,t,r)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(e<r||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};u=function(i){return function(r,e,n){var u={};return e=d(e,n),v.each(r,function(n,t){t=e(n,t,r);i(u,n,t)}),u}};v.groupBy=u(function(n,t,r){v.has(n,r)?n[r].push(t):n[r]=[t]}),v.indexBy=u(function(n,t,r){n[r]=t}),v.countBy=u(function(n,t,r){v.has(n,r)?n[r]++:n[r]=1}),v.toArray=function(n){return n?v.isArray(n)?c.call(n):j(n)?v.map(n,v.identity):v.values(n):[]},v.size=function(n){return null==n?0:(j(n)?n:v.keys(n)).length},v.partition=function(n,e,t){e=d(e,t);var u=[],i=[];return v.each(n,function(n,t,r){(e(n,t,r)?u:i).push(n)}),[u,i]},v.first=v.head=v.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:v.initial(n,n.length-t)},v.initial=function(n,t,r){return c.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},v.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:v.rest(n,Math.max(0,n.length-t))},v.rest=v.tail=v.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},v.compact=function(n){return v.filter(n,v.identity)};var A=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=_(n);o<a;o++){var c=n[o];if(j(c)&&(v.isArray(c)||v.isArguments(c))){var f=0,l=(c=!t?A(c,t,r):c).length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};function O(i){return function(n,t,r){t=d(t,r);for(var e=_(n),u=0<i?0:e-1;0<=u&&u<e;u+=i)if(t(n[u],u,n))return u;return-1}}function k(i,o,a){return function(n,t,r){var e=0,u=_(n);if("number"==typeof r)0<i?e=0<=r?r:Math.max(r+u,e):u=0<=r?Math.min(r+1,u):r+u+1;else if(a&&r&&u)return n[r=a(n,t)]===t?r:-1;if(t!=t)return 0<=(r=o(c.call(n,e,u),v.isNaN))?r+e:-1;for(r=0<i?e:u-1;0<=r&&r<u;r+=i)if(n[r]===t)return r;return-1}}v.flatten=function(n,t){return A(n,t,!1)},v.without=function(n){return v.difference(n,c.call(arguments,1))},v.uniq=v.unique=function(n,t,r,e){v.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=d(r,e));for(var u=[],i=[],o=0,a=_(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?v.contains(i,f)||(i.push(f),u.push(c)):v.contains(u,c)||u.push(c)}return u},v.union=function(){return v.uniq(A(arguments,!0,!0))},v.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=_(n);e<u;e++){var i=n[e];if(!v.contains(t,i)){for(var o=1;o<r&&v.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},v.difference=function(n){var t=A(arguments,!0,!0,1);return v.filter(n,function(n){return!v.contains(t,n)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(n){for(var t=n&&v.max(n,_).length||0,r=Array(t),e=0;e<t;e++)r[e]=v.pluck(n,e);return r},v.object=function(n,t){for(var r={},e=0,u=_(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},v.findIndex=O(1),v.findLastIndex=O(-1),v.sortedIndex=function(n,t,r,e){for(var u=(r=d(r,e,1))(t),i=0,o=_(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},v.indexOf=k(1,v.findIndex,v.sortedIndex),v.lastIndexOf=k(-1,v.findLastIndex),v.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};function F(n,t,r,e,u){return e instanceof t?(r=g(n.prototype),u=n.apply(r,u),v.isObject(u)?u:r):n.apply(r,u)}v.bind=function(n,t){if(p&&n.bind===p)return p.apply(n,c.call(arguments,1));if(!v.isFunction(n))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),e=function(){return F(n,e,t,this,r.concat(c.call(arguments)))};return e},v.partial=function(u){var i=c.call(arguments,1),o=function(){for(var n=0,t=i.length,r=Array(t),e=0;e<t;e++)r[e]=i[e]===v?arguments[n++]:i[e];for(;n<arguments.length;)r.push(arguments[n++]);return F(u,o,this,this,r)};return o},v.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)n[r=arguments[t]]=v.bind(n[r],n);return n},v.memoize=function(e,u){var i=function(n){var t=i.cache,r=""+(u?u.apply(this,arguments):n);return v.has(t,r)||(t[r]=e.apply(this,arguments)),t[r]};return i.cache={},i},v.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(r,e,u){var i,o,a,c=null,f=0;u=u||{};function l(){f=!1===u.leading?0:v.now(),c=null,a=r.apply(i,o),c||(i=o=null)}return function(){var n=v.now();f||!1!==u.leading||(f=n);var t=e-(n-f);return i=this,o=arguments,t<=0||e<t?(c&&(clearTimeout(c),c=null),f=n,a=r.apply(i,o),c||(i=o=null)):c||!1===u.trailing||(c=setTimeout(l,t)),a}},v.debounce=function(t,r,e){var u,i,o,a,c,f=function(){var n=v.now()-a;n<r&&0<=n?u=setTimeout(f,r-n):(u=null,e||(c=t.apply(o,i),u||(o=i=null)))};return function(){o=this,i=arguments,a=v.now();var n=e&&!u;return u=u||setTimeout(f,r),n&&(c=t.apply(o,i),o=i=null),c}},v.wrap=function(n,t){return v.partial(t,n)},v.negate=function(n){return function(){return!n.apply(this,arguments)}},v.compose=function(){var r=arguments,e=r.length-1;return function(){for(var n=e,t=r[e].apply(this,arguments);n--;)t=r[n].call(this,t);return t}},v.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},v.before=function(n,t){var r;return function(){return 0<--n&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},v.once=v.partial(v.before,2);var S=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function M(n,t){var r=E.length,e=n.constructor,u=v.isFunction(e)&&e.prototype||o,i="constructor";for(v.has(n,i)&&!v.contains(t,i)&&t.push(i);r--;)(i=E[r])in n&&n[i]!==u[i]&&!v.contains(t,i)&&t.push(i)}v.keys=function(n){if(!v.isObject(n))return[];if(s)return s(n);var t,r=[];for(t in n)v.has(n,t)&&r.push(t);return S&&M(n,r),r},v.allKeys=function(n){if(!v.isObject(n))return[];var t,r=[];for(t in n)r.push(t);return S&&M(n,r),r},v.values=function(n){for(var t=v.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},v.mapObject=function(n,t,r){t=d(t,r);for(var e,u=v.keys(n),i=u.length,o={},a=0;a<i;a++)o[e=u[a]]=t(n[e],e,n);return o},v.pairs=function(n){for(var t=v.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},v.invert=function(n){for(var t={},r=v.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},v.functions=v.methods=function(n){var t,r=[];for(t in n)v.isFunction(n[t])&&r.push(t);return r.sort()},v.extend=m(v.allKeys),v.extendOwn=v.assign=m(v.keys),v.findKey=function(n,t,r){t=d(t,r);for(var e,u=v.keys(n),i=0,o=u.length;i<o;i++)if(t(n[e=u[i]],e,n))return e},v.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;v.isFunction(t)?(u=v.allKeys(o),e=y(t,r)):(u=A(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},v.omit=function(n,t,r){var e;return t=v.isFunction(t)?v.negate(t):(e=v.map(A(arguments,!1,!1,1),String),function(n,t){return!v.contains(e,t)}),v.pick(n,t,r)},v.defaults=m(v.allKeys,!0),v.create=function(n,t){n=g(n);return t&&v.extendOwn(n,t),n},v.clone=function(n){return v.isObject(n)?v.isArray(n)?n.slice():v.extend({},n):n},v.tap=function(n,t){return t(n),n},v.isMatch=function(n,t){var r=v.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var I=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof v&&(n=n._wrapped),t instanceof v&&(t=t._wrapped);var u=l.call(n);if(u!==l.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,u=t.constructor;if(o!==u&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(u)&&u instanceof u)&&"constructor"in n&&"constructor"in t)return!1}e=e||[];for(var a=(r=r||[]).length;a--;)if(r[a]===n)return e[a]===t;if(r.push(n),e.push(t),i){if((a=n.length)!==t.length)return!1;for(;a--;)if(!I(n[a],t[a],r,e))return!1}else{var c,f=v.keys(n),a=f.length;if(v.keys(t).length!==a)return!1;for(;a--;)if(c=f[a],!v.has(t,c)||!I(n[c],t[c],r,e))return!1}return r.pop(),e.pop(),!0};v.isEqual=function(n,t){return I(n,t)},v.isEmpty=function(n){return null==n||(j(n)&&(v.isArray(n)||v.isString(n)||v.isArguments(n))?0===n.length:0===v.keys(n).length)},v.isElement=function(n){return!(!n||1!==n.nodeType)},v.isArray=f||function(n){return"[object Array]"===l.call(n)},v.isObject=function(n){var t=typeof n;return"function"==t||"object"==t&&!!n},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(n){return l.call(n)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(n){return v.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(n){return"function"==typeof n||!1}),v.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},v.isNaN=function(n){return v.isNumber(n)&&n!==+n},v.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===l.call(n)},v.isNull=function(n){return null===n},v.isUndefined=function(n){return void 0===n},v.has=function(n,t){return null!=n&&a.call(n,t)},v.noConflict=function(){return n._=r,this},v.identity=function(n){return n},v.constant=function(n){return function(){return n}},v.noop=function(){},v.property=b,v.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(n){return v.isMatch(n,t)}},v.times=function(n,t,r){var e=Array(Math.max(0,n));t=y(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},v.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},v.now=Date.now||function(){return(new Date).getTime()};m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},f=v.invert(m),b=function(t){function r(n){return t[n]}var n="(?:"+v.keys(t).join("|")+")",e=RegExp(n),u=RegExp(n,"g");return function(n){return e.test(n=null==n?"":""+n)?n.replace(u,r):n}};v.escape=b(m),v.unescape=b(f),v.result=function(n,t,r){t=null==n?void 0:n[t];return v.isFunction(t=void 0===t?r:t)?t.call(n):t};var N=0;v.uniqueId=function(n){var t=++N+"";return n?n+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function B(n){return"\\"+R[n]}var T=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g;v.template=function(i,n,t){n=v.defaults({},n=!n&&t?t:n,v.templateSettings);var t=RegExp([(n.escape||T).source,(n.interpolate||T).source,(n.evaluate||T).source].join("|")+"|$","g"),o=0,a="__p+='";i.replace(t,function(n,t,r,e,u){return a+=i.slice(o,u).replace(q,B),o=u+n.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":e&&(a+="';\n"+e+"\n__p+='"),n}),a+="';\n",a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+(a=!n.variable?"with(obj||{}){\n"+a+"}\n":a)+"return __p;\n";try{var r=new Function(n.variable||"obj","_",a)}catch(n){throw n.source=a,n}t=function(n){return r.call(this,n,v)},n=n.variable||"obj";return t.source="function("+n+"){\n"+a+"}",t},v.chain=function(n){n=v(n);return n._chain=!0,n};function K(n,t){return n._chain?v(t).chain():t}v.mixin=function(r){v.each(v.functions(r),function(n){var t=v[n]=r[n];v.prototype[n]=function(){var n=[this._wrapped];return i.apply(n,arguments),K(this,t.apply(v,n))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var r=e[t];v.prototype[t]=function(){var n=this._wrapped;return r.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],K(this,n)}}),v.each(["concat","join","slice"],function(n){var t=e[n];v.prototype[n]=function(){return K(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this);
/*! This file is auto-generated */
!function(n){var s="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,i){s.Backbone=n(s,i,t,e)});else if("undefined"!=typeof exports){var t,e=require("underscore");try{t=require("jquery")}catch(t){}n(s,exports,e,t)}else s.Backbone=n(s,{},s._,s.jQuery||s.Zepto||s.ender||s.$)}(function(t,h,b,e){var i=t.Backbone,o=Array.prototype.slice;h.VERSION="1.4.0",h.$=e,h.noConflict=function(){return t.Backbone=i,this},h.emulateHTTP=!1,h.emulateJSON=!1;var a,n=h.Events={},u=/\s+/,c=function(t,e,i,n,s){var r,o=0;if(i&&"object"==typeof i){void 0!==n&&"context"in s&&void 0===s.context&&(s.context=n);for(r=b.keys(i);o<r.length;o++)e=c(t,e,r[o],i[r[o]],s)}else if(i&&u.test(i))for(r=i.split(u);o<r.length;o++)e=t(e,r[o],n,s);else e=t(e,i,n,s);return e};n.on=function(t,e,i){return this._events=c(s,this._events||{},t,e,{context:i,ctx:this,listening:a}),a&&(((this._listeners||(this._listeners={}))[a.id]=a).interop=!1),this},n.listenTo=function(t,e,i){if(!t)return this;var n=t._listenId||(t._listenId=b.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),r=a=s[n];r||(this._listenId||(this._listenId=b.uniqueId("l")),r=a=s[n]=new g(this,t));t=l(t,e,i,this);if(a=void 0,t)throw t;return r.interop&&r.on(e,i),this};var s=function(t,e,i,n){var s,r;return i&&(s=t[e]||(t[e]=[]),r=n.context,e=n.ctx,(n=n.listening)&&n.count++,s.push({callback:i,context:r,ctx:r||e,listening:n})),t},l=function(t,e,i,n){try{t.on(e,i,n)}catch(t){return t}};n.off=function(t,e,i){return this._events&&(this._events=c(r,this._events,t,e,{context:i,listeners:this._listeners})),this},n.stopListening=function(t,e,i){var n=this._listeningTo;if(!n)return this;for(var s=t?[t._listenId]:b.keys(n),r=0;r<s.length;r++){var o=n[s[r]];if(!o)break;o.obj.off(e,i,this),o.interop&&o.off(e,i)}return b.isEmpty(n)&&(this._listeningTo=void 0),this};var r=function(t,e,i,n){if(t){var s,r=n.context,o=n.listeners,h=0;if(e||r||i){for(s=e?[e]:b.keys(t);h<s.length;h++){var a=t[e=s[h]];if(!a)break;for(var u=[],c=0;c<a.length;c++){var l=a[c];i&&i!==l.callback&&i!==l.callback._callback||r&&r!==l.context?u.push(l):(l=l.listening)&&l.off(e,i)}u.length?t[e]=u:delete t[e]}return t}for(s=b.keys(o);h<s.length;h++)o[s[h]].cleanup()}};n.once=function(t,e,i){var n=c(d,{},t,e,this.off.bind(this));return this.on(n,e="string"==typeof t&&null==i?void 0:e,i)},n.listenToOnce=function(t,e,i){i=c(d,{},e,i,this.stopListening.bind(this,t));return this.listenTo(t,i)};var d=function(t,e,i,n){var s;return i&&((s=t[e]=b.once(function(){n(e,s),i.apply(this,arguments)}))._callback=i),t};n.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return c(f,this._events,t,void 0,i),this};var f=function(t,e,i,n){var s,r;return t&&(s=t[e],r=t.all,s&&r&&(r=r.slice()),s&&p(s,n),r&&p(r,[e].concat(n))),t},p=function(t,e){var i,n=-1,s=t.length,r=e[0],o=e[1],h=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,o);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,o,h);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}},g=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=n.on,g.prototype.off=function(t,e){e=this.interop?(this._events=c(r,this._events,t,e,{context:void 0,listeners:void 0}),!this._events):(this.count--,0===this.count);e&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},n.bind=n.on,n.unbind=n.off,b.extend(h,n);var v=h.Model=function(t,e){var i=t||{};e=e||{},this.preinitialize.apply(this,arguments),this.cid=b.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var n=b.result(this,"defaults"),i=b.defaults(b.extend({},n,i),n);this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};b.extend(v.prototype,n,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return b.clone(this.attributes)},sync:function(){return h.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return b.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!b.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var n;if("object"==typeof t?(n=t,i=e):(n={})[t]=e,!this._validate(n,i=i||{}))return!1;var s=i.unset,r=i.silent,o=[],t=this._changing;this._changing=!0,t||(this._previousAttributes=b.clone(this.attributes),this.changed={});var h,a=this.attributes,u=this.changed,c=this._previousAttributes;for(h in n)e=n[h],b.isEqual(a[h],e)||o.push(h),b.isEqual(c[h],e)?delete u[h]:u[h]=e,s?delete a[h]:a[h]=e;if(this.idAttribute in n&&(this.id=this.get(this.idAttribute)),!r){o.length&&(this._pending=i);for(var l=0;l<o.length;l++)this.trigger("change:"+o[l],this,a[o[l]],i)}if(t)return this;if(!r)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,b.extend({},e,{unset:!0}))},clear:function(t){var e,i={};for(e in this.attributes)i[e]=void 0;return this.set(i,b.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!b.isEmpty(this.changed):b.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&b.clone(this.changed);var e,i,n=this._changing?this._previousAttributes:this.attributes,s={};for(i in t){var r=t[i];b.isEqual(n[i],r)||(s[i]=r,e=!0)}return!!e&&s},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return b.clone(this._previousAttributes)},fetch:function(i){i=b.extend({parse:!0},i);var n=this,s=i.success;return i.success=function(t){var e=i.parse?n.parse(t,i):t;if(!n.set(e,i))return!1;s&&s.call(i.context,n,t,i),n.trigger("sync",n,t,i)},B(this,i),this.sync("read",this,i)},save:function(t,e,i){var n;null==t||"object"==typeof t?(n=t,i=e):(n={})[t]=e;var s=(i=b.extend({validate:!0,parse:!0},i)).wait;if(n&&!s){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;var r=this,o=i.success,h=this.attributes;i.success=function(t){r.attributes=h;var e=i.parse?r.parse(t,i):t;if((e=s?b.extend({},n,e):e)&&!r.set(e,i))return!1;o&&o.call(i.context,r,t,i),r.trigger("sync",r,t,i)},B(this,i),n&&s&&(this.attributes=b.extend({},h,n));e=this.isNew()?"create":i.patch?"patch":"update";"patch"!=e||i.attrs||(i.attrs=n);e=this.sync(e,this,i);return this.attributes=h,e},destroy:function(e){e=e?b.clone(e):{};function i(){n.stopListening(),n.trigger("destroy",n,n.collection,e)}var n=this,s=e.success,r=e.wait,t=!(e.success=function(t){r&&i(),s&&s.call(e.context,n,t,e),n.isNew()||n.trigger("sync",n,t,e)});return this.isNew()?b.defer(e.success):(B(this,e),t=this.sync("delete",this,e)),r||i(),t},url:function(){var t=b.result(this,"urlRoot")||b.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},b.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=b.extend({},this.attributes,t);t=this.validationError=this.validate(t,e)||null;return!t||(this.trigger("invalid",this,t,b.extend(e,{validationError:t})),!1)}});function x(t,e,i){i=Math.min(Math.max(i,0),t.length);for(var n=Array(t.length-i),s=e.length,r=0;r<n.length;r++)n[r]=t[r+i];for(r=0;r<s;r++)t[r+i]=e[r];for(r=0;r<n.length;r++)t[r+s+i]=n[r]}var m=h.Collection=function(t,e){e=e||{},this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,b.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1};b.extend(m.prototype,n,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return h.sync.apply(this,arguments)},add:function(t,e){return this.set(t,b.extend({merge:!1},e,_))},remove:function(t,e){e=b.extend({},e);var i=!b.isArray(t);t=i?[t]:t.slice();t=this._removeModels(t,e);return!e.silent&&t.length&&(e.changes={added:[],merged:[],removed:t},this.trigger("update",this,e)),i?t[0]:t},set:function(t,e){if(null!=t){(e=b.extend({},w,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!b.isArray(t);t=i?[t]:t.slice();var n=e.at;(n=(n=null!=n?+n:n)>this.length?this.length:n)<0&&(n+=this.length+1);for(var s=[],r=[],o=[],h=[],a={},u=e.add,c=e.merge,l=e.remove,d=!1,f=this.comparator&&null==n&&!1!==e.sort,p=b.isString(this.comparator)?this.comparator:null,g=0;g<t.length;g++){var v,m=t[g],_=this.get(m);_?(c&&m!==_&&(v=this._isModel(m)?m.attributes:m,e.parse&&(v=_.parse(v,e)),_.set(v,e),o.push(_),f&&!d&&(d=_.hasChanged(p))),a[_.cid]||(a[_.cid]=!0,s.push(_)),t[g]=_):u&&(m=t[g]=this._prepareModel(m,e))&&(r.push(m),this._addReference(m,e),a[m.cid]=!0,s.push(m))}if(l){for(g=0;g<this.length;g++)a[(m=this.models[g]).cid]||h.push(m);h.length&&this._removeModels(h,e)}var y=!1;if(s.length&&(!f&&u&&l)?(y=this.length!==s.length||b.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,x(this.models,s,0),this.length=this.models.length):r.length&&(f&&(d=!0),x(this.models,r,null==n?this.length:n),this.length=this.models.length),d&&this.sort({silent:!0}),!e.silent){for(g=0;g<r.length;g++)null!=n&&(e.index=n+g),(m=r[g]).trigger("add",m,this,e);(d||y)&&this.trigger("sort",this,e),(r.length||h.length||o.length)&&(e.changes={added:r,removed:h,merged:o},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?b.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,b.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,b.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,b.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t=t||{};var i=e.length;return b.isFunction(e)&&(e=e.bind(this)),1===i||b.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(i){var n=(i=b.extend({parse:!0},i)).success,s=this;return i.success=function(t){var e=i.reset?"reset":"set";s[e](t,i),n&&n.call(i.context,s,t,i),s.trigger("sync",s,t,i)},B(this,i),this.sync("read",this,i)},create:function(t,e){var n=(e=e?b.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new E(this,k)},keys:function(){return new E(this,I)},entries:function(){return new E(this,S)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;t=new((e=e?b.clone(e):{}).collection=this).model(t,e);return t.validationError?(this.trigger("invalid",this,t.validationError,e),!1):t},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s,r,o=this.get(t[n]);o&&(s=this.indexOf(o),this.models.splice(s,1),this.length--,delete this._byId[o.cid],null!=(r=this.modelId(o.attributes))&&delete this._byId[r],e.silent||(e.index=s,o.trigger("remove",o,this,e)),i.push(o),this._removeReference(o,e))}return i},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;var s,r;"destroy"===t&&this.remove(e,n),"change"!==t||(s=this.modelId(e.previousAttributes()))!==(r=this.modelId(e.attributes))&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}this.trigger.apply(this,arguments)}});var y="function"==typeof Symbol&&Symbol.iterator;y&&(m.prototype[y]=m.prototype.values);var E=function(t,e){this._collection=t,this._kind=e,this._index=0},k=1,I=2,S=3;y&&(E.prototype[y]=function(){return this}),E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);return this._index++,{value:this._kind===k?e:(t=this._collection.modelId(e.attributes),this._kind===I?t:[t,e]),done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var e=h.View=function(t){this.cid=b.uniqueId("view"),this.preinitialize.apply(this,arguments),b.extend(this,b.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];b.extend(e.prototype,n,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof h.$?t:h.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(!(t=t||b.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var i=t[e];(i=!b.isFunction(i)?this[i]:i)&&(e=e.match(T),this.delegate(e[1],e[2],i.bind(this)))}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){var t;this.el?this.setElement(b.result(this,"el")):(t=b.extend({},b.result(this,"attributes")),this.id&&(t.id=b.result(this,"id")),this.className&&(t.class=b.result(this,"className")),this.setElement(this._createElement(b.result(this,"tagName"))),this._setAttributes(t))},_setAttributes:function(t){this.$el.attr(t)}});function H(i,n,t,s){b.each(t,function(t,e){n[e]&&(i.prototype[e]=function(n,t,s,r){switch(t){case 1:return function(){return n[s](this[r])};case 2:return function(t){return n[s](this[r],t)};case 3:return function(t,e){return n[s](this[r],$(t,this),e)};case 4:return function(t,e,i){return n[s](this[r],$(t,this),e,i)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[s].apply(n,t)}}}(n,t,e,s))})}var $=function(e,t){return b.isFunction(e)?e:b.isObject(e)&&!t._isModel(e)?A(e):b.isString(e)?function(t){return t.get(e)}:e},A=function(t){var e=b.matches(t);return function(t){return e(t.attributes)}};b.each([[m,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(t){var i=t[0],e=t[1],n=t[2];i.mixin=function(t){var e=b.reduce(b.functions(t),function(t,e){return t[e]=0,t},{});H(i,t,e,n)},H(i,b,e,n)}),h.sync=function(t,e,n){var i=C[t];b.defaults(n=n||{},{emulateHTTP:h.emulateHTTP,emulateJSON:h.emulateJSON});var s,r={type:i,dataType:"json"};n.url||(r.url=b.result(e,"url")||F()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),!n.emulateHTTP||"PUT"!==i&&"DELETE"!==i&&"PATCH"!==i||(r.type="POST",n.emulateJSON&&(r.data._method=i),s=n.beforeSend,n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",i),s)return s.apply(this,arguments)}),"GET"===r.type||n.emulateJSON||(r.processData=!1);var o=n.error;n.error=function(t,e,i){n.textStatus=e,n.errorThrown=i,o&&o.call(n.context,t,e,i)};r=n.xhr=h.ajax(b.extend(r,n));return e.trigger("request",e,r,n),r};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};h.ajax=function(){return h.$.ajax.apply(h.$,arguments)};var y=h.Router=function(t){t=t||{},this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,M=/(\(\?)?:\w+/g,N=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;b.extend(y.prototype,n,{preinitialize:function(){},initialize:function(){},route:function(e,i,n){b.isRegExp(e)||(e=this._routeToRegExp(e)),b.isFunction(i)&&(n=i,i=""),n=n||this[i];var s=this;return h.history.route(e,function(t){t=s._extractParameters(e,t);!1!==s.execute(n,t,i)&&(s.trigger.apply(s,["route:"+i].concat(t)),s.trigger("route",i,t),h.history.trigger("route",s,i,t))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,e){return h.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=b.result(this,"routes");for(var t,e=b.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(R,"(?:$1)?").replace(M,function(t,e){return e?t:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return b.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var O=h.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},U=/^[#\/]|\s+$/g,z=/^\/+|\/+$/g,q=/#.*$/;O.started=!1,b.extend(O.prototype,n,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){t=(t||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return(t=null==t?this._usePushState||!this._wantsHashChange?this.getPath():this.getHash():t).replace(U,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=b.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(z,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,(e=(e=document.body).insertBefore(this.iframe,e.firstChild).contentWindow).document.open(),e.document.close(),e.location.hash="#"+this.fragment);var e=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?e("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if((e=e===this.fragment&&this.iframe?this.getHash(this.iframe.contentWindow):e)===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),b.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(t,e){if(!O.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root,n=(i=""===t||"?"===t.charAt(0)?i.slice(0,-1)||"/":i)+t;t=t.replace(q,"");i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)&&(n=this.iframe.contentWindow,e.replace||(n.document.open(),n.document.close()),this._updateHash(n.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){i?(i=t.href.replace(/(javascript:|#).*$/,""),t.replace(i+"#"+e)):t.hash="#"+e}}),h.history=new O;v.extend=m.extend=y.extend=e.extend=O.extend=function(t,e){var i=this,n=t&&b.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)};return b.extend(n,i,e),n.prototype=b.create(i.prototype,t),(n.prototype.constructor=n).__super__=i.prototype,n};var F=function(){throw new Error('A "url" property or function must be specified')},B=function(e,i){var n=i.error;i.error=function(t){n&&n.call(i.context,e,t,i),e.trigger("error",e,t,i)}};return h});
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
(function(t,e){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(i,n){return t.Marionette=t.Mn=e(t,i,n)});else if("undefined"!=typeof exports){var i=require("backbone"),n=require("underscore");module.exports=e(t,i,n)}else t.Marionette=t.Mn=e(t,t.Backbone,t._)})(this,function(t,e,i){"use strict";(function(t,e){var i=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(i.prototype,{add:function(t,e){var i=t.cid;return this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var i=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){return t===i?(delete this._indexByCustom[e],!0):void 0},this),delete this._views[i],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,i){e.each(this._views,function(n){e.isFunction(n[t])&&n[t].apply(n,i||[])})},_updateLength:function(){this.length=e.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return e.each(n,function(t){i.prototype[t]=function(){var i=e.values(this._views),n=[i].concat(e.toArray(arguments));return e[t].apply(e,n)}}),i}(t,e),t.ChildViewContainer.VERSION="0.1.7",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=i,this},t.ChildViewContainer})(e,i),function(t,e){var i=t.Wreqr,n=t.Wreqr={};return t.Wreqr.VERSION="1.3.3",t.Wreqr.noConflict=function(){return t.Wreqr=i,this},n.Handlers=function(t,e){var i=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,i){var n=null;e.isObject(t)&&!e.isFunction(t)&&(n=t.context,t=t.callback),this.setHandler(i,t,n)},this)},setHandler:function(t,e,i){var n={callback:e,context:i};this._wreqrHandlers[t]=n,this.trigger("handler:add",t,e,i)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(t,e),n.CommandStorage=function(){var i=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(i.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var i=this.getCommands(t);i.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),i}(),n.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var i=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,i):this.storage.addCommand(t,i)},_executeCommands:function(t,i,n){var r=this.storage.getCommands(t);e.each(r.instances,function(t){i.apply(n,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var i,n=t.storageType||this.storageType;i=e.isFunction(n)?new n:n,this.storage=i}})}(n,e),n.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){return this.hasHandler(t)?this.getHandler(t).apply(this,e.rest(arguments)):void 0}})}(n,e),n.EventAggregator=function(t,e){var i=function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,e),n.Channel=function(){var i=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,i,n){if(i){n=n||this;var r="vent"===t?"on":"setHandler";e.each(i,function(i,s){this[t][r](s,e.bind(i,n))},this)}}}),i}(n),n.radio=function(t,e){var i=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(i.prototype,{channel:function(t){if(!t)throw Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var i=this._channels[e];return i||(i=new t.Channel(e),this._channels[e]=i),i},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(n[t],function(e){this[t][e]=r(this,t,e)},this)},this)}});var n={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,i,n){return function(r){var s=t._getChannel(r)[i];return s[n].apply(s,e.rest(arguments))}};return new i}(n,e),t.Wreqr}(e,i);var n=t.Marionette,r=t.Mn,s=e.Marionette={};s.VERSION="2.4.2",s.noConflict=function(){return t.Marionette=n,t.Mn=r,this},e.Marionette=s,s.Deferred=e.$.Deferred,s.extend=e.Model.extend,s.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},s.mergeOptions=function(t,e){t&&i.extend(this,i.pick(t,e))},s.getOption=function(t,e){return t&&e?t.options&&void 0!==t.options[e]?t.options[e]:t[e]:void 0},s.proxyGetOption=function(t){return s.getOption(this,t)},s._getValue=function(t,e,n){return i.isFunction(t)&&(t=n?t.apply(e,n):t.call(e)),t},s.normalizeMethods=function(t){return i.reduce(t,function(t,e,n){return i.isFunction(e)||(e=this[e]),e&&(t[n]=e),t},{},this)},s.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(t){return e[t.slice(4)]})},s.normalizeUIKeys=function(t,e){return i.reduce(t,function(t,i,n){var r=s.normalizeUIString(n,e);return t[r]=i,t},{})},s.normalizeUIValues=function(t,e,n){return i.each(t,function(r,o){i.isString(r)?t[o]=s.normalizeUIString(r,e):i.isObject(r)&&i.isArray(n)&&(i.extend(r,s.normalizeUIValues(i.pick(r,n),e)),i.each(n,function(t){var n=r[t];i.isString(n)&&(r[t]=s.normalizeUIString(n,e))}))}),t},s.actAsCollection=function(t,e){var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];i.each(n,function(n){t[n]=function(){var t=i.values(i.result(this,e)),r=[t].concat(i.toArray(arguments));return i[n].apply(i,r)}})};var o=s.deprecate=function(t,e){i.isObject(t)&&(t=t.prev+" is going to be removed in the future. "+"Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||o._cache[t]||(o._warn("Deprecation warning: "+t),o._cache[t]=!0)};o._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},o._cache={},s._triggerMethod=function(){function t(t,e,i){return i.toUpperCase()}var e=/(^|:)(\w)/gi;return function(n,r,s){var o=3>arguments.length;o&&(s=r,r=s[0]);var h,a="on"+r.replace(e,t),d=n[a];return i.isFunction(d)&&(h=d.apply(n,o?i.rest(s):s)),i.isFunction(n.trigger)&&(o+s.length>1?n.trigger.apply(n,o?s:[r].concat(i.drop(s,0))):n.trigger(r)),h}}(),s.triggerMethod=function(){return s._triggerMethod(this,arguments)},s.triggerMethodOn=function(t){var e=i.isFunction(t.triggerMethod)?t.triggerMethod:s.triggerMethod;return e.apply(t,i.rest(arguments))},s.MonitorDOMRefresh=function(t){function e(){t._isShown=!0,r()}function n(){t._isRendered=!0,r()}function r(){t._isShown&&t._isRendered&&s.isNodeAttached(t.el)&&i.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}t.on({show:e,render:n})},function(t){function e(e,n,r,s){var o=s.split(/\s+/);i.each(o,function(i){var s=e[i];if(!s)throw new t.Error('Method "'+i+'" was configured as an event handler, but does not exist.');e.listenTo(n,r,s)})}function n(t,e,i,n){t.listenTo(e,i,n)}function r(t,e,n,r){var s=r.split(/\s+/);i.each(s,function(i){var r=t[i];t.stopListening(e,n,r)})}function s(t,e,i,n){t.stopListening(e,i,n)}function o(e,n,r,s,o){if(n&&r){if(!i.isObject(r))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=t._getValue(r,e),i.each(r,function(t,r){i.isFunction(t)?s(e,n,r,t):o(e,n,r,t)})}}t.bindEntityEvents=function(t,i,r){o(t,i,r,n,e)},t.unbindEntityEvents=function(t,e,i){o(t,e,i,s,r)},t.proxyBindEntityEvents=function(e,i){return t.bindEntityEvents(this,e,i)},t.proxyUnbindEntityEvents=function(e,i){return t.unbindEntityEvents(this,e,i)}}(s);var h=["description","fileName","lineNumber","name","message","number"];return s.Error=s.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+s.VERSION+"/",constructor:function(t,e){i.isObject(t)?(e=t,t=e.message):e||(e={});var n=Error.call(this,t);i.extend(this,i.pick(n,h),i.pick(e,h)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,s.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),s.Error.extend=s.extend,s.Callbacks=function(){this._deferred=s.Deferred(),this._callbacks=[]},i.extend(s.Callbacks.prototype,{add:function(t,e){var n=i.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),n.then(function(i){e&&(i.context=e),t.call(i.context,i.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=s.Deferred(),this._callbacks=[],i.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),s.Controller=function(t){this.options=t||{},i.isFunction(this.initialize)&&this.initialize(this.options)},s.Controller.extend=s.extend,i.extend(s.Controller.prototype,e.Events,{destroy:function(){return s._triggerMethod(this,"before:destroy",arguments),s._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:s.triggerMethod,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption}),s.Object=function(t){this.options=i.extend({},i.result(this,"options"),t),this.initialize.apply(this,arguments)},s.Object.extend=s.extend,i.extend(s.Object.prototype,e.Events,{initialize:function(){},destroy:function(){return this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening(),this},triggerMethod:s.triggerMethod,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.Region=s.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new s.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),s.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t);var n=e||{},r=t!==this.currentView,o=!!n.preventDestroy,h=!!n.forceShow,a=!!this.currentView,d=r&&!o,l=r||h;if(a&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&delete this.currentView._parent,d?this.empty():a&&l&&this.currentView.off("destroy",this.empty,this),l){t.once("destroy",this.empty,this),t.render(),t._parent=this,a&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),s.triggerMethodOn(t,"before:show",t,this,e),a&&this.triggerMethod("swapOut",this.currentView,this,e);var c=s.isNodeAttached(this.el),u=[],g=i.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},n);return c&&g.triggerBeforeAttach&&(u=this._displayedViews(t),this._triggerAttach(u,"before:")),this.attachHtml(t),this.currentView=t,c&&g.triggerAttach&&(u=this._displayedViews(t),this._triggerAttach(u)),a&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),s.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var n=(e||"")+"attach";i.each(t,function(t){s.triggerMethodOn(t,n,t,this)},this)},_displayedViews:function(t){return i.union([t],i.result(t,"_getNestedViews")||[])},_ensureElement:function(){if(i.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new s.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new s.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new s.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,s._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,i=s._getValue(t,"preventDestroy",this);return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),i||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,i&&this.$el.contents().detach(),this):void 0},_destroyView:function(){var t=this.currentView;t.destroy&&!t.isDestroyed?t.destroy():t.remove&&(t.remove(),t.isDestroyed=!0)},attachView:function(t){return this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.getOption('el')),delete this.$el,this}},{buildRegion:function(t,e){if(i.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(i.isFunction(t))return this._buildRegionFromRegionClass(t);throw new s.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var n=t.regionClass||e,r=i.omit(t,"selector","regionClass");return t.selector&&!r.el&&(r.el=t.selector),new n(r)},_buildRegionFromRegionClass:function(t){return new t}}),s.RegionManager=s.Controller.extend({constructor:function(t){this._regions={},this.length=0,s.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=s._getValue(t,this,arguments),i.reduce(t,function(t,n,r){return i.isString(n)&&(n={selector:n}),n.selector&&(n=i.defaults({},n,e)),t[r]=this.addRegion(r,n),t},{},this)},addRegion:function(t,e){var i;return i=e instanceof s.Region?e:s.Region.buildRegion(e,s.Region),this.triggerMethod("before:add:region",t,i),i._parent=this,this._store(t,i),this.triggerMethod("add:region",t,i),i},get:function(t){return this._regions[t]},getRegions:function(){return i.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return i.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return i.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),s.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),s.actAsCollection(s.RegionManager.prototype,"_regions"),s.TemplateCache=function(t){this.templateId=t},i.extend(s.TemplateCache,{templateCaches:{},get:function(t,e){var i=this.templateCaches[t];return i||(i=new s.TemplateCache(t),this.templateCaches[t]=i),i.load(e)},clear:function(){var t,e=i.toArray(arguments),n=e.length;if(n>0)for(t=0;n>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),i.extend(s.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t){var i=e.$(t).html();if(!i||0===i.length)throw new s.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return i},compileTemplate:function(t,e){return i.template(t,e)}}),s.Renderer={render:function(t,e){if(!t)throw new s.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n=i.isFunction(t)?t:s.TemplateCache.get(t);return n(e)}},s.View=e.View.extend({isDestroyed:!1,constructor:function(t){i.bindAll(this,"render"),t=s._getValue(t,this),this.options=i.extend({},i.result(this,"options"),t),this._behaviors=s.Behaviors(this),e.View.call(this,this.options),s.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,i.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=s._getValue(e,this),i.extend(t,e)},normalizeUIKeys:function(t){var e=i.result(this,"_uiBindings");return s.normalizeUIKeys(t,e||i.result(this,"ui"))},normalizeUIValues:function(t,e){var n=i.result(this,"ui"),r=i.result(this,"_uiBindings");return s.normalizeUIValues(t,r||n,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(i.result(this,"triggers"));return i.reduce(t,function(t,e,i){return t[i]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),i.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var n=s._getValue(t||this.events,this);n=this.normalizeUIKeys(n),i.isUndefined(t)&&(this.events=n);var r={},o=i.result(this,"behaviorEvents")||{},h=this.configureTriggers(),a=i.result(this,"behaviorTriggers")||{};i.extend(r,o,n,h,a),e.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),i.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new s.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=i.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),i.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),i.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=i.result(this,"_uiBindings");this.ui={},i.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),i.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=i.isObject(t),n=i.defaults({},e?t:{},{preventDefault:!0,stopPropagation:!0}),r=e?n.event:t;return function(t){t&&(t.preventDefault&&n.preventDefault&&t.preventDefault(),t.stopPropagation&&n.stopPropagation&&t.stopPropagation());var e={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,e)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return i.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=s._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],i.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=s._triggerMethod,i=this._behaviors,n=0,r=i&&i.length;r>n;n++)e(i[n],t)},_triggerEventOnParentLayout:function(t,e){var n=this._parentLayoutView();if(n){var r=s.getOption(n,"childViewEventPrefix"),o=r+":"+t;s._triggerMethod(n,[o,this].concat(e));var h=s.getOption(n,"childEvents"),a=n.normalizeMethods(h);a&&i.isFunction(a[t])&&a[t].apply(n,[this].concat(e))}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?i.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},_getAncestors:function(){for(var t=[],e=this._parent;e;)t.push(e),e=e._parent;return t},_parentLayoutView:function(){var t=this._getAncestors();return i.find(t,function(t){return t instanceof s.LayoutView})},normalizeMethods:s.normalizeMethods,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.ItemView=s.View.extend({constructor:function(){s.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,i.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){if(!t)throw new s.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),i=s.Renderer.render(t,e,this);return this.attachElContent(i),this}},attachElContent:function(t){return this.$el.html(t),this}}),s.CollectionView=s.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(){this.once("render",this._initialEvents),this._initChildViewStorage(),s.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&s.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,n){var r=i.drop(arguments,3);i.each(t,function(t){s.triggerMethodOn.apply(t,[t,n,t,e].concat(r))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,n){var r;if(r=void 0!==n.at?n.at:i.indexOf(this._filteredSortedModels(),t),this._shouldAddChild(t,r)){this.destroyEmptyView();var s=this.getChildView(t);this.addChild(t,s,r)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(t){s.triggerMethodOn(t,"before:show",t)})},_onShowCalled:function(){this.children.each(function(t){s.triggerMethodOn(t,"show",t)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels(),n=i.find(e,function(e){return!t.findByModel(e)});if(n)this.render();else{var r=i.map(e,function(e,i){var n=t.findByModel(e);return n._index=i,n.el});this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),this.triggerMethod("reorder")}},resortView:function(){s.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels(),e=i.find(t,function(t,e){var i=this.children.findByModel(t);return!i||i._index!==e},this);e&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();i.each(e,function(e,i){t=this.getChildView(e),this.addChild(e,t,i)},this)},_filteredSortedModels:function(){var t,e=this.getViewComparator();return t=e?i.isString(e)||1===e.length?this.collection.sortBy(e,this):i.clone(this.collection.models).sort(i.bind(e,this)):this.collection.models,this.getOption("filter")&&(t=i.filter(t,function(t,e){return this._shouldAddChild(t,e)},this)),t},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var i=new e.Model;this.addEmptyView(i,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var n,r=this._isShown&&!this.isBuffering&&s.isNodeAttached(this.el),o=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");i.isFunction(o)&&(o=o.call(this,t,this._emptyViewIndex));var h=this.buildChildView(t,e,o);h._parent=this,this.proxyChildEvents(h),this._isShown&&s.triggerMethodOn(h,"before:show",h),this.children.add(h),r&&this._triggerBeforeAttach&&(n=[h].concat(h._getNestedViews()),h.once("render",function(){this._triggerMethodMany(n,this,"before:attach")},this)),this.renderChildView(h,this._emptyViewIndex),r&&this._triggerAttach&&(n=[h].concat(h._getNestedViews()),this._triggerMethodMany(n,this,"attach")),this._isShown&&s.triggerMethodOn(h,"show",h)},getChildView:function(){var t=this.getOption("childView");if(!t)throw new s.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},addChild:function(t,e,i){var n=this.getOption("childViewOptions");n=s._getValue(n,this,[t,i]);var r=this.buildChildView(t,e,n);return this._updateIndices(r,!0,i),this.triggerMethod("before:add:child",r),this._addChildView(r,i),this.triggerMethod("add:child",r),r._parent=this,r},_updateIndices:function(t,e,i){this.getOption("sort")&&(e&&(t._index=i),this.children.each(function(i){i._index>=t._index&&(i._index+=e?1:-1)}))},_addChildView:function(t,e){var i,n=this._isShown&&!this.isBuffering&&s.isNodeAttached(this.el);this.proxyChildEvents(t),this._isShown&&!this.isBuffering&&s.triggerMethodOn(t,"before:show",t),this.children.add(t),n&&this._triggerBeforeAttach&&(i=[t].concat(t._getNestedViews()),t.once("render",function(){this._triggerMethodMany(i,this,"before:attach")},this)),this.renderChildView(t,e),n&&this._triggerAttach&&(i=[t].concat(t._getNestedViews()),this._triggerMethodMany(i,this,"attach")),this._isShown&&!this.isBuffering&&s.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.render(),this.attachHtml(this,t,e),t},buildChildView:function(t,e,n){var r=i.extend({model:t},n);return new e(r)},removeChildView:function(t){return t&&(this.triggerMethod("before:remove:child",t),t.destroy?t.destroy():t.remove&&t.remove(),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1)),t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return i.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,i){t.isBuffering?t._bufferedChildren.splice(i,0,e):t._insertBefore(e,i)||t._insertAfter(e)},_insertBefore:function(t,e){var i,n=this.getOption("sort")&&this.children.length-1>e;return n&&(i=this.children.find(function(t){return t._index===e+1})),i?(i.$el.before(t.el),!0):!1},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),s.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},n=!0,r=this.children.map(i.identity);return i.isUndefined(e.checkEmpty)||(n=e.checkEmpty),this.children.each(this.removeChildView,this),n&&this.checkEmpty(),r},_shouldAddChild:function(t,e){var n=this.getOption("filter");return!i.isFunction(n)||n.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var n=i.toArray(arguments),r=n[0],s=this.normalizeMethods(i.result(this,"childEvents"));n[0]=e+":"+r,n.splice(1,0,t),s!==void 0&&i.isFunction(s[r])&&s[r].apply(this,n.slice(1)),this.triggerMethod.apply(this,n)})},_getImmediateChildren:function(){return i.values(this.children._views)},getViewComparator:function(){return this.getOption("viewComparator")}}),s.CompositeView=s.CollectionView.extend({constructor:function(){s.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){var t=this.getOption("childView")||this.constructor;return t},serializeData:function(){var t={};return this.model&&(t=i.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&s.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),i=s.Renderer.render(e,t,this);this.attachElContent(i),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var i=this.getChildViewContainer(t);i.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t){if(t.$childViewContainer)return t.$childViewContainer;var e,i=s.getOption(t,"childViewContainer");if(i){var n=s._getValue(i,t);if(e="@"===n.charAt(0)&&t.ui?t.ui[n.substr(4)]:t.$(n),0>=e.length)throw new s.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else e=t.$el;return t.$childViewContainer=e,e},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),s.LayoutView=s.ItemView.extend({regionClass:s.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),s.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),s.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),s.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e){return this.getRegion(t).show(e)},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var i={};return i[t]=e,this._buildRegions(i)[t]},addRegions:function(t){return this.regions=i.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:i.partial(i.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=s._getValue(this.regions,this,[t])||{};var n=this.getOption.call(t,"regions");n=s._getValue(n,this,[t]),i.extend(e,n),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new s.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_getImmediateChildren:function(){return i.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),s.Behavior=s.Object.extend({constructor:function(t,e){this.view=e,this.defaults=i.result(this,"defaults")||{},this.options=i.extend({},this.defaults,t),this.ui=i.extend({},i.result(e,"ui"),i.result(this,"ui")),s.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),s.Behaviors=function(t,e){function i(t,n){return e.isObject(t.behaviors)?(n=i.parseBehaviors(t,n||e.result(t,"behaviors")),i.wrap(t,n,e.keys(o)),n):{}}function n(t,e){this._view=t,this._behaviors=e,this._triggers={}}function r(t){return t._uiBindings||t.ui}var s=/^(\S+)\s*(.*)$/,o={behaviorTriggers:function(t,e){var i=new n(this,e);return i.buildBehaviorTriggers()},behaviorEvents:function(i,n){var o={};return e.each(n,function(i,n){var h={},a=e.clone(e.result(i,"events"))||{};a=t.normalizeUIKeys(a,r(i));var d=0;e.each(a,function(t,r){var o=r.match(s),a=o[1]+"."+[this.cid,n,d++," "].join(""),l=o[2],c=a+l,u=e.isFunction(t)?t:i[t];h[c]=e.bind(u,i)},this),o=e.extend(o,h)},this),o}};return e.extend(i,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,n){return e.behaviorClass?e.behaviorClass:t._getValue(i.behaviorsLookup,this,[e,n])[n]},parseBehaviors:function(t,n){return e.chain(n).map(function(n,r){var s=i.getBehaviorClass(n,r),o=new s(n,t),h=i.parseBehaviors(t,e.result(o,"behaviors"));return[o].concat(h)}).flatten().value()},wrap:function(t,i,n){e.each(n,function(n){t[n]=e.partial(o[n],t[n],i)})}}),e.extend(n.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(i,n){var s=e.clone(e.result(i,"triggers"))||{};s=t.normalizeUIKeys(s,r(i)),e.each(s,e.bind(this._setHandlerForBehavior,this,i,n))},_setHandlerForBehavior:function(t,e,i,n){var r=n.replace(/^\S+/,function(t){return t+"."+"behaviortriggers"+e});this._triggers[r]=this._view._buildViewTrigger(i)}}),i}(s,i),s.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var i=this.getOption("appRoutes"),n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();this._addAppRoute(i,t,e)},_processOnRoute:function(t,e){if(i.isFunction(this.onRoute)){var n=i.invert(this.getOption("appRoutes"))[t];this.onRoute(t,n,e)}},processAppRoutes:function(t,e){if(e){var n=i.keys(e).reverse();i.each(n,function(i){this._addAppRoute(t,i,e[i])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,n){var r=t[n];if(!r)throw new s.Error('Method "'+n+'" was not found on the controller');this.route(e,n,i.bind(r,t))},mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,triggerMethod:s.triggerMethod,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.Application=s.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new s.Callbacks,this.submodules={},i.extend(this,t),this._initChannel(),s.Object.call(this,t)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var n=s.Module.getClass(e),r=i.toArray(arguments);return r.unshift(this),n.create.apply(n,r)},getRegionManager:function(){return new s.RegionManager},_initializeRegions:function(t){var e=i.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var n=s.getOption(t,"regions");return i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){s._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,s._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){s._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(t){delete this[t],s._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=i.result(this,"channelName")||"global",this.channel=i.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=i.result(this,"vent")||this.channel.vent,this.commands=i.result(this,"commands")||this.channel.commands,this.reqres=i.result(this,"reqres")||this.channel.reqres}}),s.Module=function(t,e,n){this.moduleName=t,this.options=i.extend({},this.options,n),this.initialize=n.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,i.isFunction(this.initialize)&&this.initialize(t,e,this.options)},s.Module.extend=s.extend,i.extend(s.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(i.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),i.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,n){if(t){var r=i.flatten([this,this.app,e,s,e.$,i,n]);t.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new s.Callbacks,this._finalizerCallbacks=new s.Callbacks},triggerMethod:s.triggerMethod}),i.extend(s.Module,{create:function(t,e,n){var r=t,s=i.drop(arguments,3);e=e.split(".");var o=e.length,h=[];return h[o-1]=n,i.each(e,function(e,i){var o=r;r=this._getModule(o,e,t,n),this._addModuleDefinition(o,r,h[i],s)},this),r},_getModule:function(t,e,n,r){var s=i.extend({},r),o=this.getClass(r),h=t[e];return h||(h=new o(e,n,s),t[e]=h,t.submodules[e]=h),h},getClass:function(t){var e=s.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,i,n){var r=this._getDefine(i),s=this._getStartWithParent(i,e);r&&e.addDefinition(r,n),this._addStartWithParent(t,e,s)},_getStartWithParent:function(t,e){var n;return i.isFunction(t)&&t.prototype instanceof s.Module?(n=e.constructor.prototype.startWithParent,i.isUndefined(n)?!0:n):i.isObject(t)?(n=t.startWithParent,i.isUndefined(n)?!0:n):!0},_getDefine:function(t){return!i.isFunction(t)||t.prototype instanceof s.Module?i.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,i){e.startWithParent=e.startWithParent&&i,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),s});!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],n):e.Backbone.Radio=n(e._,e.Backbone)}(this,function(e,n){"use strict";function t(e,n,t,r){var s=e[n];return t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context?void 0:(delete e[n],!0)}function r(n,r,s,i){n||(n={});for(var a=r?[r]:e.keys(n),u=!1,o=0,c=a.length;c>o;o++)r=a[o],n[r]&&t(n,r,s,i)&&(u=!0);return u}function s(n){return c[n]||(c[n]=e.partial(u.log,n))}function i(n){return e.isFunction(n)?n:function(){return n}}var a=n.Radio,u=n.Radio={};u.VERSION="1.0.1",u.noConflict=function(){return n.Radio=a,this},u.DEBUG=!1,u._debugText=function(e,n,t){return e+(t?" on the "+t+" channel":"")+': "'+n+'"'},u.debugLog=function(e,n,t){u.DEBUG&&console&&console.warn&&console.warn(u._debugText(e,n,t))};var o=/\s+/;u._eventsApi=function(n,t,r,s){if(!r)return!1;var i={};if("object"==typeof r){for(var a in r){var u=n[t].apply(n,[a,r[a]].concat(s));o.test(a)?e.extend(i,u):i[a]=u}return i}if(o.test(r)){for(var c=r.split(o),l=0,h=c.length;h>l;l++)i[c[l]]=n[t].apply(n,[c[l]].concat(s));return i}return!1},u._callHandler=function(e,n,t){var r=t[0],s=t[1],i=t[2];switch(t.length){case 0:return e.call(n);case 1:return e.call(n,r);case 2:return e.call(n,r,s);case 3:return e.call(n,r,s,i);default:return e.apply(n,t)}};var c={};e.extend(u,{log:function(n,t){var r=e.rest(arguments,2);console.log("["+n+'] "'+t+'"',r)},tuneIn:function(e){var n=u.channel(e);return n._tunedIn=!0,n.on("all",s(e)),this},tuneOut:function(e){var n=u.channel(e);return n._tunedIn=!1,n.off("all",s(e)),delete c[e],this}}),u.Requests={request:function(n){var t=e.rest(arguments),r=u._eventsApi(this,"request",n,t);if(r)return r;var s=this.channelName,i=this._requests;if(s&&this._tunedIn&&u.log.apply(this,[s,n].concat(t)),i&&(i[n]||i["default"])){var a=i[n]||i["default"];return t=i[n]?t:arguments,u._callHandler(a.callback,a.context,t)}u.debugLog("An unhandled request was fired",n,s)},reply:function(e,n,t){return u._eventsApi(this,"reply",e,[n,t])?this:(this._requests||(this._requests={}),this._requests[e]&&u.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:i(n),context:t||this},this)},replyOnce:function(n,t,r){if(u._eventsApi(this,"replyOnce",n,[t,r]))return this;var s=this,a=e.once(function(){return s.stopReplying(n),i(t).apply(this,arguments)});return this.reply(n,a,r)},stopReplying:function(e,n,t){return u._eventsApi(this,"stopReplying",e)?this:(e||n||t?r(this._requests,e,n,t)||u.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},u._channels={},u.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return u._channels[e]?u._channels[e]:u._channels[e]=new u.Channel(e)},u.Channel=function(e){this.channelName=e},e.extend(u.Channel.prototype,n.Events,u.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var l,h,f=[n.Events,u.Commands,u.Requests];e.each(f,function(n){e.each(n,function(n,t){u[t]=function(n){return h=e.rest(arguments),l=this.channel(n),l[t].apply(l,h)}})}),u.reset=function(n){var t=n?[this._channels[n]]:this._channels;e.invoke(t,"reset")};var p=u;return p});!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.mexp=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./postfix_evaluator.js");d.prototype.formulaEval=function(){"use strict";for(var a,b,c,d=[],e=this.value,f=0;f<e.length;f++)1===e[f].type||3===e[f].type?d.push({value:3===e[f].type?e[f].show:e[f].value,type:1}):13===e[f].type?d.push({value:e[f].show,type:1}):0===e[f].type?d[d.length-1]={value:e[f].show+("-"!=e[f].show?"(":"")+d[d.length-1].value+("-"!=e[f].show?")":""),type:0}:7===e[f].type?d[d.length-1]={value:(1!=d[d.length-1].type?"(":"")+d[d.length-1].value+(1!=d[d.length-1].type?")":"")+e[f].show,type:7}:10===e[f].type?(a=d.pop(),b=d.pop(),"P"===e[f].show||"C"===e[f].show?d.push({value:"<sup>"+b.value+"</sup>"+e[f].show+"<sub>"+a.value+"</sub>",type:10}):d.push({value:(1!=b.type?"(":"")+b.value+(1!=b.type?")":"")+"<sup>"+a.value+"</sup>",type:1})):2===e[f].type||9===e[f].type?(a=d.pop(),b=d.pop(),d.push({value:(1!=b.type?"(":"")+b.value+(1!=b.type?")":"")+e[f].show+(1!=a.type?"(":"")+a.value+(1!=a.type?")":""),type:e[f].type})):12===e[f].type&&(a=d.pop(),b=d.pop(),c=d.pop(),d.push({value:e[f].show+"("+c.value+","+b.value+","+a.value+")",type:12}));return d[0].value},b.exports=d},{"./postfix_evaluator.js":5}],2:[function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++)a[c]+=b;return a}function e(a,b,c,d){for(var e=0;e<d;e++)if(a[c+e]!==b[e])return!1;return!0}var f=a("./math_function.js"),g=["sin","cos","tan","pi","(",")","P","C","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],h=["sin","cos","tan","&pi;","(",")","P","C","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],j=[f.math.sin,f.math.cos,f.math.tan,"PI","(",")",f.math.P,f.math.C,f.math.asin,f.math.acos,f.math.atan,"7","8","9",Math.floor,f.math.cosh,f.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",f.math.div,f.math.fact,f.math.tanh,f.math.atanh,f.math.mod,"1","2","3",f.math.mul,f.math.sinh,f.math.asinh,"E",f.math.log,"0",".",f.math.add,f.math.sub,",",f.math.sigma,"n",f.math.Pi,Math.pow],k={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0},l=[0,0,0,3,4,5,10,10,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],m={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0},n={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},o={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},p={},q={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},r={1:!0},s=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];f.addToken=function(a){for(i=0;i<a.length;i++){x=a[i].token.length;var b=-1;if(x<s.length)for(y=0;y<s[x].length;y++)if(a[i].token===s[x][y]){b=g.indexOf(s[x][y]);break}b===-1?(g.push(a[i].token),l.push(a[i].type),s.length<=a[i].token.length&&(s[a[i].token.length]=[]),s[a[i].token.length].push(a[i].token),j.push(a[i].value),h.push(a[i].show)):(g[b]=a[i].token,l[b]=a[i].type,j[b]=a[i].value,h[b]=a[i].show)}},f.lex=function(a,b){"use strict";var c,i,t,u,v=[{type:4,value:"(",show:"(",pre:0}],w=[],x=a,y=0,z=m,A=0,B=p,C="";"undefined"!=typeof b&&f.addToken(b);var D={};for(i=0;i<x.length;i++)if(" "!=x[i]){c="";a:for(t=x.length-i>s.length-2?s.length-1:x.length-i;t>0;t--)for(u=0;u<s[t].length;u++)if(e(x,s[t][u],i,t)){c=s[t][u];break a}if(i+=c.length-1,""===c)throw new f.exception("Can't understand after "+x.slice(i));var E=g.indexOf(c),F=c,G=l[E],H=j[E],I=k[G],J=h[E],K=v[v.length-1];for(L=w.length;L--;)if(0===w[L]&&[0,2,3,5,9,11,12,13].indexOf(G)!==-1){if(z[G]!==!0)throw new f.exception(c+" is not allowed after "+C);v.push({value:")",type:5,pre:0,show:")"}),z=n,B=q,d(w,-1).pop()}if(z[G]!==!0)throw new f.exception(c+" is not allowed after "+C);if(B[G]===!0&&(G=2,H=f.math.mul,J="&times;",I=3,i-=c.length),D={value:H,type:G,pre:I,show:J},0===G)z=m,B=p,d(w,2).push(2),v.push(D),v.push({value:"(",type:4,pre:0,show:"("});else if(1===G)1===K.type?(K.value+=H,d(w,1)):v.push(D),z=n,B=o;else if(2===G)z=m,B=p,d(w,2),v.push(D);else if(3===G)v.push(D),z=n,B=q;else if(4===G)y+=w.length,w=[],A++,z=m,B=p,v.push(D);else if(5===G){if(!A)throw new f.exception("Closing parenthesis are more than opening one, wait What!!!");for(;y--;)v.push({value:")",type:5,pre:0,show:")"});y=0,A--,z=n,B=q,v.push(D)}else if(6===G){if(K.hasDec)throw new f.exception("Two decimals are not allowed in one number");1!==K.type&&(K={value:0,type:1,pre:0},v.push(K),d(w,-1)),z=r,d(w,1),B=p,K.value+=H,K.hasDec=!0}else 7===G&&(z=n,B=q,d(w,1),v.push(D));8===G?(z=m,B=p,d(w,4).push(4),v.push(D),v.push({value:"(",type:4,pre:0,show:"("})):9===G?(9===K.type?K.value===f.math.add?(K.value=H,K.show=J,d(w,1)):K.value===f.math.sub&&"-"===J&&(K.value=f.math.add,K.show="+",d(w,1)):5!==K.type&&7!==K.type&&1!==K.type&&3!==K.type&&13!==K.type?"-"===F&&(z=m,B=p,d(w,2).push(2),v.push({value:f.math.changeSign,type:0,pre:21,show:"-"}),v.push({value:"(",type:4,pre:0,show:"("})):(v.push(D),d(w,2)),z=m,B=p):10===G?(z=m,B=p,d(w,2),v.push(D)):11===G?(z=m,B=p,v.push(D)):12===G?(z=m,B=p,d(w,6).push(6),v.push(D),v.push({value:"(",type:4,pre:0})):13===G&&(z=n,B=q,v.push(D)),d(w,-1),C=c}for(var L=w.length;L--;)0===w[L]&&(v.push({value:")",show:")",type:5,pre:3}),d(w,-1).pop());if(z[5]!==!0)throw new f.exception("complete the expression");for(;A--;)v.push({value:")",show:")",type:5,pre:3});return v.push({type:5,value:")",show:")",pre:0}),new f(v)},b.exports=f},{"./math_function.js":3}],3:[function(a,b,c){var d=function(a){this.value=a};d.math={isDegree:!0,acos:function(a){return d.math.isDegree?180/Math.PI*Math.acos(a):Math.acos(a)},add:function(a,b){return a+b},asin:function(a){return d.math.isDegree?180/Math.PI*Math.asin(a):Math.asin(a)},atan:function(a){return d.math.isDegree?180/Math.PI*Math.atan(a):Math.atan(a)},acosh:function(a){return Math.log(a+Math.sqrt(a*a-1))},asinh:function(a){return Math.log(a+Math.sqrt(a*a+1))},atanh:function(a){return Math.log((1+a)/(1-a))},C:function(a,b){var c=1,e=a-b,f=b;f<e&&(f=e,e=b);for(var g=f+1;g<=a;g++)c*=g;return c/d.math.fact(e)},changeSign:function(a){return-a},cos:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.cos(a)},cosh:function(a){return(Math.pow(Math.E,a)+Math.pow(Math.E,-1*a))/2},div:function(a,b){return a/b},fact:function(a){if(a%1!==0)return"NAN";for(var b=1,c=2;c<=a;c++)b*=c;return b},inverse:function(a){return 1/a},log:function(a){return Math.log(a)/Math.log(10)},mod:function(a,b){return a%b},mul:function(a,b){return a*b},P:function(a,b){for(var c=1,d=Math.floor(a)-Math.floor(b)+1;d<=Math.floor(a);d++)c*=d;return c},Pi:function(a,b,c){for(var d=1,e=a;e<=b;e++)d*=Number(c.postfixEval({n:e}));return d},pow10x:function(a){for(var b=1;a--;)b*=10;return b},sigma:function(a,b,c){for(var d=0,e=a;e<=b;e++)d+=Number(c.postfixEval({n:e}));return d},sin:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.sin(a)},sinh:function(a){return(Math.pow(Math.E,a)-Math.pow(Math.E,-1*a))/2},sub:function(a,b){return a-b},tan:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.tan(a)},tanh:function(a){return d.sinha(a)/d.cosha(a)},toRadian:function(a){return a*Math.PI/180}},d.exception=function(a){this.message=a},b.exports=d},{}],4:[function(a,b,c){var d=a("./lexer.js");d.prototype.toPostfix=function(){"use strict";for(var a,b,c,e,f,g=[],h=[{value:"(",type:4,pre:0}],i=this.value,j=1;j<i.length;j++)if(1===i[j].type||3===i[j].type||13===i[j].type)1===i[j].type&&(i[j].value=Number(i[j].value)),g.push(i[j]);else if(4===i[j].type)h.push(i[j]);else if(5===i[j].type)for(;4!==(b=h.pop()).type;)g.push(b);else if(11===i[j].type){for(;4!==(b=h.pop()).type;)g.push(b);h.push(b)}else{a=i[j],e=a.pre,f=h[h.length-1],c=f.pre;var k="Math.pow"==f.value&&"Math.pow"==a.value;if(e>c)h.push(a);else{for(;c>=e&&!k||k&&e<c;)b=h.pop(),f=h[h.length-1],g.push(b),c=f.pre,k="Math.pow"==a.value&&"Math.pow"==f.value;h.push(a)}}return new d(g)},b.exports=d},{"./lexer.js":2}],5:[function(a,b,c){var d=a("./postfix.js");d.prototype.postfixEval=function(a){"use strict";a=a||{},a.PI=Math.PI,a.E=Math.E;for(var b,c,e,f=[],g=this.value,h="undefined"!=typeof a.n,i=0;i<g.length;i++)1===g[i].type?f.push({value:g[i].value,type:1}):3===g[i].type?f.push({value:a[g[i].value],type:1}):0===g[i].type?"undefined"==typeof f[f.length-1].type?f[f.length-1].value.push(g[i]):f[f.length-1].value=g[i].value(f[f.length-1].value):7===g[i].type?"undefined"==typeof f[f.length-1].type?f[f.length-1].value.push(g[i]):f[f.length-1].value=g[i].value(f[f.length-1].value):8===g[i].type?(b=f.pop(),c=f.pop(),f.push({type:1,value:g[i].value(c.value,b.value)})):10===g[i].type?(b=f.pop(),c=f.pop(),"undefined"==typeof c.type?(c.value=c.concat(b),c.value.push(g[i]),f.push(c)):"undefined"==typeof b.type?(b.unshift(c),b.push(g[i]),f.push(b)):f.push({type:1,value:g[i].value(c.value,b.value)})):2===g[i].type||9===g[i].type?(b=f.pop(),c=f.pop(),"undefined"==typeof c.type?(console.log(c),c=c.concat(b),c.push(g[i]),f.push(c)):"undefined"==typeof b.type?(b.unshift(c),b.push(g[i]),f.push(b)):f.push({type:1,value:g[i].value(c.value,b.value)})):12===g[i].type?(b=f.pop(),"undefined"!=typeof b.type&&(b=[b]),c=f.pop(),e=f.pop(),f.push({type:1,value:g[i].value(e.value,c.value,new d(b))})):13===g[i].type&&(h?f.push({value:a[g[i].value],type:3}):f.push([g[i]]));if(f.length>1)throw new d.exception("Uncaught Syntax error");return f[0].value>1e15?"Infinity":Number(f[0].value.toFixed(15)).toPrecision()},d.eval=function(a,b,c){return"undefined"==typeof b?this.lex(a).toPostfix().postfixEval():"undefined"==typeof c?"undefined"!=typeof b.length?this.lex(a,b).toPostfix().postfixEval():this.lex(a).toPostfix().postfixEval(b):this.lex(a,b).toPostfix().postfixEval(c)},b.exports=d},{"./postfix.js":4}]},{},[1])(1)});var nfRadio=Backbone.Radio;nfRadio.channel('form').on('render:view',function(){jQuery('.g-recaptcha').each(function(){var callback=jQuery(this).data('callback');var fieldID=jQuery(this).data('fieldid');if(typeof window[callback]!=='function'){window[callback]=function(response){nfRadio.channel('recaptcha').request('update:response',response,fieldID);};}});});var nfRecaptcha=Marionette.Object.extend({initialize:function(){if(0!=jQuery('.g-recaptcha').length){this.renderCaptcha();}
this.listenTo(nfRadio.channel('form'),'render:view',this.renderCaptcha);this.listenTo(nfRadio.channel('captcha'),'reset',this.renderCaptcha);},renderCaptcha:function(){jQuery('.g-recaptcha:empty').each(function(){var opts={fieldid:jQuery(this).data('fieldid'),size:jQuery(this).data('size'),theme:jQuery(this).data('theme'),sitekey:jQuery(this).data('sitekey'),callback:jQuery(this).data('callback')};var grecaptchaID=grecaptcha.render(jQuery(this)[0],opts);if(opts.size==='invisible'){try{grecaptcha.execute(grecaptchaID);}catch(e){console.log('Notice: Error trying to execute grecaptcha.');}}});}});var nfRenderRecaptcha=function(){new nfRecaptcha();};
(function(){var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop);}
function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map['*'])||{};if(name&&name.charAt(0)==="."){if(baseName){name=name.split('/');lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}
name=baseParts.slice(0,baseParts.length-1).concat(name);for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1;}else if(part===".."){if(i===1&&(name[2]==='..'||name[0]==='..')){break;}else if(i>0){name.splice(i-1,2);i-=2;}}}
name=name.join("/");}else if(name.indexOf('./')===0){name=name.substring(2);}}
if((baseParts||starMap)&&map){nameParts=name.split('/');for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join('/')];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break;}}}}
if(foundMap){break;}
if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i;}}
if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI;}
if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join('/');}}
return name;}
function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);if(typeof args[0]!=='string'&&args.length===1){args.push(null);}
return req.apply(undef,args.concat([relName,forceSync]));};}
function makeNormalize(relName){return function(name){return normalize(name,relName);};}
function makeLoad(depName){return function(value){defined[depName]=value;};}
function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args);}
if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error('No '+name);}
return defined[name];}
function splitPrefix(name){var prefix,index=name?name.indexOf('!'):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length);}
return[prefix,name];}
makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix);}
if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName));}else{name=normalize(name,relName);}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix);}}
return{f:prefix?prefix+'!'+name:name,n:name,pr:prefix,p:plugin};};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{};};}
handlers={require:function(name){return makeRequire(name);},exports:function(name){var e=defined[name];if(typeof e!=='undefined'){return e;}else{return(defined[name]={});}},module:function(name){return{id:name,uri:'',exports:defined[name],config:makeConfig(name)};}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],callbackType=typeof callback,usingExports;relName=relName||name;if(callbackType==='undefined'||callbackType==='function'){deps=!deps.length&&callback.length?['require','exports','module']:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name);}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true;}else if(depName==="module"){cjsModule=args[i]=handlers.module(name);}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName);}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName];}else{throw new Error(name+' missing '+depName);}}
ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports;}else if(ret!==undef||!usingExports){defined[name]=ret;}}}else if(name){defined[name]=callback;}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback);}
return callDep(makeMap(deps,callback).f);}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback);}
if(!callback){return;}
if(callback.splice){deps=callback;callback=relName;relName=null;}else{deps=undef;}}
callback=callback||function(){};if(typeof relName==='function'){relName=forceSync;forceSync=alt;}
if(forceSync){main(undef,deps,callback,relName);}else{setTimeout(function(){main(undef,deps,callback,relName);},4);}
return req;};req.config=function(cfg){return req(cfg);};requirejs._defined=defined;define=function(name,deps,callback){if(typeof name!=='string'){throw new Error('See almond README: incorrect module build, no module name');}
if(!deps.splice){callback=deps;deps=[];}
if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback];}};define.amd={jQuery:true};}());define("../lib/almond",function(){});define('models/fieldErrorModel',[],function(){var model=Backbone.Model.extend({});return model;});define('models/fieldErrorCollection',['models/fieldErrorModel'],function(errorModel){var collection=Backbone.Collection.extend({model:errorModel});return collection;});define('models/fieldModel',['models/fieldErrorCollection'],function(fieldErrorCollection){var model=Backbone.Model.extend({defaults:{placeholder:'',value:'',label_pos:'',classes:'ninja-forms-field',reRender:false,mirror_field:false,confirm_field:false,clean:true,disabled:'',visible:true,invalid:false},initialize:function(){var type=this.get('type');this.set('formID',this.collection.options.formModel.get('id'));this.listenTo(nfRadio.channel('form-'+this.get('formID')),'reset',this.resetModel);this.bind('change',this.changeModel,this);this.bind('change:value',this.changeValue,this);this.set('errors',new fieldErrorCollection());if(type==='listimage'){this.get=this.listimageGet;this.set=this.listimageSet;}
nfRadio.channel('fields').trigger('init:model',this);nfRadio.channel(this.get('type')).trigger('init:model',this);nfRadio.channel('fields-'+this.get('type')).trigger('init:model',this);if('undefined'!=typeof this.get('parentType')){nfRadio.channel(this.get('parentType')).trigger('init:model',this);}
this.listenTo(nfRadio.channel('form-'+this.get('formID')),'loaded',this.formLoaded);this.listenTo(nfRadio.channel('form-'+this.get('formID')),'before:submit',this.beforeSubmit);},listimageGet:function(attr){if(attr==='options'){attr='image_options';}
return Backbone.Model.prototype.get.call(this,attr);},listimageSet:function(attributes,options){if('options'===attributes){attributes='image_options';}
return Backbone.Model.prototype.set.call(this,attributes,options);},changeModel:function(){nfRadio.channel('field-'+this.get('id')).trigger('change:model',this);nfRadio.channel(this.get('type')).trigger('change:model',this);nfRadio.channel('fields').trigger('change:model',this);},changeValue:function(){nfRadio.channel('field-'+this.get('id')).trigger('change:modelValue',this);nfRadio.channel(this.get('type')).trigger('change:modelValue',this);nfRadio.channel('fields').trigger('change:modelValue',this);},addWrapperClass:function(cl){this.set('addWrapperClass',cl);},removeWrapperClass:function(cl){this.set('removeWrapperClass',cl);},setInvalid:function(invalid){this.set('invalid',invalid);},formLoaded:function(){nfRadio.channel('fields').trigger('formLoaded',this);nfRadio.channel('fields-'+this.get('type')).trigger('formLoaded',this);},beforeSubmit:function(formModel){nfRadio.channel(this.get('type')).trigger('before:submit',this);nfRadio.channel('fields').trigger('before:submit',this);},getValue:function(){return this.get('value');}});return model;});define('models/fieldCollection',['models/fieldModel'],function(fieldModel){var collection=Backbone.Collection.extend({model:fieldModel,comparator:'order',initialize:function(models,options){this.options=options;this.on('reset',function(fieldCollection){nfRadio.channel('fields').trigger('reset:collection',fieldCollection);},this);},validateFields:function(){_.each(this.models,function(fieldModel){fieldModel.set('clean',false);nfRadio.channel('submit').trigger('validate:field',fieldModel);},this);},showFields:function(){this.invoke('set',{visible:true});this.invoke(function(){this.trigger('change:value',this);});},hideFields:function(){this.invoke('set',{visible:false});this.invoke(function(){this.trigger('change:value',this);});}});return collection;});define('models/formErrorModel',[],function(){var model=Backbone.Model.extend({});return model;});define('models/formErrorCollection',['models/formErrorModel'],function(errorModel){var collection=Backbone.Collection.extend({model:errorModel});return collection;});define('models/formModel',['models/fieldCollection','models/formErrorCollection'],function(FieldCollection,ErrorCollection){var model=Backbone.Model.extend({defaults:{beforeForm:'',afterForm:'',beforeFields:'',afterFields:'',wrapper_class:'',element_class:'',hp:'',fieldErrors:{},extra:{}},initialize:function(){_.each(this.get('settings'),function(value,setting){this.set(setting,value);},this);this.set('loadedFields',this.get('fields'));this.set('fields',new FieldCollection(this.get('fields'),{formModel:this}));this.set('errors',new ErrorCollection());nfRadio.channel('form').trigger('before:filterData',this);var formContentData=this.get('formContentData');if(!formContentData){formContentData=this.get('fieldContentsData');}
var formContentLoadFilters=nfRadio.channel('formContent').request('get:loadFilters');var sortedArray=_.without(formContentLoadFilters,undefined);var callback=_.first(sortedArray);formContentData=callback(formContentData,this,this);this.set('formContentData',formContentData);nfRadio.channel('forms').trigger('init:model',this);nfRadio.channel('form-'+this.get('id')).trigger('init:model',this);nfRadio.channel('form-'+this.get('id')).reply('get:fieldByKey',this.getFieldByKey,this);nfRadio.channel('form-'+this.get('id')).reply('add:error',this.addError,this);nfRadio.channel('form-'+this.get('id')).reply('remove:error',this.removeError,this);nfRadio.channel('form-'+this.get('id')).reply('get:extra',this.getExtra,this);nfRadio.channel('form-'+this.get('id')).reply('add:extra',this.addExtra,this);nfRadio.channel('form-'+this.get('id')).reply('remove:extra',this.removeExtra,this);nfRadio.channel('form-'+this.get('id')).reply('get:form',this.getForm,this);nfRadio.channel('form').trigger('loaded',this);nfRadio.channel('form').trigger('after:loaded',this);nfRadio.channel('form-'+this.get('id')).trigger('loaded',this);},getFieldByKey:function(key){return this.get('fields').findWhere({key:key});},addError:function(id,msg){var errors=this.get('errors');errors.add({id:id,msg:msg});nfRadio.channel('form-'+this.get('id')).trigger('add:error',this,id,msg);},removeError:function(id){var errors=this.get('errors');var errorModel=errors.get(id);errors.remove(errorModel);nfRadio.channel('form-'+this.get('id')).trigger('remove:error',this,id);},getExtra:function(key){var extraData=this.get('extra');if('undefined'==typeof key)return extraData;return extraData[key];},addExtra:function(key,value){var extraData=this.get('extra');extraData[key]=value;nfRadio.channel('form-'+this.get('id')).trigger('add:extra',this,key,value);},removeExtra:function(key){var extraData=this.get('extra');delete extraData[key];nfRadio.channel('form-'+this.get('id')).trigger('remove:extra',this,key);},getForm:function(){return this;}});return model;});define('models/formCollection',['models/formModel'],function(formModel){var collection=Backbone.Collection.extend({model:formModel});return collection;});define('controllers/formData',['models/formModel','models/formCollection','models/fieldCollection','models/formErrorCollection'],function(FormModel,FormCollection,FieldCollection,ErrorCollection){var controller=Marionette.Object.extend({initialize:function(){var that=this;this.collection=new FormCollection(nfForms);nfRadio.channel('forms').trigger('loaded',this.collection);nfRadio.channel('app').trigger('forms:loaded',this.collection);nfRadio.channel('app').reply('get:form',this.getForm,this);nfRadio.channel('app').reply('get:forms',this.getForms,this);nfRadio.channel('fields').reply('get:field',this.getField,this);},getForm:function(id){return this.collection.get(id);},getForms:function(){return this.collection;},getField:function(id){var model=false;_.each(this.collection.models,function(form){if(!model){model=form.get('fields').get(id);}});if(typeof model=="undefined"){model=nfRadio.channel("field-repeater").request('get:repeaterFieldById',id);}
return model;}});return controller;});define('controllers/fieldError',['models/fieldErrorModel'],function(fieldErrorModel){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('fields').reply('add:error',this.addError);nfRadio.channel('fields').reply('remove:error',this.removeError);nfRadio.channel('fields').reply('get:error',this.getError);},addError:function(targetID,id,msg){var model=nfRadio.channel('fields').request('get:field',targetID);if('undefined'==typeof model)return;var errors=model.get('errors');errors.add({'id':id,'msg':msg});model.set('errors',errors);model.trigger('change:errors',model);model.set('clean',false);nfRadio.channel('fields').trigger('add:error',model,id,msg);},removeError:function(targetID,id){var model=nfRadio.channel('fields').request('get:field',targetID);if('undefined'==typeof model)return;var errors=model.get('errors');var targetError=errors.get(id);if('undefined'!=typeof targetError){errors.remove(targetError);model.set('errors',errors);model.trigger('change:errors',model);nfRadio.channel('fields').trigger('remove:error',model,id);}},getError:function(targetID,id){var model=nfRadio.channel('fields').request('get:field',targetID);var errors=model.get('errors');var targetError=errors.get(id);if('undefined'!=targetError){return targetError;}else{return false;}}});return controller;});define('controllers/changeField',[],function(){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('nfAdmin').reply('change:field',this.changeField);this.listenTo(nfRadio.channel('fields'),'blur:field',this.blurField);},changeField:function(el,model){var value=nfRadio.channel(model.get('type')).request('before:updateField',el,model);value=('undefined'!=typeof value)?value:nfRadio.channel(model.get('parentType')).request('before:updateField',el,model);value=('undefined'!=typeof value)?value:jQuery(el).val();model.set('isUpdated',false);model.set('clean',false);nfRadio.channel('field-'+model.get('id')).trigger('change:field',el,model);nfRadio.channel(model.get('type')).trigger('change:field',el,model);nfRadio.channel('fields').trigger('change:field',el,model);nfRadio.channel('nfAdmin').request('update:field',model,value);},blurField:function(el,model){model.set('clean',false);}});return controller;});define('controllers/changeEmail',[],function(){var radioChannel=nfRadio.channel('email');var emailReg=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var errorID='invalid-email';var controller=Marionette.Object.extend({initialize:function(){this.listenTo(radioChannel,'change:modelValue',this.onChangeModelValue);this.listenTo(radioChannel,'keyup:field',this.emailKeyup);this.listenTo(radioChannel,'blur:field',this.onBlurField);},onChangeModelValue:function(model){var value=model.get('value');var fieldID=model.get('id');this.emailChange(value,fieldID);},onBlurField:function(el,model){var value=jQuery(el).val();var fieldID=model.get('id');this.emailChange(value,fieldID);},emailChange:function(value,fieldID){if(0<value.length){if(emailReg.test(value)){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeEmailErrorMsg);}}else{nfRadio.channel('fields').request('remove:error',fieldID,errorID);}},emailKeyup:function(el,model,keyCode){if(9==keyCode){return false;}
var value=jQuery(el).val();var fieldID=model.get('id');if(0==value.length){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}else if(!emailReg.test(value)&&!model.get('clean')){var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeEmailErrorMsg);model.removeWrapperClass('nf-pass');}else if(emailReg.test(value)){nfRadio.channel('fields').request('remove:error',fieldID,errorID);model.addWrapperClass('nf-pass');model.set('clean',false);}}});return controller;});define('controllers/changeDate',[],function(){var radioChannel=nfRadio.channel('date');var errorID='invalid-date';var controller=Marionette.Object.extend({initialize:function(){this.listenTo(radioChannel,'change:modelValue',this.onChangeModelValue);this.listenTo(radioChannel,'keyup:field',this.dateKeyup);this.listenTo(radioChannel,'blur:field',this.onBlurField);this.listenTo(radioChannel,'change:extra',this.changeHoursMinutes,this)},onChangeModelValue:function(model){this.dateChange(model);},onBlurField:function(el,model){this.dateChange(model);},dateChange:function(model){var fieldID=model.get('id');var value=model.get('value');var format=model.get('date_format');if('default'===format){format=nfi18n.dateFormat;}
if('time_only'==model.get('date_mode')){return false;}
if(0<value.length){if(moment(value,format).isValid()){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeDateErrorMsg);}}else{nfRadio.channel('fields').request('remove:error',fieldID,errorID);}},dateKeyup:function(el,model,keyCode){if(9==keyCode){return false;}
var value=jQuery(el).val();var fieldID=model.get('id');var format=model.get('date_format');if('default'===format){format=nfi18n.dateFormat;}
if(0==value.length){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}
else if(!moment(value,format).isValid()&&!model.get('clean')){var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeDateErrorMsg);model.removeWrapperClass('nf-pass');}
else if(moment(value,format).isValid()){nfRadio.channel('fields').request('remove:error',fieldID,errorID);model.addWrapperClass('nf-pass');model.set('clean',false);}},changeHoursMinutes:function(e,fieldModel){let type='';let container=jQuery(e.target).closest('.nf-field-element');let selected_hour=jQuery(container).find('.hour').val();let selected_minute=jQuery(container).find('.minute').val();let selected_ampm=jQuery(container).find('.ampm').val();fieldModel.set('selected_hour',selected_hour);fieldModel.set('selected_minute',selected_minute);fieldModel.set('selected_ampm',selected_ampm);fieldModel.trigger('change:value',fieldModel);}});return controller;});define('controllers/fieldCheckbox',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('checkbox'),'init:model',this.registerRenderClasses);nfRadio.channel('checkbox').reply('validate:required',this.validateRequired);nfRadio.channel('checkbox').reply('validate:modelData',this.validateModelData);nfRadio.channel('checkbox').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('checkbox').reply('get:calcValue',this.getCalcValue,this);},beforeUpdateField:function(el,model){var checked=jQuery(el).prop('checked');if(checked){var value=1;jQuery(el).addClass('nf-checked');jQuery(el).closest('.field-wrap').find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}else{var value=0;jQuery(el).removeClass('nf-checked');jQuery(el).closest('.field-wrap').find('label[for="'+jQuery(el).prop('id')+'"]').removeClass('nf-checked-label');}
return value;},validateRequired:function(el,model){return el[0].checked;},validateModelData:function(model){return model.get('value')!=0;},getCalcValue:function(fieldModel){if(1==fieldModel.get('value')){calcValue=fieldModel.get('checked_calc_value');}else{calcValue=fieldModel.get('unchecked_calc_value');}
return calcValue;},registerRenderClasses:function(model){if('checked'==model.get('default_value')){model.set('value',1);}else{model.set('value',0);}
model.set('customClasses',this.customClasses);model.set('customLabelClasses',this.customLabelClasses);model.set('maybeChecked',this.maybeChecked);},customClasses:function(classes){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){classes+=' nf-checked';}else{classes.replace('nf-checked','');}
return classes;},customLabelClasses:function(classes){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){classes+=' nf-checked-label';}else{classes.replace('nf-checked-label','');}
return classes;},maybeChecked:function(){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){return' checked';}else{return'';}}});return controller;});define('controllers/fieldCheckboxList',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('listcheckbox'),'init:model',this.register);this.listenTo(nfRadio.channel('terms'),'init:model',this.register);nfRadio.channel('listcheckbox').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('terms').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('listcheckbox').reply('get:calcValue',this.getCalcValue,this);nfRadio.channel('terms').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherText',this.renderOtherText);model.set('selected',[]);if(0!=model.get('options').length){var selected=_.filter(model.get('options'),function(opt){return 1==opt.selected});selected=_.map(selected,function(opt){return opt.value});}
var savedVal=model.get('value');if('undefined'!==typeof savedVal&&Array.isArray(savedVal)){model.set('value',savedVal);}else if('undefined'!=typeof selected){model.set('value',selected);}},renderOptions:function(){var html='';if(''==this.value||(Array.isArray(this.value)&&0<this.value.length)||0<this.value.length){var valueFound=true;}else{var valueFound=false;}
_.each(this.options,function(option,index){if(Array.isArray(this.value)){if(Array.isArray(this.value[0])&&-1!==_.indexOf(this.value[0],option.value)){valueFound=true;}
else if(_.indexOf(this.value,option.value)){valueFound=true;}}
if(option.value==this.value){valueFound=true;}
if('undefined'==typeof option.visible){option.visible=true;}
option.fieldID=this.id;option.classes=this.classes;option.index=index;var selected=false;if(Array.isArray(this.value)&&0<this.value.length){if(-1!==_.indexOf(this.value[0].split(','),option.value)||-1!==_.indexOf(this.value,option.value)){selected=true;}}else if(!_.isArray(this.value)&&option.value==this.value){selected=true;}else if((1==option.selected&&this.clean)&&'undefined'===typeof this.value){selected=true;}
option.selected=selected;option.isSelected=selected;option.required=this.required;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listcheckbox-option');html+=template(option);},this);if(1==this.show_other){if('nf-other'==this.value){valueFound=false;}
var data={fieldID:this.id,classes:this.classes,currentValue:this.value,renderOtherText:this.renderOtherText,valueFound:valueFound};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listcheckbox-other');html+=template(data);}
return html;},renderOtherText:function(){if('nf-other'==this.currentValue||!this.valueFound){if('nf-other'==this.currentValue){this.currentValue='';}
var data={fieldID:this.fieldID,classes:this.classes,currentValue:this.currentValue};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listcheckbox-other-text');return template(data);}},getCalcValue:function(fieldModel){var calc_value=0;var options=fieldModel.get('options');if(0!=options.length){_.each(fieldModel.get('value'),function(val){var tmp_opt=_.find(options,function(opt){return opt.value==val});calc_value=Number(calc_value)+Number(tmp_opt.calc);});}
return calc_value;},beforeUpdateField:function(el,model){var selected=model.get('value')||[];if(typeof selected=='string')selected=[selected];var value=jQuery(el).val();var checked=jQuery(el).prop('checked');if(checked){selected.push(value);jQuery(el).addClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}else{jQuery(el).removeClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').removeClass('nf-checked-label');var i=selected.indexOf(value);if(-1!=i){selected.splice(i,1);}else if(Array.isArray(selected)){var optionArray=selected[0].split(',');var valueIndex=optionArray.indexOf(value);if(-1!==valueIndex){optionArray.splice(valueIndex,1);}
selected=optionArray.join(',');}}
return _.clone(selected);}});return controller;});define('controllers/fieldImageList',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('listimage'),'init:model',this.register);nfRadio.channel('listimage').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('listimage').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherText',this.renderOtherText);model.set('selected',[]);if(0!=model.get('image_options').length){var selected=_.filter(model.get('image_options'),function(opt){return 1==opt.selected});selected=_.map(selected,function(opt){return opt.value});}
var savedVal=model.get('value');if('undefined'!==typeof savedVal&&Array.isArray(savedVal)){model.set('value',savedVal);}else if('undefined'!=typeof selected){model.set('value',selected);}},renderOptions:function(){var html='';if(''==this.value||(Array.isArray(this.value)&&0<this.value.length)||0<this.value.length){var valueFound=true;}else{var valueFound=false;}
if(this.allow_multi_select===1){this.old_classname='list-checkbox';this.image_type='checkbox';}else{this.image_type='radio';}
if(this.list_orientation==='horizontal'){this.flex_direction='row';}else{this.flex_direction='column';}
var that=this;var num_columns=parseInt(this.num_columns)||1;var current_column=1;var current_row=1;_.each(this.image_options,function(image,index){if(!this.show_option_labels){image.label='';}
if(Array.isArray(this.value)){if(Array.isArray(this.value[0])&&-1!==_.indexOf(this.value[0],image.value)){valueFound=true;}
else if(_.indexOf(this.value,image.value)){valueFound=true;}}
if(image.value==this.value){valueFound=true;}
if('undefined'==typeof image.visible){image.visible=true;}
if(that.list_orientation==='horizontal'&&current_column<=num_columns){image.styles="margin:auto;grid-column: "+current_column+"; grid-row = "+current_row;if(current_column===num_columns){current_column=1;current_row+=1;}else{current_column+=1;}}
image.image_type=that.image_type;image.fieldID=this.id;image.classes=this.classes;image.index=index;var selected=false;if(Array.isArray(this.value)&&0<this.value.length){if(-1!==_.indexOf(this.value[0].split(','),image.value)||-1!==_.indexOf(this.value,image.value)){selected=true;}}else if(!_.isArray(this.value)&&image.value==this.value){selected=true;}else if((1==image.selected&&this.clean)&&('undefined'===typeof this.value||''===this.value)){selected=true;}
image.selected=selected;image.isSelected=selected;image.required=this.required;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listimage-option');html+=template(image);},this);if(1==this.show_other){if('nf-other'==this.value){valueFound=false;}
var data={fieldID:this.id,classes:this.classes,value:this.value,currentValue:this.value,renderOtherText:this.renderOtherText,valueFound:valueFound};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listimage-other');html+=template(data);}
return html;},renderOtherText:function(){if('nf-other'==this.currentValue||!this.valueFound){if('nf-other'==this.currentValue){this.currentValue='';}
var data={fieldID:this.fieldID,classes:this.classes,currentValue:this.currentValue};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listimage-other-text');return template(data);}},getCalcValue:function(fieldModel){var calc_value=0;var options=fieldModel.get('options');if(0!=options.length){if(1==parseInt(fieldModel.get('allow_multi_select'))){_.each(fieldModel.get('value'),function(val){var tmp_opt=_.find(options,function(opt){return opt.value==val});calc_value+=Number(tmp_opt.calc);});}else{var selected=_.find(options,function(opt){return fieldModel.get('value')==opt.value});if('undefined'!==typeof selected){calc_value=selected.calc;}}}
return calc_value;},beforeUpdateField:function(el,model){if(model.get('allow_multi_select')!==1){var selected=jQuery(el).val();var options=model.get('image_options');_.each(options,function(option,index){if(option.value===selected){option.isSelected=true;option.selected=true;}else{option.isSelected=false;option.selected=false;}
if(!option.isSelected){option.selected=false;jQuery("#nf-field-"+option.fieldID+"-"+index).removeClass('nf-checked');jQuery("#nf-label-field-"+option.fieldID+"-"+index).removeClass('nf-checked-label');}else{jQuery("#nf-field-"+option.fieldID+"-"+index).addClass('nf-checked');jQuery("#nf-label-field-"+option.fieldID+"-"+index).addClass('nf-checked-label');}});}else{var selected=model.get('value')||[];if(typeof selected=='string')selected=[selected];var value=jQuery(el).val();var checked=jQuery(el).prop('checked');if(checked){selected.push(value);jQuery(el).addClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}else{jQuery(el).removeClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').removeClass('nf-checked-label');var i=selected.indexOf(value);if(-1!=i){selected.splice(i,1);}else if(Array.isArray(selected)){var optionArray=selected[0].split(',');var valueIndex=optionArray.indexOf(value);if(-1!==valueIndex){optionArray.splice(valueIndex,1);}
selected=optionArray.join(',');}}}
return _.clone(selected);}});return controller;});define('controllers/fieldRadio',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('listradio'),'change:modelValue',this.changeModelValue);this.listenTo(nfRadio.channel('listradio'),'init:model',this.register);nfRadio.channel('listradio').reply('get:calcValue',this.getCalcValue,this);this.listenTo(nfRadio.channel('listradio'),'change:field',this.updateCheckedClass,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherText',this.renderOtherText);if(0!=model.get('options').length){var selected=_.find(model.get('options'),function(opt){return 1==opt.selected});if('undefined'!=typeof selected){model.set('value',selected.value);}}},changeModelValue:function(model){if(1==model.get('show_other')){model.trigger('reRender');}},renderOptions:function(){var html='';if(''==this.value){var valueFound=true;}else{var valueFound=false;}
_.each(this.options,function(option,index){if(option.value==this.value){valueFound=true;}
if('undefined'==typeof option.visible){option.visible=true;}
option.selected=false;option.fieldID=this.id;option.classes=this.classes;option.currentValue=this.value;option.index=index;option.required=this.required;if(this.clean&&1==this.selected){option.selected=true;}else if(this.value==option.value){option.selected=true;}else{option.selected=false;}
var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listradio-option');html+=template(option);},this);if(1==this.show_other){if('nf-other'==this.value){valueFound=false;}
var data={fieldID:this.id,classes:this.classes,currentValue:this.value,renderOtherText:this.renderOtherText,valueFound:valueFound};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listradio-other');html+=template(data);}
return html;},renderOtherText:function(){if('nf-other'==this.currentValue||!this.valueFound){if('nf-other'==this.currentValue){this.currentValue='';}
var data={fieldID:this.fieldID,classes:this.classes,currentValue:this.currentValue};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listradio-other-text');return template(data);}},getCalcValue:function(fieldModel){var calc_value=0;if(0!=fieldModel.get('options').length){var selected=_.find(fieldModel.get('options'),function(opt){return fieldModel.get('value')==opt.value});if('undefined'!==typeof selected){calc_value=selected.calc;}}
return calc_value;},updateCheckedClass:function(el,model){jQuery('[name="'+jQuery(el).attr('name')+'"]').removeClass('nf-checked');jQuery(el).closest('ul').find('label').removeClass('nf-checked-label');jQuery(el).addClass('nf-checked');jQuery(el).closest('li').find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}});return controller;});define('controllers/fieldNumber',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('number'),'init:model',this.maybeMinDefault);this.listenTo(nfRadio.channel('number'),'keyup:field',this.validateMinMax);},maybeMinDefault:function(model){if(''==model.get('value')&&''==model.get('placeholder')){var min=model.get('num_min');model.set('placeholder',min);}},validateMinMax:function(el,model){var $el=jQuery(el);var value=parseFloat($el.val());var min=$el.attr('min');var max=$el.attr('max');var step=parseFloat($el.attr('step'));if(min&&value<min){var fieldModel=nfRadio.channel('fields').request('get:field',model.get('id'));var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',model.get('id'),'number-min',formModel.get('settings').fieldNumberNumMinError);}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'number-min');}
if(max&&value>max){var fieldModel=nfRadio.channel('fields').request('get:field',model.get('id'));var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',model.get('id'),'number-max',formModel.get('settings').fieldNumberNumMaxError);}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'number-max');}
var testValue=Math.round(parseFloat(value)*1000000000);var testStep=Math.round(parseFloat(step)*1000000000);if(value&&0!==testValue%testStep){var fieldModel=nfRadio.channel('fields').request('get:field',model.get('id'));var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',model.get('id'),'number-step',formModel.get('settings').fieldNumberIncrementBy+step);}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'number-step');}}});return controller;});define('controllers/mirrorField',[],function(){var radioChannel=nfRadio.channel('fields');var controller=Marionette.Object.extend({listeningModel:'',initialize:function(){this.listenTo(radioChannel,'init:model',this.registerMirror);},registerMirror:function(model){if(model.get('mirror_field')){this.listeningModel=model;var targetID=model.get('mirror_field');this.listenTo(nfRadio.channel('field-'+targetID),'change:modelValue',this.changeValue);}},changeValue:function(targetModel){this.listeningModel.set('value',targetModel.get('value'));this.listeningModel.trigger('reRender');}});return controller;});define('controllers/confirmField',[],function(){var radioChannel=nfRadio.channel('fields');var errorID='confirm-mismatch';var controller=Marionette.Object.extend({initialize:function(){this.listenTo(radioChannel,'init:model',this.registerConfirm);this.listenTo(radioChannel,'keyup:field',this.confirmKeyup);},registerConfirm:function(confirmModel){if(!confirmModel.get('confirm_field'))return;this.listenTo(nfRadio.channel('form'),'loaded',function(formModal){this.registerConfirmListeners(confirmModel);});},registerConfirmListeners:function(confirmModel){var targetModel=nfRadio.channel('form-'+confirmModel.get('formID')).request('get:fieldByKey',confirmModel.get('confirm_field'));if('undefined'==typeof targetModel)return;targetModel.set('confirm_with',confirmModel.get('id'));this.listenTo(nfRadio.channel('field-'+targetModel.get('id')),'change:modelValue',this.changeValue);this.listenTo(nfRadio.channel('field-'+confirmModel.get('id')),'change:modelValue',this.changeValue);},changeValue:function(model){if('undefined'==typeof model.get('confirm_with')){var confirmModel=model;var targetModel=nfRadio.channel('form-'+model.get('formID')).request('get:fieldByKey',confirmModel.get('confirm_field'));}else{var targetModel=model;var confirmModel=radioChannel.request('get:field',targetModel.get('confirm_with'));}
var targetID=targetModel.get('id');var confirmID=confirmModel.get('id');if(''==confirmModel.get('value')||confirmModel.get('value')==targetModel.get('value')){nfRadio.channel('fields').request('remove:error',confirmID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',confirmID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',confirmID,errorID,formModel.get('settings').confirmFieldErrorMsg);}},confirmKeyup:function(el,model,keyCode){var currentValue=jQuery(el).val();if(model.get('confirm_field')){var confirmModel=model;var confirmID=model.get('id');var targetModel=nfRadio.channel('form-'+model.get('formID')).request('get:fieldByKey',confirmModel.get('confirm_field'));var compareValue=targetModel.get('value');var confirmValue=currentValue;}else if(model.get('confirm_with')){var confirmModel=nfRadio.channel('fields').request('get:field',model.get('confirm_with'));var confirmID=confirmModel.get('id');var confirmValue=confirmModel.get('value');var compareValue=confirmValue;}
if('undefined'!==typeof confirmModel){if(''==confirmValue){nfRadio.channel('fields').request('remove:error',confirmID,errorID);}else if(currentValue==compareValue){nfRadio.channel('fields').request('remove:error',confirmID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',confirmID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',confirmID,errorID,formModel.get('settings').confirmFieldErrorMsg);}}}});return controller;});define('controllers/updateFieldModel',[],function(){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('nfAdmin').reply('update:field',this.updateField);},updateField:function(model,value){if(!model.get('isUpdated')){model.set('value',value);model.set('isUpdated',true);if(_.isArray(value)){model.trigger('change:value',model);}}}});return controller;});define('controllers/submitButton',['controllers/submitButton'],function(submitButton){var controller=Marionette.Object.extend({bound:{},initialize:function(){this.listenTo(nfRadio.channel('submit'),'init:model',this.registerHandlers);},registerHandlers:function(fieldModel){if('undefined'!=typeof this.bound[fieldModel.get('id')]){return false;}
this.listenTo(nfRadio.channel('field-'+fieldModel.get('id')),'click:field',this.click,this);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'before:submit',this.beforeSubmit,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'submit:failed',this.resetLabel,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'submit:response',this.resetLabel,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'enable:submit',this.maybeEnable,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'disable:submit',this.maybeDisable,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'processingLabel',this.processingLabel,fieldModel);fieldModel.listenTo(nfRadio.channel('fields'),'add:error',this.maybeDisable,fieldModel);fieldModel.listenTo(nfRadio.channel('fields'),'remove:error',this.maybeEnable,fieldModel);this.bound[fieldModel.get('id')]=true;},click:function(e,fieldModel){var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('form-'+fieldModel.get('formID')).request('submit',formModel);},beforeSubmit:function(){this.set('disabled',true);nfRadio.channel('form-'+this.get('formID')).trigger('processingLabel',this);},maybeDisable:function(fieldModel){if('undefined'!=typeof fieldModel&&fieldModel.get('formID')!=this.get('formID'))return;this.set('disabled',true);this.trigger('reRender');},maybeEnable:function(fieldModel){if('undefined'!=typeof fieldModel&&fieldModel.get('formID')!=this.get('formID')){return false;}
var formModel=nfRadio.channel('app').request('get:form',this.get('formID'));if(0==_.size(formModel.get('fieldErrors'))){this.set('disabled',false);this.trigger('reRender');}},processingLabel:function(){if(this.get('label')==this.get('processing_label'))return false;this.set('oldLabel',this.get('label'));this.set('label',this.get('processing_label'));this.trigger('reRender');},resetLabel:function(response){if('undefined'!=typeof response.errors&&'undefined'!=typeof response.errors.nonce&&_.size(response.errors.nonce)>0){if('undefined'!=typeof response.errors.nonce.new_nonce&&'undefined'!=typeof response.errors.nonce.nonce_ts){return;}}
if('undefined'!=typeof this.get('oldLabel')){this.set('label',this.get('oldLabel'));}
this.set('disabled',false);this.trigger('reRender');}});return controller;});define('controllers/submitDebug',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.submitDebug);},submitDebug:function(response,textStatus,jqXHR,formID){if('undefined'==typeof response.debug)return;if('undefined'!=typeof response.debug.form){var debugMessages=document.createElement('span');_.each(response.debug.form,function(message,index){var messageText=document.createTextNode(message);debugMessages.appendChild(messageText);debugMessages.appendChild(document.createElement('br'));});jQuery('.nf-debug-msg').html(debugMessages);}
if('undefined'!=typeof response.debug.console){var style='';console.log('%c%s',style,'NINJA SUPPORT');_.each(response.debug.console,function(message,index){console.log(message);});console.log('%c%s',style,'END NINJA SUPPORT');}}});return controller;});define('controllers/getFormErrors',[],function(){var radioChannel=nfRadio.channel('fields');var controller=Marionette.Object.extend({initialize:function(model){nfRadio.channel('form').reply('get:errors',this.getFormErrors);},getFormErrors:function(formID){var formModel=nfRadio.channel('app').request('get:form',formID);var errors=false;if(formModel){if(0!==formModel.get('errors').length){_.each(formModel.get('errors').models,function(error){errors=errors||{};errors[error.get('id')]=error.get('msg');});}
_.each(formModel.get('fields').models,function(field){if(field.get('type')!='submit'&&field.get('errors').length>0){errors=errors||{};errors[field.get('id')]=field.get('errors');}});}
return errors;},});return controller;});define('controllers/validateRequired',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'blur:field',this.validateRequired);this.listenTo(nfRadio.channel('fields'),'change:field',this.validateRequired);this.listenTo(nfRadio.channel('fields'),'keyup:field',this.validateKeyup);this.listenTo(nfRadio.channel('fields'),'change:modelValue',this.validateModelData);this.listenTo(nfRadio.channel('submit'),'validate:field',this.validateModelData);},validateKeyup:function(el,model,keyCode){if(1!=model.get('required')){return false;}
if(!model.get('clean')){this.validateRequired(el,model);}},validateRequired:function(el,model){if(1!=model.get('required')||!model.get('visible')){return false;}
var currentValue=jQuery(el).val();var customReqValidation=nfRadio.channel(model.get('type')).request('validate:required',el,model);var defaultReqValidation=true;var maskPlaceholder=model.get('mask');if(maskPlaceholder){maskPlaceholder=maskPlaceholder.replace(/9/g,'_');maskPlaceholder=maskPlaceholder.replace(/a/g,'_');maskPlaceholder=maskPlaceholder.replace(/\*/g,'_');}
if(maskPlaceholder&&currentValue===maskPlaceholder){if(0<model.get('errors').length){defaultReqValidation=false;}}
if(!jQuery.trim(currentValue)){defaultReqValidation=false;}
if('undefined'!==typeof customReqValidation){var valid=customReqValidation;}else{var valid=defaultReqValidation;}
this.maybeError(valid,model);},validateModelData:function(model){if(1!=model.get('required')||!model.get('visible')||model.get('clean')){return false;}
if(model.get('errors').get('required-error')){return false;}
currentValue=model.get('value');var defaultReqValidation=true;if(!jQuery.trim(currentValue)){defaultReqValidation=false;}
var customReqValidation=nfRadio.channel(model.get('type')).request('validate:modelData',model);if('undefined'!==typeof customReqValidation){var valid=customReqValidation;}else{var valid=defaultReqValidation;}
this.maybeError(valid,model);},maybeError:function(valid,model){if(!valid){var formModel=nfRadio.channel('form-'+model.get('formID')).request('get:form');if('undefined'!=typeof formModel){nfRadio.channel('fields').request('add:error',model.get('id'),'required-error',formModel.get('settings').validateRequiredField);}}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'required-error');}}});return controller;});define('controllers/submitError',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.submitErrors);},submitErrors:function(response,textStatus,jqXHR,formID){if(_.size(response.errors.nonce)>0){if('undefined'!=typeof response.errors.nonce.new_nonce&&'undefined'!=typeof response.errors.nonce.nonce_ts){nfFrontEnd.ajaxNonce=response.errors.nonce.new_nonce;nfFrontEnd.nonce_ts=response.errors.nonce.nonce_ts;var formModel=nfRadio.channel('app').request('get:form',formID);nfRadio.channel('form-'+formID).request('submit',formModel);}}
if(_.size(response.errors.fields)>0){_.each(response.errors.fields,function(data,fieldID){if(typeof(data)==='object'){nfRadio.channel('fields').request('add:error',fieldID,data.slug,data.message);}else{nfRadio.channel('fields').request('add:error',fieldID,'required-error',data);}});}
if(_.size(response.errors.form)>0){_.each(response.errors.form,function(msg,errorID){nfRadio.channel('form-'+formID).request('remove:error',errorID);nfRadio.channel('form-'+formID).request('add:error',errorID,msg);});}
if('undefined'!=typeof response.errors.last){if('undefined'!=typeof response.errors.last.message){var style='background: rgba( 255, 207, 115, .5 ); color: #FFA700; display: block;';console.log('%c NINJA FORMS SUPPORT: SERVER ERROR',style);console.log(response.errors.last.message);console.log('%c END SERVER ERROR MESSAGE',style);}}
jQuery('#nf-form-'+formID+'-cont .nf-field-container').show();}});return controller;});define('controllers/actionRedirect',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.actionRedirect);},actionRedirect:function(response){if('undefined'!=typeof response.data.halt&&'undefined'!=typeof response.data.halt.redirect&&''!=response.data.halt.redirect){window.location=response.data.halt.redirect;}
if(_.size(response.errors)==0&&'undefined'!=typeof response.data.actions){if('undefined'!=typeof response.data.actions.redirect&&''!=response.data.actions.redirect){window.location=response.data.actions.redirect;}}}});return controller;});define('controllers/actionSuccess',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.actionSubmit);},actionSubmit:function(response){if(_.size(response.errors)==0&&'undefined'!=typeof response.data.actions){if('undefined'!=typeof response.data.actions.success_message&&''!=response.data.actions.success_message){var form_id=response.data.form_id;var success_message=jQuery('#nf-form-'+form_id+'-cont .nf-response-msg');success_message.html(response.data.actions.success_message).show();var top_of_success_message=success_message.offset().top;var bottom_of_success_message=success_message.offset().top+success_message.outerHeight();var bottom_of_screen=jQuery(window).scrollTop()+jQuery(window).height();var top_of_screen=jQuery(window).scrollTop();var the_element_is_visible=((bottom_of_screen>bottom_of_success_message)&&(top_of_screen<top_of_success_message));if(!the_element_is_visible){jQuery('html, body').animate({scrollTop:(success_message.offset().top-50)},300);}}}}});return controller;});define('controllers/fieldSelect',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'init:model',function(model){if('list'==model.get('parentType'))this.register(model);},this);nfRadio.channel('listselect').reply('get:calcValue',this.getCalcValue,this);nfRadio.channel('listmultiselect').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherAttributes',this.renderOtherAttributes);if(0!=model.get('options').length){var savedVal=model.get('value');if('listmultiselect'==model.get('type')){var selected=_.filter(model.get('options'),function(opt){return 1==opt.selected});selected=_.map(selected,function(opt){return opt.value});var value=selected;}else if('listradio'!==model.get('type')){var selected=_.find(model.get('options'),function(opt){return 1==opt.selected});if('undefined'==typeof selected){selected=_.first(model.get('options'));}
if('undefined'!=typeof selected&&'undefined'!=typeof selected.value){var value=selected.value;}else if('undefined'!=typeof selected){var value=selected.label;}}
if('undefined'!==typeof savedVal&&''!==savedVal&&Array.isArray(savedVal)){model.set('value',savedVal);}else if('undefined'!=typeof selected){model.set('value',value);}}},renderOptions:function(){var html='';_.each(this.options,function(option){if(_.isArray(this.value)){if('listmultiselect'===this.type&&0<this.value.length&&-1!=_.indexOf(this.value[0].split(','),option.value)){var selected=true;}else if(-1!=_.indexOf(this.value,option.value)){var selected=true;}}else if(!_.isArray(this.value)&&option.value==this.value){var selected=true;}else if((1==option.selected&&this.clean)&&'undefined'===typeof this.value){var selected=true;}else{var selected=false;}
if('undefined'==typeof option.visible){option.visible=true;}
option.selected=selected;option.fieldID=this.id;option.classes=this.classes;option.currentValue=this.value;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listselect-option');html+=template(option);},this);return html;},renderOtherAttributes:function(){var otherAttributes='';if('listmultiselect'==this.type){otherAttributes=otherAttributes+' multiple';var multiSize=this.multi_size||5;otherAttributes=otherAttributes+' size="'+multiSize+'"';}
return otherAttributes;},getCalcValue:function(fieldModel){var calc_value=0;var options=fieldModel.get('options');if(0!=options.length){if('listmultiselect'==fieldModel.get('type')){_.each(fieldModel.get('value'),function(val){var tmp_opt=_.find(options,function(opt){return opt.value==val});calc_value+=Number(tmp_opt.calc);});}else{var selected=_.find(options,function(opt){return fieldModel.get('value')==opt.value});if('undefined'==typeof selected){selected=fieldModel.get('options')[0];}
calc_value=selected.calc;}}
return calc_value;}});return controller;});define('controllers/coreSubmitResponse',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.actionSubmit);},actionSubmit:function(response){var formModel=nfRadio.channel('app').request('get:form',response.data.form_id);if(0!=_.size(response.errors)){return false;}
if(1==response.data.settings.clear_complete){formModel.get('fields').reset(formModel.get('loadedFields'));if(1!=response.data.settings.hide_complete){nfRadio.channel('captcha').trigger('reset');}}
if(1==response.data.settings.hide_complete){formModel.trigger('hide');}}});return controller;});define('controllers/fieldProduct',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('product'),'init:model',this.register);nfRadio.channel('product').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderProductQuantity',this.renderProductQuantity);model.set('renderProduct',this.renderProduct);model.set('renderOptions',this.renderOptions);},renderProduct:function(){switch(this.product_type){case'user':var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-textbox');return template(this);break;case'hidden':var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-hidden');return template(this);break;case'dropdown':var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-dropdown');return template(this);break;default:var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-single');return template(this);}},renderProductQuantity:function(){if(1==this.product_use_quantity){var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-quantity');return template(this);}},renderOptions:function(){var that=this;var html='';_.each(this.options,function(option){if(1==option.selected){var selected=true;}else{var selected=false;}
option.selected=selected;option.fieldID=that.id;option.classes=that.classes;option.currentValue=that.value;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-'+that.product_type+'-option');html+=template(option);});return html;},getCalcValue:function(fieldModel){var product_price=fieldModel.get('product_price');var product_quantity=fieldModel.get('value');return product_price*product_quantity;}});return controller;});define('controllers/fieldTotal',[],function(){var controller=Marionette.Object.extend({totalModel:{},productTotals:{},initialize:function(){this.listenTo(nfRadio.channel('total'),'init:model',this.register);this.listenTo(nfRadio.channel('shipping'),'init:model',this.registerShipping);},register:function(totalModel){this.totalModel=totalModel;var formID=totalModel.get('formID');this.listenTo(nfRadio.channel('form-'+formID),'loaded',this.onFormLoaded);this.listenTo(nfRadio.channel('product'),'change:modelValue',this.onChangeProduct);this.listenTo(nfRadio.channel('quantity'),'change:modelValue',this.onChangeQuantity);},registerShipping:function(shippingModel){this.shippingCost=shippingModel.get('shipping_cost');},onFormLoaded:function(formModel){var fieldModels=formModel.get('fields').models;var productFields={};var quantityFields={};for(var model in fieldModels){var field=fieldModels[model];var fieldID=field.get('id');if('product'==field.get('type')){productFields[fieldID]=field;}else if('quantity'==field.get('type')){var productID=field.get('product_assignment');quantityFields[productID]=field;}}
for(var productID in productFields){var product=productFields[productID];var productPrice=Number(product.get('product_price'));if(quantityFields[productID]){productPrice*=quantityFields[productID].get('value');}else if(1==product.get('product_use_quantity')){productPrice*=product.get('value');}
this.productTotals[productID]=productPrice;}
this.updateTotal();},onChangeProduct:function(model){var productID=model.get('id');var productPrice=Number(model.get('product_price'));var productQuantity=Number(model.get('value'));var newTotal=productQuantity*productPrice;this.productTotals[productID]=newTotal;this.updateTotal();},onChangeQuantity:function(model){var productID=model.get('product_assignment');var productField=nfRadio.channel('fields').request('get:field',productID);var productPrice=Number(productField.get('product_price'));var quantity=Number(model.get('value'));var newTotal=quantity*productPrice;this.productTotals[productID]=newTotal;this.updateTotal();},updateTotal:function(){var newTotal=0;for(var product in this.productTotals){newTotal+=Number(this.productTotals[product]);}
if(newTotal&&this.shippingCost){newTotal+=Number(this.shippingCost);}
this.totalModel.set('value',newTotal.toFixed(2));this.totalModel.trigger('reRender');}});return controller;});define('controllers/fieldQuantity',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('quantity'),'init:model',this.registerQuantity);},registerQuantity:function(model){var productID=model.get('product_assignment');var product=nfRadio.channel('fields').request('get:field',productID);if(product){product.set('product_use_quantity',0);}},});return controller;});define('models/calcModel',[],function(){var model=Backbone.Model.extend({initialize:function(){this.set('formID',this.collection.options.formModel.get('id'));this.set('fields',{});nfRadio.channel('calc').trigger('init:model',this);this.on('change:value',this.changeValue,this);},changeField:function(fieldModel){nfRadio.channel('calc').trigger('change:field',this,fieldModel);},changeCalc:function(targetCalcModel){nfRadio.channel('calc').trigger('change:calc',this,targetCalcModel);},changeValue:function(){nfRadio.channel('calc').trigger('change:value',this);}});return model;});define('models/calcCollection',['models/calcModel'],function(CalcModel){var collection=Backbone.Collection.extend({model:CalcModel,comparator:'order',initialize:function(models,options){this.options=options;_.each(models,function(model){if('undefined'==typeof model.dec)return;if(''===model.dec.toString().trim())model.dec=2;model.dec=parseInt(model.dec);});nfRadio.channel('form-'+options.formModel.get('id')).reply('get:calc',this.getCalc,this);},getCalc:function(key){return this.findWhere({name:key});}});return collection;});define('controllers/calculations',['models/calcCollection'],function(CalcCollection){var controller=Marionette.Object.extend({initialize:function(){this.calcs={};this.displayFields={};this.listenTo(nfRadio.channel('form'),'loaded',this.registerCalcs);this.listenTo(nfRadio.channel('fields'),'reset:collection',this.resetCalcs);this.listenTo(nfRadio.channel('calc'),'change:field',this.changeField);this.listenTo(nfRadio.channel('calc'),'change:calc',this.changeCalc);var that=this;_.each(nfFrontEnd.use_merge_tags.calculations,function(fieldType){that.listenTo(nfRadio.channel('fields-'+fieldType),'init:model',that.initDisplayField);});this.listenTo(nfRadio.channel('calc'),'change:value',this.updateDisplayFields);this.init={};},resetCalcs:function(fieldCollection){if('undefined'!=typeof(fieldCollection.options.formModel)){this.registerCalcs(fieldCollection.options.formModel);}},registerCalcs:function(formModel){var calcCollection=new CalcCollection(formModel.get('settings').calculations,{formModel:formModel});this.calcs[formModel.get('id')]=calcCollection;var that=this;_.each(calcCollection.models,function(calcModel){that.init[calcModel.get('name')]=true;that.setupCalc(calcModel);});},setupCalc:function(calcModel){var that=this;var eq=calcModel.get('eq');var eqValues=eq;var calcName=calcModel.get('name');var fields=eq.match(new RegExp(/{field:(.*?)}/g));if(fields){fields=fields.map(function(field){var key=field.replace(':calc}','').replace('}','').replace('{field:','');fieldModel=nfRadio.channel('form-'+calcModel.get('formID')).request('get:fieldByKey',key);if('undefined'==typeof fieldModel)return;fieldModel.set('clean',false);fieldModel.on('change:value',calcModel.changeField,calcModel);var calcValue=that.getCalcValue(fieldModel);that.updateCalcFields(calcModel,key,calcValue);eqValues=that.replaceKey('field',key,calcValue,eqValues);});}
var calcs=eq.match(new RegExp(/{calc:(.*?)}/g));if(calcs){calcs=calcs.map(function(calc){var name=calc.replace('}','').replace('{calc:','');var targetCalcModel=calcModel.collection.findWhere({name:name});if('undefined'==typeof targetCalcModel)return;targetCalcModel.on('change:value',calcModel.changeCalc,calcModel);var calcValue=targetCalcModel.get('value');eqValues=that.replaceKey('calc',name,calcValue,eqValues);});}
eqValues=eqValues.replace(/{([a-zA-Z0-9]|:|_|-)*}/g,0);eqValues=eqValues.replace(/\r?\n|\r/g,'');try{this.debug('Calculation Decoder '+eqValues+' -> '+this.localeDecodeEquation(eqValues)+' (Setup)');calcModel.set('value',Number(mexp.eval(this.localeDecodeEquation(eqValues))).toFixed(calcModel.get('dec')));}catch(e){console.log(e);}
if(calcModel.get('value')==='NaN')calcModel.set('value','0');},updateCalcFields:function(calcModel,key,calcValue){var fields=calcModel.get('fields');fields[key]=calcValue;calcModel.set('fields',fields);},getCalcValue:function(fieldModel){var value=nfRadio.channel(fieldModel.get('type')).request('get:calcValue',fieldModel);var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);var calcValue=value||fieldModel.get('value');var machineNumber=localeConverter.numberDecoder(calcValue);var formattedNumber=localeConverter.numberEncoder(calcValue);if('undefined'!==typeof machineNumber&&jQuery.isNumeric(machineNumber)){value=formattedNumber;}else{value=0;}
if(!fieldModel.get('visible')){value=0;}
return value;},replaceKey:function(type,key,calcValue,eq){eq=eq||calcModel.get('eq');tag='{'+type+':'+key+'}';var reTag=new RegExp(tag,'g');calcTag='{'+type+':'+key+':calc}';var reCalcTag=new RegExp(calcTag,'g');eq=eq.replace(reTag,calcValue);eq=eq.replace(reCalcTag,calcValue);return eq;},replaceAllKeys:function(calcModel){var eq=calcModel.get('eq');var that=this;_.each(calcModel.get('fields'),function(value,key){eq=that.replaceKey('field',key,value,eq);});var calcs=eq.match(new RegExp(/{calc:(.*?)}/g));if(calcs){_.each(calcs,function(calc){var name=calc.replace('}','').replace('{calc:','');var targetCalcModel=calcModel.collection.findWhere({name:name});if('undefined'==typeof targetCalcModel)return;var re=new RegExp(calc,'g');eq=eq.replace(re,targetCalcModel.get('value'));});}
return eq;},changeField:function(calcModel,fieldModel){var key=fieldModel.get('key');var value=this.getCalcValue(fieldModel);this.updateCalcFields(calcModel,key,value);var eqValues=this.replaceAllKeys(calcModel);eqValues=eqValues.replace(/{([a-zA-Z0-9]|:|_|-)*}/g,'0');eqValues=eqValues.replace(/\r?\n|\r/g,'');try{this.debug('Calculation Decoder '+eqValues+' -> '+this.localeDecodeEquation(eqValues)+' (Change Field)');calcModel.set('value',Number(mexp.eval(this.localeDecodeEquation(eqValues))).toFixed(calcModel.get('dec')));}catch(e){if(this.debug())console.log(e);}
if(calcModel.get('value')==='NaN')calcModel.set('value','0');},initDisplayField:function(fieldModel){if(!fieldModel.get('default')||'string'!=typeof fieldModel.get('default'))return;var calcs=fieldModel.get('default').match(new RegExp(/{calc:(.*?)}/g));if(calcs){_.each(calcs,function(calcName){calcName=calcName.replace('{calc:','').replace('}','').replace(':2','');this.displayFields[calcName]=this.displayFields[calcName]||[];this.displayFields[calcName].push(fieldModel);},this);}},updateDisplayFields:function(calcModel){var that=this;if('undefined'!=typeof this.displayFields[calcModel.get('name')]){_.each(this.displayFields[calcModel.get('name')],function(fieldModel){var value='';if("html"===fieldModel.get('type')){value=fieldModel.get('value');}else{value=fieldModel.get('default');}
var spans=value.match(new RegExp(/<span data-key="calc:(.*?)<\/span>/g));_.each(spans,function(spanVar){var tmpCalcTag="{"+spanVar.replace("<span"+" data-key=\"","").replace(/">(.*?)<\/span>/,"")+"}";value=value.replace(spanVar,tmpCalcTag);});var calcs=value.match(new RegExp(/{calc:(.*?)}/g));_.each(calcs,function(calc){var name=calc.replace('}','').replace('{calc:','').replace(':2','');var calcModel=that.calcs[fieldModel.get('formID')].findWhere({name:name});var re=new RegExp(calc,'g');var calcValue=calcModel.get('value');if('undefined'!=typeof(calcValue)){calcValue=that.applyLocaleFormatting(calcValue,calcModel);}
if("html"===fieldModel.get('type')){value=value.replace(re,"<span data-key=\"calc:"+name+"\">"
+calcValue+"</span>");}else{value=calcValue;}});fieldModel.set('value',value);if(!that.init[calcModel.get('name')]){fieldModel.trigger('reRender');}
that.init[calcModel.get('name')]=false;});}},getCalc:function(name,formID){return this.calcs[formID].findWhere({name:name});},changeCalc:function(calcModel,targetCalcModel){var eqValues=this.replaceAllKeys(calcModel);eqValues=eqValues.replace('[','').replace(']','');eqValues=eqValues.replace(/\r?\n|\r/g,'');try{this.debug('Calculation Decoder '+eqValues+' -> '+this.localeDecodeEquation(eqValues)+' (Change Calc)');calcModel.set('value',Number(mexp.eval(this.localeDecodeEquation(eqValues))).toFixed(calcModel.get('dec')));}catch(e){console.log(e);}
if(calcModel.get('value')==='NaN')calcModel.set('value','0');},applyLocaleFormatting:function(number,calcModel){var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);var formattedNumber=localeConverter.numberEncoder(number,calcModel.get('dec'));return formattedNumber;},localeDecodeEquation:function(eq){var result='';var expression='';var pattern=/[0-9.,]/;var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);eq=eq.replace(/\s/g,'');eq=eq.replace(/&nbsp;/g,'');var characters=eq.split('');characters.forEach(function(character){if(pattern.test(character)){expression=expression+character;}else{if(0<expression.length){result=result+localeConverter.numberDecoder(expression);expression='';}
result=result+character;}});if(0<expression.length){result=result+localeConverter.numberDecoder(expression);}
return result;},debug:function(message){if(window.nfCalculationsDebug||false)console.log(message);}});return controller;});define('controllers/dateBackwardsCompat',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel('pikaday-bc'),'init',this.dateBackwardsCompat);},dateBackwardsCompat:function(dateObject,fieldModel){dateObject.pikaday={};dateObject.pikaday._o={};nfRadio.channel('pikaday').trigger('init',dateObject,fieldModel);if(typeof dateObject.pikaday._o.disableDayFn!=='undefined'){dateObject.set('disable',[dateObject.pikaday._o.disableDayFn]);}
if(typeof dateObject.pikaday._o.i18n!=='undefined'||typeof dateObject.pikaday._o.firstDay!=='undefined'){let locale=dateObject.config.locale;if(typeof dateObject.pikaday._o.firstDay!=='undefined'){locale.firstDayOfWeek=dateObject.pikaday._o.firstDay;}
if(typeof dateObject.pikaday._o.i18n!=='undefined'){if(typeof dateObject.pikaday._o.i18n.weekdays!=='undefined'){locale.weekdays.longhand=dateObject.pikaday._o.i18n.weekdays;}
if(typeof dateObject.pikaday._o.i18n.weekdaysShort!=='undefined'){locale.weekdays.shorthand=dateObject.pikaday._o.i18n.weekdaysShort;}
if(typeof dateObject.pikaday._o.i18n.months!=='undefined'){jQuery('.flatpickr-monthDropdown-months > option').each(function(){this.text=dateObject.pikaday._o.i18n.months[this.value];});}}
dateObject.set('locale',locale);}
if(Object.keys(dateObject.pikaday._o).length>0){console.log("%cDeprecated Ninja Forms Pikaday custom code detected.","color: Red; font-size: large");console.log("You are using deprecated Ninja Forms Pikaday custom code. Support for this custom code will be removed in a future version of Ninja Forms. Please contact Ninja Forms support for more details.");}}});return controller;});define('controllers/fieldDate',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('date'),'init:model',this.registerFunctions);this.listenTo(nfRadio.channel('date'),'render:view',this.initDatepicker);},registerFunctions:function(model){model.set('renderHourOptions',this.renderHourOptions);model.set('renderMinuteOptions',this.renderMinuteOptions);model.set('maybeRenderAMPM',this.maybeRenderAMPM);model.set('customClasses',this.customClasses);model.getValue=this.getValue;},renderHourOptions:function(){return this.hours_options;},renderMinuteOptions:function(){return this.minutes_options;},maybeRenderAMPM:function(){if('undefined'==typeof this.hours_24||1==this.hours_24){return;}
return'<div style="float:left;"><select class="ampm extra"><option value="am">AM</option><option value="pm">PM</option></select></div>';},initDatepicker:function(view){view.model.set('el',view.el);var el=jQuery(view.el).find('.nf-element')[0];view.listenTo(nfRadio.channel('form-'+view.model.get('formID')),'before:submit',this.beforeSubmit,view);if('undefined'!=typeof view.model.get('date_mode')&&'time_only'==view.model.get('date_mode')){jQuery(el).hide();return false;}
var dateFormat=view.model.get('date_format');if(''==dateFormat||'default'==dateFormat){dateFormat=this.convertDateFormat(nfi18n.dateFormat);}
var dateSettings={classes:jQuery(el).attr("class"),placeholder:view.model.get('placeholder'),parseDate:function(datestr,format){return moment(datestr,format,true).toDate();},formatDate:function(date,format,locale){return moment(date).format(format);},dateFormat:dateFormat,altFormat:dateFormat,altInput:true,ariaDateFormat:dateFormat,mode:"single",allowInput:true,disableMobile:"true",locale:{months:{shorthand:nfi18n.monthsShort,longhand:nfi18n.months},weekdays:{shorthand:nfi18n.weekdaysShort,longhand:nfi18n.weekdays},firstDayOfWeek:nfi18n.startOfWeek,}};let filteredDatePickerSettings=nfRadio.channel('flatpickr').request('filter:settings',dateSettings,view);if('undefined'!=typeof filteredDatePickerSettings){dateSettings=filteredDatePickerSettings;}
var dateObject=flatpickr(el,dateSettings);if(1==view.model.get('date_default')){dateObject.setDate(moment().format(dateFormat));view.model.set('value',moment().format(dateFormat));}
nfRadio.channel('pikaday-bc').trigger('init',dateObject,view.model,view);nfRadio.channel('flatpickr').trigger('init',dateObject,view.model,view);},beforeSubmit:function(formModel){if('date_only'==this.model.get('date_mode')){return false;}
let hour=jQuery(this.el).find('.hour').val();let minute=jQuery(this.el).find('.minute').val();let ampm=jQuery(this.el).find('.ampm').val();let current_value=this.model.get('value');let date=false;if(_.isObject(current_value)){date=current_value.date;}else{date=current_value;}
let date_value={date:date,hour:hour,minute:minute,ampm:ampm,};this.model.set('value',date_value);},getYearRange:function(fieldModel){var yearRange=10;var yearRangeStart=fieldModel.get('year_range_start');var yearRangeEnd=fieldModel.get('year_range_end');if(yearRangeStart&&yearRangeEnd){return[yearRangeStart,yearRangeEnd];}else if(yearRangeStart){yearRangeEnd=yearRangeStart+yearRange;return[yearRangeStart,yearRangeEnd];}else if(yearRangeEnd){yearRangeStart=yearRangeEnd-yearRange;return[yearRangeStart,yearRangeEnd];}
return yearRange;},getMinDate:function(fieldModel){var minDate=null;var yearRangeStart=fieldModel.get('year_range_start');if(yearRangeStart){return new Date(yearRangeStart,0,1);}
return minDate;},getMaxDate:function(fieldModel){var maxDate=null;var yearRangeEnd=fieldModel.get('year_range_end');if(yearRangeEnd){return new Date(yearRangeEnd,11,31);}
return maxDate;},convertDateFormat:function(dateFormat){dateFormat=dateFormat.replace('D','ddd');dateFormat=dateFormat.replace('d','DD');dateFormat=dateFormat.replace('l','dddd');dateFormat=dateFormat.replace('j','D');dateFormat=dateFormat.replace('N','');dateFormat=dateFormat.replace('S','');dateFormat=dateFormat.replace('w','d');dateFormat=dateFormat.replace('z','');dateFormat=dateFormat.replace('W','W');dateFormat=dateFormat.replace('M','MMM');dateFormat=dateFormat.replace('F','MMMM');dateFormat=dateFormat.replace('m','MM');dateFormat=dateFormat.replace('n','M');dateFormat=dateFormat.replace('t','');dateFormat=dateFormat.replace('L','');dateFormat=dateFormat.replace('o','YYYY');dateFormat=dateFormat.replace('Y','YYYY');dateFormat=dateFormat.replace('y','YY');dateFormat=dateFormat.replace('a','');dateFormat=dateFormat.replace('A','');dateFormat=dateFormat.replace('B','');dateFormat=dateFormat.replace('g','');dateFormat=dateFormat.replace('G','');dateFormat=dateFormat.replace('h','');dateFormat=dateFormat.replace('H','');dateFormat=dateFormat.replace('i','');dateFormat=dateFormat.replace('s','');dateFormat=dateFormat.replace('u','');dateFormat=dateFormat.replace('v','');dateFormat=dateFormat.replace('e','');dateFormat=dateFormat.replace('I','');dateFormat=dateFormat.replace('O','');dateFormat=dateFormat.replace('P','');dateFormat=dateFormat.replace('T','');dateFormat=dateFormat.replace('Z','');dateFormat=dateFormat.replace('c','');dateFormat=dateFormat.replace('r','');dateFormat=dateFormat.replace('u','');return dateFormat;},customClasses:function(classes){if('date_and_time'==this.date_mode){classes+=' date-and-time';}
return classes;},getValue:function(){if('date_only'==this.get('date_mode')){return this.get('value');}
let el=this.get('el');let hour=jQuery(el).find('.hour').val();let minute=jQuery(el).find('.minute').val();let ampm=jQuery(el).find('.ampm').val();let current_value=this.get('value');let date=false;if(_.isObject(current_value)){date=current_value.date;}else{date=current_value;}
let value='';if('undefined'!=typeof date){value+=date;}
if('undefined'!=typeof hour&&'undefined'!=typeof minute){value+=' '+hour+':'+minute;}
if('undefined'!=typeof ampm){value+=' '+ampm;}
return value;}});return controller;});define('controllers/fieldRecaptcha',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('recaptcha'),'init:model',this.initRecaptcha);this.listenTo(nfRadio.channel('forms'),'submit:response',this.resetRecaptcha);},initRecaptcha:function(model){nfRadio.channel('recaptcha').reply('update:response',this.updateResponse,this,model.id);},updateResponse:function(response,fieldID){var model=nfRadio.channel('fields').request('get:field',fieldID);model.set('value',response);nfRadio.channel('fields').request('remove:error',model.get('id'),'required-error');},resetRecaptcha:function(){var recaptchaID=0;jQuery('.g-recaptcha').each(function(){try{grecaptcha.reset(recaptchaID);}catch(e){console.log('Notice: Error trying to reset grecaptcha.');}
recaptchaID++;});}});return controller;});define('controllers/fieldRecaptchaV3',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('recaptcha_v3'),'init:model',this.initRecaptcha);},initRecaptcha:function(model){let formID=model.get('formID');nfRadio.channel('form-'+formID).trigger('disable:submit',model);grecaptcha.ready(function(){grecaptcha.execute(model.get('site_key'),{action:'register'}).then(function(token){model.set('value',token);nfRadio.channel('form-'+formID).trigger('enable:submit',model);});});},});return controller;});define('controllers/fieldHTML',[],function(){var controller=Marionette.Object.extend({htmlFields:[],trackedMergeTags:[],initialize:function(){this.listenTo(Backbone.Radio.channel('fields-html'),'init:model',this.setupFieldMergeTagTracking);},setupFieldMergeTagTracking:function(fieldModel){this.htmlFields.push(fieldModel);var formID=fieldModel.get('formID');this.listenTo(nfRadio.channel('form-'+formID),'init:model',function(formModel){var mergeTags=fieldModel.get('default').match(new RegExp(/{field:(.*?)}/g));if(!mergeTags)return;_.each(mergeTags,function(mergeTag){var fieldKey=mergeTag.replace('{field:','').replace('}','');var fieldModel=formModel.get('fields').findWhere({key:fieldKey});if('undefined'==typeof fieldModel)return;this.trackedMergeTags.push(fieldModel);this.listenTo(nfRadio.channel('field-'+fieldModel.get('id')),'change:modelValue',this.updateFieldMergeTags);},this);this.updateFieldMergeTags();},this);},updateFieldMergeTags:function(fieldModel){_.each(this.htmlFields,function(htmlFieldModel){var value=htmlFieldModel.get('value');_.each(this.trackedMergeTags,function(fieldModel){var spans=value.match(new RegExp(/<span data-key="field:(.*?)<\/span>/g));_.each(spans,function(spanVar){if(-1<spanVar.indexOf("data-key=\"field:"+fieldModel.get('key'))){value=value.replace(spanVar,"{field:"+fieldModel.get('key')+"}");}});var mergeTag='{field:'+fieldModel.get('key')+'}';value=value.replace(mergeTag,"<span data-key=\"field:"
+fieldModel.get('key')+"\">"
+fieldModel.getValue()+"</span>");},this);htmlFieldModel.set('value',value);htmlFieldModel.trigger('reRender');},this);}});return controller;});define('controllers/helpText',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('form'),'render:view',this.initHelpText);nfRadio.channel('form').reply('init:help',this.initHelpText);},initHelpText:function(view){jQuery(view.el).find('.nf-help').each(function(){var jBox=jQuery(this).jBox('Tooltip',{theme:'TooltipBorder',content:jQuery(this).data('text')});});}});return controller;});define('controllers/fieldTextbox',[],function(){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('textbox').reply('get:calcValue',this.getCalcValue,this);},getCalcValue:function(fieldModel){if('currency'==fieldModel.get('mask')){var form=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));var currencySymbol=('undefined'!==typeof form)?form.get('currencySymbol'):'';var currencySymbolDecoded=jQuery('<textarea />').html(currencySymbol).text();return fieldModel.get('value').replace(currencySymbolDecoded,'');}
return fieldModel.get('value');},});return controller;});define('controllers/fieldTextareaRTE',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('textarea'),'render:view',this.initTextareaRTEs);this.listenTo(nfRadio.channel('textarea'),'click:extra',this.clickExtra);this.meta_image_frame;this.currentContext={};if('undefined'==typeof jQuery.summernote)return;jQuery.summernote.options.icons={'align':'dashicons dashicons-editor-alignleft','alignCenter':'dashicons dashicons-editor-aligncenter','alignJustify':'dashicons dashicons-editor-justify','alignLeft':'dashicons dashicons-editor-alignleft','alignRight':'dashicons dashicons-editor-alignright','indent':'dashicons dashicons-editor-indent','outdent':'dashicons dashicons-editor-outdent','bold':'dashicons dashicons-editor-bold','caret':'dashicons dashicons-arrow-down','close':'dashicons dashicons-dismiss','code':'dashicons dashicons-editor-code','eraser':'dashicons dashicons-editor-removeformatting','italic':'dashicons dashicons-editor-italic','link':'dashicons dashicons-admin-links','unlink':'dashicons dashicons-editor-unlink','magic':'dashicons dashicons-editor-paragraph','minus':'dashicons dashicons-minus','orderedlist':'dashicons dashicons-editor-ol','redo':'dashicons dashicons-redo','square':'dashicons fa-square','table':'dashicons dashicons-editor-table','underline':'dashicons dashicons-editor-underline','undo':'dashicons dashicons-undo','unorderedlist':'dashicons dashicons-editor-ul',};},initTextareaRTEs:function(view){if(1!=view.model.get('textarea_rte')){return false;}
var that=this;var linkButton=function(context){return that.linkButton(context);}
var mediaButton=function(context){return that.mediaButton(context);}
var toolbar=[['paragraphStyle',['style']],['fontStyle',['bold','italic','underline','clear']],['lists',['ul','ol']],['paragraph',['paragraph']],['customGroup',['linkButton','unlink']],['table',['table']],['actions',['undo','redo']],];if(1==view.model.get('textarea_media')&&0!=userSettings.uid){toolbar.push(['tools',['mediaButton']]);}
jQuery(view.el).find('.nf-element').summernote({toolbar:toolbar,buttons:{linkButton:linkButton,mediaButton:mediaButton},height:150,codemirror:{theme:'monokai',lineNumbers:true},prettifyHtml:true,callbacks:{onChange:function(e){view.model.set('value',jQuery(this).summernote('code'));}}});var linkMenu=jQuery(view.el).find('.link-button').next('.dropdown-menu').find('button');linkMenu.replaceWith(function(){return jQuery('<div/>',{class:jQuery(linkMenu).attr('class'),html:this.innerHTML});});},linkButton:function(context){var that=this;var ui=jQuery.summernote.ui;var linkButton=nfRadio.channel('app').request('get:template','#tmpl-nf-rte-link-button');var linkDropdown=nfRadio.channel('app').request('get:template','#tmpl-nf-rte-link-dropdown');return ui.buttonGroup([ui.button({className:'dropdown-toggle link-button',contents:linkButton({}),tooltip:nfi18n.fieldTextareaRTEInsertLink,click:function(e){that.clickLinkButton(e,context);},data:{toggle:'dropdown'}}),ui.dropdown([ui.buttonGroup({children:[ui.button({contents:linkDropdown({}),tooltip:''}),]})])]).render();},mediaButton:function(context){var that=this;var ui=jQuery.summernote.ui;var mediaButton=nfRadio.channel('app').request('get:template','#tmpl-nf-rte-media-button');return ui.button({className:'dropdown-toggle',contents:mediaButton({}),tooltip:nfi18n.fieldTextareaRTEInsertMedia,click:function(e){that.openMediaManager(e,context);}}).render();},openMediaManager:function(e,context){context.invoke('editor.saveRange');if(this.meta_image_frame){this.meta_image_frame.open();return;}
this.meta_image_frame=wp.media.frames.meta_image_frame=wp.media({title:nfi18n.fieldTextareaRTESelectAFile,button:{text:'insert'}});var that=this;this.meta_image_frame.on('select',function(){var media_attachment=that.meta_image_frame.state().get('selection').first().toJSON();that.insertMedia(media_attachment,context);});this.meta_image_frame.open();},clickLinkButton:function(e,context){var range=context.invoke('editor.createRange');context.invoke('editor.saveRange');var text=range.toString()
this.currentContext=context;jQuery(e.target).closest('.note-customGroup > .note-btn-group').on('hide.bs.dropdown',function(e){return false;});jQuery(e.target).closest('.note-customGroup > .note-btn-group').on('shown.bs.dropdown',function(e){jQuery(e.target).parent().parent().find('.link-text').val(text);jQuery(e.target).parent().parent().find('.link-url').focus();});},clickExtra:function(e){var textEl=jQuery(e.target).parent().find('.link-text');var urlEl=jQuery(e.target).parent().find('.link-url');var isNewWindowEl=jQuery(e.target).parent().find('.link-new-window');this.currentContext.invoke('editor.restoreRange');if(jQuery(e.target).hasClass('insert-link')){var text=textEl.val();var url=urlEl.val();var isNewWindow=(isNewWindowEl.prop('checked'))?true:false;if(0!=text.length&&0!=url.length){this.currentContext.invoke('editor.createLink',{text:text,url:url,isNewWindow:isNewWindow});}}
textEl.val('');urlEl.val('');isNewWindowEl.prop('checked',false);jQuery(e.target).closest('div.note-btn-group.open').removeClass('open');},insertMedia:function(media,context){context.invoke('editor.restoreRange');if('image'==media.type){context.invoke('editor.insertImage',media.url);}else{context.invoke('editor.createLink',{text:media.filename,url:media.url});}}});return controller;});define('controllers/fieldStarRating',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('starrating'),'init:model',this.register);this.listenTo(nfRadio.channel('starrating'),'render:view',this.initRating);},register:function(model){model.set('renderRatings',this.renderRatings);},initRating:function(view){jQuery(view.el).find('.starrating').rating();},renderRatings:function(){var html=document.createElement('span');for(var i=0;i<=this.number_of_stars-1;i++){var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-starrating-star');var num=i+1;var checked='';if(this.value==num){checked='checked';}
var htmlFragment=template({id:this.id,classes:this.classes,num:num,checked:checked,required:this.required});html.appendChild(document.createRange().createContextualFragment(htmlFragment));}
return html.innerHTML;}});return controller;});define('controllers/fieldTerms',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('terms'),'init:model',this.register);},register:function(model){this.listenTo(nfRadio.channel('field-'+model.get('id')),'click:extra',this.clickExtra);this.listenTo(nfRadio.channel('field-'+model.get('id')),'keyup:field',this.keyUpExtra);},clickExtra:function(e,model){var el=jQuery(e.currentTarget);var value=el.parent().find('.extra-value').val();this.addOption(model,value);},keyUpExtra:function(el,model,keyCode){if(13!=keyCode)return;this.addOption(model,el.val());},addOption:function(model,value){if(!value)return;var options=model.get('options');var new_option={label:value,value:value,selected:0,};options.push(new_option);var selected=model.get('value');selected.push(value);model.trigger('reRender');}});return controller;});define('controllers/formContentFilters',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.viewFilters=[];this.loadFilters=[];nfRadio.channel('formContent').reply('add:viewFilter',this.addViewFilter,this);nfRadio.channel('formContent').reply('add:loadFilter',this.addLoadFilter,this);nfRadio.channel('formContent').reply('get:viewFilters',this.getViewFilters,this);nfRadio.channel('formContent').reply('get:loadFilters',this.getLoadFilters,this);nfRadio.channel('fieldContents').reply('add:viewFilter',this.addViewFilter,this);nfRadio.channel('fieldContents').reply('add:loadFilter',this.addLoadFilter,this);nfRadio.channel('fieldContents').reply('get:viewFilters',this.getViewFilters,this);nfRadio.channel('fieldContents').reply('get:loadFilters',this.getLoadFilters,this);},addViewFilter:function(callback,priority){this.viewFilters[priority]=callback;},getViewFilters:function(){return this.viewFilters;},addLoadFilter:function(callback,priority){this.loadFilters[priority]=callback;},getLoadFilters:function(){return this.loadFilters;}});return controller;});define('views/fieldItem',[],function(){var view=Marionette.ItemView.extend({tagName:'div',initialize:function(){this.listenTo(this.model,'reRender',this.render,this);this.listenTo(this.model,'change:addWrapperClass',this.addWrapperClass,this);this.listenTo(this.model,'change:removeWrapperClass',this.removeWrapperClass,this);this.listenTo(this.model,'change:invalid',this.toggleAriaInvalid,this);this.template='#tmpl-nf-field-'+this.model.get('wrap_template');},test:function(model){console.log('firing from trigger 1');},addWrapperClass:function(){var cl=this.model.get('addWrapperClass');if(''!=cl){jQuery(this.el).addClass(cl);this.model.set('addWrapperClass','');}},removeWrapperClass:function(){var cl=this.model.get('removeWrapperClass');if(''!=cl){jQuery(this.el).removeClass(cl);this.model.set('removeWrapperClass','');}},toggleAriaInvalid:function(){var invalid=this.model.get('invalid');jQuery('[aria-invalid]',this.el).attr('aria-invalid',JSON.stringify(invalid));},onRender:function(){this.$el=this.$el.children();this.$el.unwrap();this.setElement(this.$el);if('undefined'!=typeof this.model.get('mask')&&''!=jQuery.trim(this.model.get('mask'))){if('custom'==this.model.get('mask')){var mask=this.model.get('custom_mask');}else{var mask=this.model.get('mask');}
Number.isInteger=Number.isInteger||function(value){return typeof value==="number"&&isFinite(value)&&Math.floor(value)===value;};if(Number.isInteger(mask)){mask=mask.toString();}
if('currency'==mask){var form=nfRadio.channel('app').request('get:form',this.model.get('formID'));var thousands_sep=form.get('thousands_sep');if('&nbsp;'==thousands_sep){thousands_sep=' ';}
var currencySymbol=jQuery('<div/>').html(form.get('currencySymbol')).text();thousands_sep=jQuery('<div/>').html(thousands_sep).text();var decimal_point=jQuery('<div/>').html(form.get('decimal_point')).text();var autoNumericOptions={digitGroupSeparator:thousands_sep,decimalCharacter:decimal_point,currencySymbol:currencySymbol};var autoN_el=jQuery(jQuery(this.el).find('.nf-element')[0]);new AutoNumeric(jQuery(this.el).find('.nf-element')[0],autoNumericOptions);var context=this;autoN_el.on('change',function(e){context.model.set('value',e.target.value);})}else{jQuery(this.el).find('.nf-element').mask(mask);}}
nfRadio.channel(this.model.get('type')).trigger('render:view',this);nfRadio.channel('fields').trigger('render:view',this);},templateHelpers:function(){var that=this;return{renderElement:function(){var tmpl=_.find(this.element_templates,function(tmpl){if(0<jQuery('#tmpl-nf-field-'+tmpl).length){return true;}});var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-'+tmpl);return template(this);},renderLabel:function(){var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-label');return template(this);},renderLabelClasses:function(){var classes='';if('undefined'!=typeof this.customLabelClasses){classes=this.customLabelClasses(classes);}
return classes;},renderPlaceholder:function(){var placeholder=this.placeholder;if('undefined'!=typeof this.customPlaceholder){placeholder=this.customPlaceholder(placeholder);}
if(''!=jQuery.trim(placeholder)){return'placeholder="'+placeholder+'"';}else{return'';}},renderWrapClass:function(){var wrapClass='field-wrap '+this.type+'-wrap';if(this.type!==this.parentType){wrapClass=wrapClass+' '+this.parentType+'-wrap';}
if('undefined'!=typeof this.old_classname&&0<jQuery.trim(this.old_classname).length){wrapClass+=' '+this.old_classname+'-wrap';}
if('undefined'!=typeof customWrapClass){wrapClass=customWrapClass(wrapClass);}
return wrapClass;},renderClasses:function(){var classes=this.classes;if(this.error){classes+=' nf-error';}else{classes=classes.replace('nf-error','');}
if('undefined'!=typeof this.element_class&&0<jQuery.trim(this.element_class).length){classes+=' '+this.element_class;}
if('undefined'!=typeof this.customClasses){classes=this.customClasses(classes);}
return classes;},maybeDisabled:function(){if(1==this.disable_input){return'disabled';}else{return'';}},maybeRequired:function(){if(1==this.required){return'required';}else{return'';}},maybeDisableAutocomplete:function(){if(1==this.disable_browser_autocomplete){return'autocomplete="off"';}else{return'';}},maybeInputLimit:function(){if('characters'==this.input_limit_type&&''!=jQuery.trim(this.input_limit)){return'maxlength="'+this.input_limit+'"';}else{return'';}},getHelpText:function(){return('undefined'!=typeof this.help_text)?this.help_text:'';},maybeRenderHelp:function(){var check_text_par=document.createElement('p');check_text_par.innerHTML=this.help_text;var shouldRenderHelpText=false;if(0!=jQuery.trim(jQuery(check_text_par).text()).length||0<jQuery(check_text_par).find('img').length){shouldRenderHelpText=true;}
if('undefined'!=typeof this.help_text&&shouldRenderHelpText){var icon=document.createElement('span');icon.classList.add('fa','fa-info-circle','nf-help');icon.setAttribute('data-text',this.getHelpText());return icon.outerHTML;}else{return'';}},renderDescText:function(){if('undefined'==typeof this.desc_text){return'';}
var text=document.createElement('p');text.innerHTML=this.desc_text;if(0==jQuery.trim(text.innerText).length)return'';var check,checkText;checkText=document.createTextNode(this.desc_text);check=document.createElement('p');check.appendChild(checkText);if(0!=jQuery.trim(jQuery(check).text()).length){var descriptionText,fieldDescription;descriptionText=document.createRange().createContextualFragment(this.desc_text);fieldDescription=document.createElement('div');fieldDescription.classList.add('nf-field-description');fieldDescription.appendChild(descriptionText);return fieldDescription.outerHTML;}else{return'';}},renderNumberDefault:function(){if(this.clean){if(this.default){return this.default;}
else if(!this.placeholder){return this.value;}
else{return'';}}
else{return this.value;}},renderCurrencyFormatting:function(number){var replacedDecimal=number.toString().replace('.','||');var replacedThousands=replacedDecimal.replace(/\B(?=(\d{3})+(?!\d))/g,nfi18n.thousands_sep);var formattedNumber=replacedThousands.replace('||',nfi18n.decimal_point);var form=nfRadio.channel('app').request('get:form',that.model.get('formID'));var currency_symbol=form.get('settings').currency_symbol;return currency_symbol+formattedNumber;},maybeRenderTime:function(){if('time_only'==this.date_mode||'date_and_time'==this.date_mode){return true;}
return false;},};},events:{'change .nf-element':'fieldChange','keyup .nf-element':'fieldKeyup','click .nf-element':'fieldClick','click .extra':'extraClick','change .extra':'extraChange','blur .nf-element':'fieldBlur'},fieldChange:function(e){var el=jQuery(e.currentTarget);var response=nfRadio.channel('nfAdmin').request('change:field',el,this.model);},fieldKeyup:function(e){var el=jQuery(e.currentTarget);var keyCode=e.keyCode;nfRadio.channel('field-'+this.model.get('id')).trigger('keyup:field',el,this.model,keyCode);nfRadio.channel(this.model.get('type')).trigger('keyup:field',el,this.model,keyCode);nfRadio.channel('fields').trigger('keyup:field',el,this.model,keyCode);},fieldClick:function(e){var el=jQuery(e.currentTarget);nfRadio.channel('field-'+this.model.get('id')).trigger('click:field',el,this.model);nfRadio.channel(this.model.get('type')).trigger('click:field',el,this.model);nfRadio.channel('fields').trigger('click:field',el,this.model);},extraClick:function(e){nfRadio.channel('field-'+this.model.get('id')).trigger('click:extra',e,this.model);nfRadio.channel(this.model.get('type')).trigger('click:extra',e,this.model);nfRadio.channel('fields').trigger('click:extra',e,this.model);},extraChange:function(e){nfRadio.channel('field-'+this.model.get('id')).trigger('change:extra',e,this.model);nfRadio.channel(this.model.get('type')).trigger('change:extra',e,this.model);nfRadio.channel('fields').trigger('change:extra',e,this.model);},fieldBlur:function(e){var el=jQuery(e.currentTarget);nfRadio.channel('field-'+this.model.get('id')).trigger('blur:field',el,this.model);nfRadio.channel(this.model.get('type')).trigger('blur:field',el,this.model);nfRadio.channel('fields').trigger('blur:field',el,this.model);},onAttach:function(){nfRadio.channel(this.model.get('type')).trigger('attach:view',this);}});return view;});define('views/beforeField',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-before'});return view;});define('views/fieldErrorItem',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-error',onRender:function(){this.$el=this.$el.children();this.$el.unwrap();this.setElement(this.$el);},});return view;});define('views/fieldErrorCollection',['views/fieldErrorItem'],function(fieldErrorItem){var view=Marionette.CollectionView.extend({tagName:"nf-errors",childView:fieldErrorItem,initialize:function(options){this.fieldModel=options.fieldModel;},onRender:function(){if(0==this.fieldModel.get('errors').models.length){this.fieldModel.removeWrapperClass('nf-error');this.fieldModel.removeWrapperClass('nf-fail');this.fieldModel.addWrapperClass('nf-pass');this.fieldModel.setInvalid(false);}else{this.fieldModel.removeWrapperClass('nf-pass');this.fieldModel.addWrapperClass('nf-fail');this.fieldModel.addWrapperClass('nf-error');this.fieldModel.setInvalid(true);}}});return view;});define('views/inputLimit',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-input-limit',initialize:function(){this.listenTo(nfRadio.channel('field-'+this.model.get('id')),'keyup:field',this.updateCount);this.count=this.model.get('input_limit');this.render();},updateCount:function(el,model){var value=jQuery(el).val();var regex=/\s+/gi;var words=value.trim().replace(regex,' ').split(' ');var wordCount=words.length;var charCount=value.length;if('characters'==this.model.get('input_limit_type')||'char'==this.model.get('input_limit_type')){jQuery(el).attr('maxlength',this.model.get('input_limit'));this.count=this.model.get('input_limit')-charCount;}else{this.count=this.model.get('input_limit')-wordCount;var limit=this.model.get('input_limit');if(wordCount>limit){jQuery(el).val(words.slice(0,limit).join(' '));}}
this.render();},templateHelpers:function(){var that=this;return{currentCount:function(){return that.count;}}}});return view;});define('views/afterField',['views/fieldErrorCollection','views/inputLimit'],function(fieldErrorCollection,InputLimitView){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-after',initialize:function(){this.model.on('change:errors',this.changeError,this);},onRender:function(){var errorEl=jQuery(this.el).children('.nf-error-wrap');this.errorCollectionView=new fieldErrorCollection({el:errorEl,collection:this.model.get('errors'),fieldModel:this.model});if(0<this.model.get('errors').length){this.errorCollectionView.render();}
if('undefined'!=typeof this.model.get('input_limit')&&''!=jQuery.trim(this.model.get('input_limit'))){var inputLimitEl=jQuery(this.el).children('.nf-input-limit');this.inputLimitView=new InputLimitView({el:inputLimitEl,model:this.model});}},changeError:function(){this.errorCollectionView.render();},});return view;});define('views/fieldRepeaterFieldLayout',['views/fieldItem','views/beforeField','views/afterField'],function(fieldItem,beforeField,afterField){var view=Marionette.LayoutView.extend({tagName:'nf-field',regions:{beforeField:'.nf-before-field',field:'.nf-field',afterField:'.nf-after-field',},initialize:function(){this.listenTo(this.model,'change:visible',this.render,this);},getTemplate:function(){if(this.model.get('visible')){return'#tmpl-nf-field-layout';}else{return'#tmpl-nf-empty';}},onRender:function(){if(this.model.get('visible')){this.beforeField.show(new beforeField({model:this.model}));this.field.show(new fieldItem({model:this.model}));this.afterField.show(new afterField({model:this.model}));}},templateHelpers:function(){return{renderContainerClass:function(){var containerClass=' label-'+this.label_pos+' ';if('undefined'!=typeof this.desc_pos){containerClass+='desc-'+this.desc_pos+' ';}
if('undefined'!=typeof this.container_class&&0<jQuery.trim(this.container_class).length){containerClass+=this.container_class+' ';}
if(this.type!==this.parentType){containerClass+=' '+this.parentType+'-container';}
return containerClass;}}}});return view;});define('views/fieldRepeaterFieldCollection',['views/fieldRepeaterFieldLayout'],function(fieldLayout){var view=Marionette.CollectionView.extend({tagName:'nf-fields-wrap',childView:fieldLayout,});return view;});define('views/fieldRepeaterSetLayout',['views/fieldRepeaterFieldCollection'],function(fieldCollection){var view=Marionette.LayoutView.extend({tagName:'fieldset',template:'#tmpl-nf-field-repeater-set',regions:{fields:'.nf-repeater-fieldset',},onRender:function(){this.fields.show(new fieldCollection({collection:this.model.get('fields')}));},events:{'click .nf-remove-fieldset':'removeSet',},removeSet:function(){nfRadio.channel("field-repeater").trigger('remove:fieldset',this.model)}});return view;});define('views/fieldRepeaterSetCollection',['views/fieldRepeaterSetLayout'],function(repeaterSetLayout){var view=Marionette.CollectionView.extend({tagName:'div',childView:repeaterSetLayout,});return view;});define('views/fieldRepeaterLayout',['views/fieldRepeaterSetCollection'],function(repeaterSetCollection){var view=Marionette.LayoutView.extend({tagName:'div',template:'#tmpl-nf-field-repeater',regions:{sets:'.nf-repeater-fieldsets',},initialize:function(){this.collection=this.model.get('sets');nfRadio.channel('field-repeater').on('rerender:fieldsets',this.render,this);this.listenTo(nfRadio.channel('form-'+this.model.get('formID')),'before:submit',this.beforeSubmit);},onRender:function(){this.sets.show(new repeaterSetCollection({collection:this.collection}));},events:{'click .nf-add-fieldset':'addSet'},addSet:function(e){nfRadio.channel('field-repeater').trigger('add:fieldset',e);},beforeSubmit:function(){this.collection.beforeSubmit(this.model.get('sets'));}});return view;});define('views/fieldLayout',['views/fieldItem','views/beforeField','views/afterField','views/fieldRepeaterLayout'],function(fieldItem,beforeField,afterField,repeaterFieldLayout){var view=Marionette.LayoutView.extend({tagName:'nf-field',regions:{beforeField:'.nf-before-field',field:'.nf-field',afterField:'.nf-after-field',},initialize:function(){this.listenTo(this.model,'change:visible',this.render,this);},getTemplate:function(){if(this.model.get('visible')){return'#tmpl-nf-field-layout';}else{return'#tmpl-nf-empty';}},onRender:function(){if(this.model.get('visible')){this.beforeField.show(new beforeField({model:this.model}));if('repeater'==this.model.get('type')){this.field.show(new repeaterFieldLayout({model:this.model}));}else{this.field.show(new fieldItem({model:this.model}));}
this.afterField.show(new afterField({model:this.model}));}},templateHelpers:function(){return{renderContainerClass:function(){var containerClass=' label-'+this.label_pos+' ';if('undefined'!=typeof this.desc_pos){containerClass+='desc-'+this.desc_pos+' ';}
if('undefined'!=typeof this.container_class&&0<jQuery.trim(this.container_class).length){containerClass+=this.container_class+' ';}
if(this.type!==this.parentType){containerClass+=' '+this.parentType+'-container';}
return containerClass;}}}});return view;});define('controllers/loadViews',['views/fieldItem','views/fieldLayout'],function(fieldItemView,fieldLayoutView){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('views').reply('get:fieldItem',this.getFieldItem);nfRadio.channel('views').reply('get:fieldLayout',this.getFieldLayout);},getFieldItem:function(model){return fieldItemView;},getFieldLayout:function(){return fieldLayoutView;}});return controller;});define('controllers/formErrors',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'add:error',this.addError);this.listenTo(nfRadio.channel('fields'),'remove:error',this.removeError);nfRadio.channel('form').reply('get:errors',this.getFormErrors);},addError:function(fieldModel,errorID,errorMsg){var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));if('undefined'==typeof formModel.get('fieldErrors')[fieldModel.get('id')]){formModel.get('fieldErrors')[fieldModel.get('id')]={};}
formModel.get('fieldErrors')[fieldModel.get('id')][errorID]=errorMsg;nfRadio.channel('form-'+fieldModel.get('formID')).request('add:error','field-errors',formModel.get('settings').formErrorsCorrectErrors);},removeError:function(fieldModel,errorID){var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));formModel.get('fieldErrors')[fieldModel.get('id')]=_.omit(formModel.get('fieldErrors')[fieldModel.get('id')],errorID);if(0==_.size(formModel.get('fieldErrors')[fieldModel.get('id')])){delete formModel.get('fieldErrors')[fieldModel.get('id')];}
if(0==_.size(formModel.get('fieldErrors'))){nfRadio.channel('form-'+fieldModel.get('formID')).request('remove:error','field-errors');}},getFormErrors:function(formID){var formModel=nfRadio.channel('app').request('get:form',formID);var errors=false;if(formModel){if(0!==formModel.get('errors').length){_.each(formModel.get('errors').models,function(error){errors=errors||{};errors[error.get('id')]=error.get('msg');});}}
return errors;}});return controller;});define('controllers/submit',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'init:model',this.registerSubmitHandler);},registerSubmitHandler:function(formModel){nfRadio.channel('form-'+formModel.get('id')).reply('submit',this.submit);},submit:function(formModel){nfRadio.channel('forms').trigger('before:submit',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('before:submit',formModel);var validate=nfRadio.channel('forms').request('maybe:validate',formModel);if(false!==validate){_.each(formModel.get('fields').models,function(fieldModel){fieldModel.set('clean',false);});formModel.get('formContentData').validateFields();}
var submit=nfRadio.channel('form-'+formModel.get('id')).request('maybe:submit',formModel);if(false==submit){nfRadio.channel('forms').trigger('submit:cancel',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('submit:cancel',formModel);return;}
if(false!==validate){var blockingFormErrors=_.filter(formModel.get('errors').models,function(error){if('invalid_email'==error.get('id')||'email_not_sent'==error.get('id'))return false;return true;});if(0!=_.size(blockingFormErrors)){nfRadio.channel('forms').trigger('submit:failed',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('submit:failed',formModel);return false;}}
nfRadio.channel('forms').trigger('after:submitValidation',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('after:submitValidation',formModel);var formID=formModel.get('id');var fields={};_.each(formModel.get('fields').models,function(field){var fieldDataDefaults={value:field.get('value'),id:field.get('id')};fields[field.get('id')]=nfRadio.channel(field.get('type')).request('get:submitData',fieldDataDefaults,field)||fieldDataDefaults;;});var extra=formModel.get('extra');var settings=formModel.get('settings');delete settings.formContentData;var formData=JSON.stringify({id:formID,fields:fields,settings:settings,extra:extra});var data={'action':'nf_ajax_submit','security':nfFrontEnd.ajaxNonce,'nonce_ts':nfFrontEnd.nonce_ts,'formData':formData}
var that=this;jQuery.ajax({url:nfFrontEnd.adminAjax,type:'POST',data:data,cache:false,success:function(data,textStatus,jqXHR){try{var response=data;nfRadio.channel('forms').trigger('submit:response',response,textStatus,jqXHR,formModel.get('id'));nfRadio.channel('form-'+formModel.get('id')).trigger('submit:response',response,textStatus,jqXHR);jQuery(document).trigger('nfFormSubmitResponse',{response:response,id:formModel.get('id')});}catch(e){console.log(e);console.log('Parse Error');console.log(e);}},error:function(jqXHR,textStatus,errorThrown){console.log('ERRORS: '+errorThrown);console.log(jqXHR);try{var response=jQuery.parseJSON(jqXHR.responseText);nfRadio.channel('forms').trigger('submit:response',response,textStatus,jqXHR,formModel.get('id'));nfRadio.channel('form-'+formModel.get('id')).trigger('submit:response',response,textStatus,jqXHR);}catch(e){console.log('Parse Error');}
nfRadio.channel('forms').trigger('submit:response','error',textStatus,jqXHR,errorThrown);}});}});return controller;});define('views/fieldCollection',['views/fieldLayout'],function(fieldLayout){var view=Marionette.CollectionView.extend({tagName:'nf-fields-wrap',childView:fieldLayout});return view;});define('controllers/defaultFilters',['views/fieldCollection','models/fieldCollection'],function(FieldCollectionView,FieldCollection){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('form'),'before:filterData',this.registerDefaultDataFilter);},registerDefaultDataFilter:function(formModel){nfRadio.channel('formContent').request('add:loadFilter',this.defaultFormContentLoad,10,this);nfRadio.channel('formContent').request('add:viewFilter',this.defaultFormContentView,10,this);},defaultFormContentLoad:function(formContentData,formModel,context){var fieldCollection=formModel.get('fields');var formContentLoadFilters=nfRadio.channel('formContent').request('get:loadFilters');var sortedArray=_.without(formContentLoadFilters,undefined);if(1==sortedArray.length||'undefined'==typeof formContentData||true===formContentData instanceof Backbone.Collection)return formModel.get('fields');var fieldModels=_.map(formContentData,function(key){return formModel.get('fields').findWhere({key:key});},this);var currentFieldCollection=new FieldCollection(fieldModels);fieldCollection.on('reset',function(collection){var resetFields=[];currentFieldCollection.each(function(fieldModel){if('submit'!=fieldModel.get('type')){resetFields.push(collection.findWhere({key:fieldModel.get('key')}));}else{resetFields.push(fieldModel);}});currentFieldCollection.options={formModel:formModel};currentFieldCollection.reset(resetFields);});return currentFieldCollection;},defaultFormContentView:function(){return FieldCollectionView;}});return controller;});define('controllers/uniqueFieldError',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'change:modelValue',this.removeError);this.listenTo(nfRadio.channel('fields'),'keyup:field',this.removeError);this.listenTo(nfRadio.channel('fields'),'blur:field',this.removeError);},removeError:function(el,model){model=model||el;nfRadio.channel('fields').request('remove:error',model.get('id'),'unique_field');},});return controller;});define('models/fieldRepeaterSetModel',[],function(){var model=Backbone.Model.extend({initialize:function(fieldsets,options){this.repeaterFieldModel=options.repeaterFieldModel;this.set('label',this.repeaterFieldModel.get('label'));nfRadio.channel("field-repeater").reply('reset:repeaterFieldsets',this.resetRepeaterFieldsets,this);nfRadio.channel("field-repeater").reply('get:repeaterFieldsets',this.getRepeaterFieldsets,this);nfRadio.channel("field-repeater").reply('get:repeaterFields',this.getRepeaterFields,this);nfRadio.channel("field-repeater").reply('get:repeaterFieldById',this.getRepeaterFieldById,this);},resetRepeaterFieldsets:function(models){this.collection={};this.collection.models=models;},getRepeaterFieldsets:function(){return this.collection.models;},getRepeaterFields:function(){let fieldsets=this.getRepeaterFieldsets();if(fieldsets.length<=0)return;let fields=[];_.each(fieldsets,function(fieldset){const inFields=fieldset.get('fields');_.each(inFields.models,function(field){fields.push(field);});});return fields;},getRepeaterFieldById:function(id){let fields=this.getRepeaterFields();if(fields.length<=0)return;let model;_.each(fields,function(field){if(field.id===id){model=field;}});return model;}});return model;});define('models/fieldRepeaterSetCollection',['models/fieldRepeaterSetModel','models/fieldCollection'],function(repeaterSetModel,fieldCollection){var collection=Backbone.Collection.extend({model:repeaterSetModel,initialize:function(models,options){this.options=options;nfRadio.channel("field-repeater").on('sort:fieldsets',this.sortIDs,this);nfRadio.channel("field-repeater").on('remove:fieldset',this.removeSet,this);nfRadio.channel("field-repeater").on('add:fieldset',this.addSet,this);},addSet:function(e){const repeaterFieldID=jQuery(e.target).prev(".nf-repeater").data("field-id");const repeaterFieldModel=this.options.repeaterFieldModel.id===repeaterFieldID?this.options.repeaterFieldModel:undefined;if(repeaterFieldModel!==undefined){let fields=new fieldCollection(this.options.templateFields,{formModel:this.options.formModel,repeaterFieldModel:repeaterFieldModel});this.add({fields:fields},{repeaterFieldModel:repeaterFieldModel});this.sortIDs();}},removeSet:function(fieldset){this.remove(fieldset);this.sortIDs();},sortIDs:function(){nfRadio.channel("field-repeater").request('reset:repeaterFieldsets',this.models);_.each(this.models,function(fieldset,modelIndex){let fields=fieldset.get('fields');fieldset.set('index',modelIndex+1);_.each(fields.models,function(field){cutEl=String(field.id).split('_')[0];field.set("id",cutEl+"_"+modelIndex);});});nfRadio.channel('field-repeater').trigger('rerender:fieldsets');},beforeSubmit:function(sets){let fieldsetCollection=sets.models;if(fieldsetCollection.length>0){let repeaterFieldValue={};_.each(fieldsetCollection,function(fieldset){let fields=fieldset.get('fields');_.each(fields.models,function(field){let value=field.get('value');let id=field.get('id');repeaterFieldValue[id]={"value":value,"id":id}});});nfRadio.channel('nfAdmin').request('update:field',this.options.repeaterFieldModel,repeaterFieldValue);}},});return collection;});define('controllers/fieldRepeater',['models/fieldRepeaterSetCollection','models/fieldCollection'],function(repeaterSetCollection,fieldCollection){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('repeater'),'init:model',this.initRepeater);},initRepeater:function(model){if('undefined'==typeof model.collection.options.formModel){return false;}
let fields=new fieldCollection(model.get('fields'),{formModel:model.collection.options.formModel});model.set('sets',new repeaterSetCollection([{fields:fields}],{templateFields:model.get('fields'),formModel:model.collection.options.formModel,repeaterFieldModel:model}));},});return controller;});define('controllers/loadControllers',['controllers/formData','controllers/fieldError','controllers/changeField','controllers/changeEmail','controllers/changeDate','controllers/fieldCheckbox','controllers/fieldCheckboxList','controllers/fieldImageList','controllers/fieldRadio','controllers/fieldNumber','controllers/mirrorField','controllers/confirmField','controllers/updateFieldModel','controllers/submitButton','controllers/submitDebug','controllers/getFormErrors','controllers/validateRequired','controllers/submitError','controllers/actionRedirect','controllers/actionSuccess','controllers/fieldSelect','controllers/coreSubmitResponse','controllers/fieldProduct','controllers/fieldTotal','controllers/fieldQuantity','controllers/calculations','controllers/dateBackwardsCompat','controllers/fieldDate','controllers/fieldRecaptcha','controllers/fieldRecaptchaV3','controllers/fieldHTML','controllers/helpText','controllers/fieldTextbox','controllers/fieldTextareaRTE','controllers/fieldStarRating','controllers/fieldTerms','controllers/formContentFilters','controllers/loadViews','controllers/formErrors','controllers/submit','controllers/defaultFilters','controllers/uniqueFieldError','controllers/fieldRepeater',],function(FormData,FieldError,ChangeField,ChangeEmail,ChangeDate,FieldCheckbox,FieldCheckboxList,FieldImageList,FieldRadio,FieldNumber,MirrorField,ConfirmField,UpdateFieldModel,SubmitButton,SubmitDebug,GetFormErrors,ValidateRequired,SubmitError,ActionRedirect,ActionSuccess,FieldSelect,CoreSubmitResponse,FieldProduct,FieldTotal,FieldQuantity,Calculations,DateBackwardsCompat,FieldDate,FieldRecaptcha,FieldRecaptchaV3,FieldHTML,HelpText,FieldTextbox,FieldTextareaRTE,FieldStarRating,FieldTerms,FormContentFilters,LoadViews,FormErrors,Submit,DefaultFilters,UniqueFieldError,FieldRepeater){var controller=Marionette.Object.extend({initialize:function(){new LoadViews();new FormErrors();new Submit();new FieldCheckbox();new FieldCheckboxList();new FieldImageList();new FieldRadio();new FieldNumber();new FieldSelect();new FieldProduct();new FieldTotal();new FieldQuantity();new FieldRecaptcha();new FieldRecaptchaV3();new FieldHTML();new HelpText();new FieldTextbox();new FieldTextareaRTE();new FieldStarRating();new FieldTerms();new FormContentFilters();new UniqueFieldError();new FieldRepeater();new FieldError();new ChangeField();new ChangeEmail();new ChangeDate();new MirrorField();new ConfirmField();new UpdateFieldModel();new SubmitButton();new SubmitDebug();new GetFormErrors();new ValidateRequired();new SubmitError();new ActionRedirect();new ActionSuccess();new CoreSubmitResponse();new Calculations();new DefaultFilters();new DateBackwardsCompat();new FieldDate();new FormData();}});return controller;});define('views/beforeForm',[],function(){var view=Marionette.ItemView.extend({tagName:"nf-section",template:"#tmpl-nf-before-form",});return view;});define('views/formErrorItem',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-form-error',onRender:function(){},});return view;});define('views/formErrorCollection',['views/formErrorItem'],function(formErrorItem){var view=Marionette.CollectionView.extend({tagName:"nf-errors",childView:formErrorItem});return view;});define('views/honeyPot',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-form-hp',events:{'keyup .nf-field-hp':'maybeError','change .nf-field-hp':'maybeError'},maybeError:function(e){if(0==jQuery(e.target).val().length){nfRadio.channel('form-'+this.model.get('id')).request('remove:error','honeyPot');}else{var formModel=nfRadio.channel('app').request('get:form',this.model.get('id'));nfRadio.channel('form-'+this.model.get('id')).request('add:error','honeyPot',formModel.get('settings').honeypotHoneypotError);}}});return view;});define('views/afterFormContent',['views/formErrorCollection','views/honeyPot'],function(FormErrors,HoneyPot){var view=Marionette.LayoutView.extend({tagName:"nf-section",template:"#tmpl-nf-after-fields",regions:{errors:".nf-form-errors",hp:".nf-form-hp"},onShow:function(){this.errors.show(new FormErrors({collection:this.model.get('errors')}));this.hp.show(new HoneyPot({model:this.model}));}});return view;});define('views/beforeFormContent',[],function(){var view=Marionette.ItemView.extend({tagName:"nf-section",template:"#tmpl-nf-before-fields",templateHelpers:function(){return{renderFieldsMarkedRequired:function(){var requiredFields=this.fields.filter({required:1});return(requiredFields.length)?this.fieldsMarkedRequired:'';},};},});return view;});define('views/formLayout',['views/afterFormContent','views/beforeFormContent','models/fieldCollection'],function(AfterFormContent,BeforeFormContent,FieldCollection){var view=Marionette.LayoutView.extend({tagName:"nf-section",template:"#tmpl-nf-form-layout",regions:{beforeFormContent:".nf-before-form-content",formContent:".nf-form-content",afterFormContent:".nf-after-form-content"},initialize:function(){nfRadio.channel('form-'+this.model.get('id')).reply('get:el',this.getEl,this);this.listenTo(this.model,'hide',this.hide);},onRender:function(){this.$el=this.$el.children();this.$el.unwrap();this.setElement(this.$el);},onShow:function(){this.beforeFormContent.show(new BeforeFormContent({model:this.model}));var formContentData=this.model.get('formContentData');var formContentViewFilters=nfRadio.channel('formContent').request('get:viewFilters');var sortedArray=_.without(formContentViewFilters,undefined);var callback=_.first(sortedArray);formContentView=callback();var options={data:formContentData,formModel:this.model};if(false!==formContentData instanceof Backbone.Collection){options.collection=formContentData;}else if(false!==formContentData instanceof Backbone.Model){options.model=formContentData;}
this.formContent.show(new formContentView(options));this.afterFormContent.show(new AfterFormContent({model:this.model}));},getEl:function(){return this.el;},templateHelpers:function(){return{renderClasses:function(){return'';}};},hide:function(){jQuery(this.el).hide();}});return view;});define('views/afterForm',[],function(){var view=Marionette.ItemView.extend({tagName:"nf-section",template:"#tmpl-nf-after-form",});return view;});define('views/mainLayout',['views/beforeForm','views/formLayout','views/afterForm'],function(BeforeForm,FormLayout,AfterForm){var view=Marionette.LayoutView.extend({template:'#tmpl-nf-layout',regions:{responseMsg:'.nf-response-msg',beforeForm:'.nf-before-form',formLayout:'.nf-form-layout',afterForm:'.nf-after-form'},initialize:function(){this.$el=jQuery('#nf-form-'+this.model.id+'-cont');this.el='#nf-form-'+this.model.id+'-cont';this.render();this.beforeForm.show(new BeforeForm({model:this.model}));this.formLayout.show(new FormLayout({model:this.model,fieldCollection:this.options.fieldCollection}));this.afterForm.show(new AfterForm({model:this.model}));this.listenTo(this.model,'hide',this.hide);},hide:function(){jQuery(this.el).find('.nf-form-title').hide();}});return view;});var nfLocaleConverter=function(newLocale,thousands_sep,decimal_sep){if('undefined'!==typeof newLocale&&0<newLocale.length){this.locale=newLocale.split('_').join('-');}else{this.locale='en-US';}
this.thousands_sep=thousands_sep||',';this.decimal_sep=decimal_sep||'.';this.uniqueElememts=function(value,index,self){return self.indexOf(value)===index;}
this.numberDecoder=function(num){num=num.toString();var formatted='';var negative=false;if('-'===num.charAt(0)){negative=true;num=num.replace('-','');}
num=num.replace(/\s/g,'');num=num.replace(/&nbsp;/g,'');var myArr=num.split('');var separators=myArr.filter(function(el){return!el.match(/[0-9]/);});var final_separators=separators.filter(this.uniqueElememts);switch(final_separators.length){case 0:formatted=num;break;case 1:var replacer='';if(1==separators.length){separator=separators.pop();var sides=num.split(separator);var last=sides.pop();if(3==last.length&&separator==this.thousands_sep){replacer='';}else{replacer='.';}}else{separator=final_separators.pop();}
formatted=num.split(separator).join(replacer);break;case 2:var find_one=final_separators[0];var re_one;if('.'===find_one){re_one=new RegExp('[.]','g');}else{re_one=new RegExp(find_one,'g');}
formatted=num.replace(re_one,'');var find_two=final_separators[1];var re_two;if('.'===find_two){re_two=new RegExp('[.]','g');}else{re_two=new RegExp(find_two,'g');}
formatted=formatted.replace(re_two,'.');break;default:return'NaN';}
if(negative){formatted='-'+formatted;}
this.debug('Number Decoder '+num+' -> '+formatted);return formatted;}
this.numberEncoder=function(num,percision){num=this.numberDecoder(num);return Intl.NumberFormat(this.locale,{minimumFractionDigits:percision,maximumFractionDigits:percision}).format(num);}
this.debug=function(message){if(window.nfLocaleConverterDebug||false)console.log(message);}}
define("../nfLocaleConverter",function(){});(function(jQuery){var originalVal=jQuery.fn.val;jQuery.fn.val=function(){var prev;if(arguments.length>0){prev=originalVal.apply(this,[]);}
var result=originalVal.apply(this,arguments);if(arguments.length>0&&prev!=originalVal.apply(this,[])&&jQuery(this).hasClass('nf-element')){jQuery(this).change();}
return result;};})(jQuery);jQuery(document).ready(function($){require(['models/formCollection','models/formModel','models/fieldCollection','controllers/loadControllers','views/mainLayout','../nfLocaleConverter'],function(formCollection,FormModel,FieldCollection,LoadControllers,mainLayout){if('undefined'==typeof nfForms){jQuery('.nf-form-cont').empty();return;}
var NinjaForms=Marionette.Application.extend({forms:{},initialize:function(options){var that=this;Marionette.Renderer.render=function(template,data){var template=that.template(template);return template(data);};this.urlParameters=_.object(_.compact(_.map(location.search.slice(1).split('&'),function(item){if(item)return item.split('=');})));if('undefined'!=typeof this.urlParameters.nf_resume){this.listenTo(nfRadio.channel('form-'+this.urlParameters.nf_resume),'loaded',this.restart);}
nfRadio.channel('app').reply('locale:decodeNumber',this.decodeNumber);nfRadio.channel('app').reply('locale:encodeNumber',this.encodeNumber);var loadControllers=new LoadControllers();nfRadio.channel('app').trigger('after:loadControllers');nfRadio.channel('app').reply('get:template',this.template);},onStart:function(){var formCollection=nfRadio.channel('app').request('get:forms');_.each(formCollection.models,function(form,index){var layoutView=new mainLayout({model:form,fieldCollection:form.get('fields')});nfRadio.channel('form').trigger('render:view',layoutView);jQuery(document).trigger('nfFormReady',layoutView);});},restart:function(formModel){if('undefined'!=typeof this.urlParameters.nf_resume){var data={'action':'nf_ajax_submit','security':nfFrontEnd.ajaxNonce,'nf_resume':this.urlParameters};nfRadio.channel('form-'+formModel.get('id')).trigger('disable:submit');nfRadio.channel('form-'+formModel.get('id')).trigger('processingLabel');this.listenTo(nfRadio.channel('form'),'render:view',function(){jQuery('#nf-form-'+formModel.get('id')+'-cont .nf-field-container:not(.submit-container)').hide();});jQuery.ajax({url:nfFrontEnd.adminAjax,type:'POST',data:data,cache:false,success:function(data,textStatus,jqXHR){try{var response=data;nfRadio.channel('forms').trigger('submit:response',response,textStatus,jqXHR,formModel.get('id'));nfRadio.channel('form-'+formModel.get('id')).trigger('submit:response',response,textStatus,jqXHR);}catch(e){console.log('Parse Error');}},error:function(jqXHR,textStatus,errorThrown){console.log('ERRORS: '+textStatus);nfRadio.channel('forms').trigger('submit:response','error',textStatus,jqXHR,errorThrown);}});}},template:function(template){return _.template($(template).html(),{evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:'data'});},encodeNumber:function(num){var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);return localeConverter.numberEncoder(num);},decodeNumber:function(num){var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);return localeConverter.numberDecoder(num);}});var ninjaForms=new NinjaForms();ninjaForms.start();});});define("main",function(){});}());
var NF_Field_MailPoet_Signup_Controller=Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel('mailpoet-signup'),'init:model',this.registerRenderClasses);Backbone.Radio.channel('mailpoet-signup').reply('validate:required',this.validateRequired);Backbone.Radio.channel('mailpoet-signup').reply('validate:modelData',this.validateModelData);Backbone.Radio.channel('mailpoet-signup').reply('before:updateField',this.beforeUpdateField,this);},beforeUpdateField:function(el,model){var checked=jQuery(el).prop('checked');if(checked){var value=1;jQuery(el).addClass('nf-checked');jQuery(el).closest('.field-wrap').find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}else{var value=0;jQuery(el).removeClass('nf-checked');jQuery(el).closest('.field-wrap').find('label[for="'+jQuery(el).prop('id')+'"]').removeClass('nf-checked-label');}
return value;},validateRequired:function(el,model){return el[0].checked;},validateModelData:function(model){return model.get('value')!=0;},registerRenderClasses:function(model){if('checked'==model.get('default_value')){model.set('value',1);}else{model.set('value',0);}
model.set('customClasses',this.customClasses);model.set('customLabelClasses',this.customLabelClasses);model.set('maybeChecked',this.maybeChecked);},customClasses:function(classes){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){classes+=' nf-checked';}else{classes.replace('nf-checked','');}
return classes;},customLabelClasses:function(classes){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){classes+=' nf-checked-label';}else{classes.replace('nf-checked-label','');}
return classes;},maybeChecked:function(){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){return' checked';}else{return'';}}});jQuery(document).ready(function($){new NF_Field_MailPoet_Signup_Controller();});
!function(o,r){var s="astHookExtSticky",i=r.document,a=(jQuery(r).outerWidth(),jQuery(r).width()),n={dependent:[],max_width:"",site_layout:"",break_point:920,admin_bar_height_lg:32,admin_bar_height_sm:46,admin_bar_height_xs:0,stick_upto_scroll:0,gutter:0,wrap:"<div></div>",body_padding_support:!0,html_padding_support:!0,active_shrink:!1,shrink:{padding_top:"",padding_bottom:""},sticky_on_device:"desktop",header_style:"none",hide_on_scroll:"no"};function e(t,e){this.element=t,this.options=o.extend({},n,e),this._defaults=n,this._name=s,"1"==this.options.hide_on_scroll&&(this.navbarHeight=o(t).outerHeight()),this.lastScrollTop=0,this.delta=5,this.should_stick=!0,this.hideScrollInterval="",this.init()}e.prototype.stick_me=function(t,e){var o=jQuery(t.element),s=jQuery(r).outerWidth(),i=parseInt(t.options.stick_upto_scroll),a=parseInt(o.parent().attr("data-stick-maxwidth")),n=parseInt(o.parent().attr("data-stick-gutter"));"enabled"==(astraAddon.hook_sticky_header||"")&&(!("desktop"==t.options.sticky_on_device&&astraAddon.hook_custom_header_break_point>s)&&!("mobile"==t.options.sticky_on_device&&astraAddon.hook_custom_header_break_point<=s)&&jQuery(r).scrollTop()>i?"none"==t.options.header_style&&("enabled"==t.options.active_shrink&&t.hasShrink(t,"stick"),o.hasClass("ast-custom-header")&&(o.parent().css("min-height",o.outerHeight()),o.addClass("ast-header-sticky-active").stop().css({"max-width":a,top:n,"padding-top":t.options.shrink.padding_top,"padding-bottom":t.options.shrink.padding_bottom}),o.addClass("ast-sticky-shrunk").stop())):t.stickRelease(t)),"enabled"==(astraAddon.hook_sticky_footer||"")&&("desktop"==t.options.sticky_on_device&&astraAddon.hook_custom_footer_break_point>s||"mobile"==t.options.sticky_on_device&&astraAddon.hook_custom_footer_break_point<=s?t.stickRelease(t):(jQuery("body").addClass("ast-footer-sticky-active"),o.parent().css("min-height",o.outerHeight()),o.stop().css({"max-width":a})))},e.prototype.update_attrs=function(){var o,t=this,e=jQuery(t.element),s=parseInt(t.options.gutter),i=t.options.max_width;"none"==t.options.header_style&&(o=e.offset().top||0),"ast-box-layout"!=t.options.site_layout&&(i=jQuery("body").width()),t.options.dependent&&jQuery.each(t.options.dependent,function(t,e){jQuery(e).length&&"on"==jQuery(e).parent().attr("data-stick-support")&&(dependent_height=jQuery(e).outerHeight(),s+=parseInt(dependent_height),o-=parseInt(dependent_height))}),t.options.admin_bar_height_lg&&jQuery("#wpadminbar").length&&782<a&&(s+=parseInt(t.options.admin_bar_height_lg),o-=parseInt(t.options.admin_bar_height_lg)),t.options.admin_bar_height_sm&&jQuery("#wpadminbar").length&&600<=a&&a<=782&&(s+=parseInt(t.options.admin_bar_height_sm),o-=parseInt(t.options.admin_bar_height_sm)),t.options.admin_bar_height_xs&&jQuery("#wpadminbar").length&&(s+=parseInt(t.options.admin_bar_height_xs),o-=parseInt(t.options.admin_bar_height_xs)),t.options.body_padding_support&&(s+=parseInt(jQuery("body").css("padding-top"),10),o-=parseInt(jQuery("body").css("padding-top"),10)),t.options.html_padding_support&&(s+=parseInt(jQuery("html").css("padding-top"),10),o-=parseInt(jQuery("html").css("padding-top"),10)),t.options.stick_upto_scroll=o,"none"==t.options.header_style&&e.parent().css("min-height",e.outerHeight()).attr("data-stick-gutter",parseInt(s)).attr("data-stick-maxwidth",parseInt(i))},e.prototype.hasShrink=function(t,e){o(r).scrollTop()>jQuery(t.element).outerHeight()?jQuery("body").addClass("ast-shrink-custom-header"):jQuery("body").removeClass("ast-shrink-custom-header")},e.prototype.stickRelease=function(t){var e=jQuery(t.element);"enabled"==(astraAddon.hook_sticky_header||"")&&"none"==t.options.header_style&&(e.removeClass("ast-header-sticky-active").stop().css({"max-width":"",top:"",padding:""}),e.parent().css("min-height",""),e.removeClass("ast-sticky-shrunk").stop()),"enabled"==(astraAddon.hook_sticky_footer||"")&&jQuery("body").removeClass("ast-footer-sticky-active")},e.prototype.init=function(){var e,t;jQuery(this.element)&&(e=this,t=jQuery(e.element),parseInt(e.options.gutter),t.position().top,"none"==e.options.header_style&&t.wrap(e.options.wrap).parent().css("min-height",t.outerHeight()).attr("data-stick-support","on").attr("data-stick-maxwidth",parseInt(e.options.max_width)),e.update_attrs(),jQuery(r).on("resize",function(){e.stickRelease(e),e.update_attrs(),e.stick_me(e)}),jQuery(r).on("scroll",function(){e.stick_me(e,"scroll")}),jQuery(i).ready(function(t){e.stick_me(e)}))},o.fn[s]=function(t){return this.each(function(){o.data(this,"plugin_"+s)||o.data(this,"plugin_"+s,new e(this,t))})};var d=jQuery("body").width(),_=astraAddon.site_layout||"",h=astraAddon.hook_sticky_header||"",p=astraAddon.hook_shrink_header||"";sticky_header_on_devices=astraAddon.hook_sticky_header_on_devices||"desktop",site_layout_box_width=astraAddon.site_layout_box_width||1200,hook_sticky_footer=astraAddon.hook_sticky_footer||"",sticky_footer_on_devices=astraAddon.hook_sticky_footer_on_devices||"desktop","ast-box-layout"===_&&(d=parseInt(site_layout_box_width)),jQuery(i).ready(function(t){"enabled"==h&&jQuery(".ast-custom-header").astHookExtSticky({sticky_on_device:sticky_header_on_devices,header_style:"none",site_layout:_,max_width:d,active_shrink:p}),"enabled"==hook_sticky_footer&&jQuery(".ast-custom-footer").astHookExtSticky({sticky_on_device:sticky_footer_on_devices,max_width:d,site_layout:_,header_style:"none"})})}(jQuery,window);!function(r,o){var a="astExtSticky",h=o.document,n=(jQuery(o).outerWidth(),jQuery(o).width()),l=astraAddon.header_builder_active,s={dependent:[],max_width:"",site_layout:"",break_point:920,admin_bar_height_lg:32,admin_bar_height_sm:46,admin_bar_height_xs:0,stick_upto_scroll:0,gutter:0,wrap:"<div></div>",body_padding_support:!0,html_padding_support:!0,shrink:{padding_top:"",padding_bottom:""},sticky_on_device:"desktop",header_style:"none",hide_on_scroll:"no"},i=0;function t(e,t){this.element=e,this.options=r.extend({},s,t),this._defaults=s,this._name=a,"1"==this.options.hide_on_scroll&&(this.navbarHeight=r(e).outerHeight()),this.lastScrollTop=0,this.delta=5,this.should_stick=!0,this.hideScrollInterval="",this.init()}t.prototype.stick_me=function(e,t){var a,s,i,d=jQuery(e.element);jQuery(o).outerWidth();stick_upto_scroll=parseInt(e.options.stick_upto_scroll),max_width=parseInt(d.parent().attr("data-stick-maxwidth")),gutter=parseInt(d.parent().attr("data-stick-gutter")),l&&astraAddon.header_main_shrink&&(d.hasClass("ast-stick-primary-below-wrapper")||d.hasClass("ast-primary-header"))&&1==astraAddon.header_above_stick&&0<gutter&&(gutter-=10),("desktop"!=e.options.sticky_on_device||!jQuery("body").hasClass("ast-header-break-point"))&&("mobile"!=e.options.sticky_on_device||jQuery("body").hasClass("ast-header-break-point"))?(stick_upto_scroll<0&&(stick_upto_scroll=0),jQuery(o).scrollTop()>stick_upto_scroll?(a=d,l&&(s=d.closest(".ast-mobile-header-wrap"),i=d.closest("#ast-desktop-header"),s=0===s.length?d.find(".ast-mobile-header-wrap"):s,i=0===i.length?d.find("#ast-desktop-header"):i,s.find(".ast-mobile-header-content").css("top",d.outerHeight()+gutter),s.find(".ast-mobile-header-content").css("width",max_width),i.find(".ast-desktop-header-content").css("top",d.outerHeight()+gutter),i.find(".ast-desktop-header-content").css("width",max_width)),"1"===e.options.hide_on_scroll?e.hasScrolled(e,"stick"):"none"==e.options.header_style?(d.parent().css("min-height",d.outerHeight()),d.addClass("ast-sticky-active").stop().css({"max-width":max_width,"padding-top":e.options.shrink.padding_top,"padding-bottom":e.options.shrink.padding_bottom,top:gutter}),(d.hasClass("ast-stick-primary-below-wrapper")||d.hasClass("ast-primary-header"))&&1==astraAddon.header_above_stick&&d.closest("#ast-desktop-header").find(".ast-above-header-bar").outerHeight()<70&&(d.addClass("ast-sticky-active").stop().css({top:"unset"}),d.parent().css("min-height","unset")),d.addClass("ast-sticky-shrunk").stop(),r(h).trigger("addStickyClass"),a.addClass("ast-header-sticked")):"slide"==e.options.header_style?(a.css({top:gutter}),a.addClass("ast-header-slide"),a.css("visibility","visible"),a.addClass("ast-sticky-active").stop().css({transform:"translateY(0)"}),r("html").addClass("ast-header-stick-slide-active"),r(h).trigger("addStickyClass"),a.addClass("ast-header-sticked")):"fade"==e.options.header_style&&(a.css({top:gutter}),a.addClass("ast-header-fade"),a.css("visibility","visible"),a.addClass("ast-sticky-active").stop().css({opacity:"1"}),r("html").addClass("ast-header-stick-fade-active"),r(h).trigger("addStickyClass"),a.addClass("ast-header-sticked"))):e.stickRelease(e)):e.stickRelease(e)},t.prototype.update_attrs=function(){var e,a,t=this,s=jQuery(t.element),i=parseInt(t.options.gutter),d=t.options.max_width;"none"!=t.options.header_style||jQuery("body").hasClass("ast-sticky-toggled-off")?r("#masthead").length&&(e=r("#masthead"),a=e.offset().top+e.outerHeight()+100||0):a=s.offset().top||0,"ast-box-layout"!=t.options.site_layout&&(d=jQuery("body").width()),t.options.dependent&&jQuery.each(t.options.dependent,function(e,t){jQuery(t).length&&"on"==jQuery(t).parent().attr("data-stick-support")&&(dependent_height=jQuery(t).outerHeight(),i+=parseInt(dependent_height),a-=parseInt(dependent_height))}),t.options.admin_bar_height_lg&&jQuery("#wpadminbar").length&&782<n&&(i+=parseInt(t.options.admin_bar_height_lg),a-=parseInt(t.options.admin_bar_height_lg)),t.options.admin_bar_height_sm&&jQuery("#wpadminbar").length&&600<=n&&n<=782&&(i+=parseInt(t.options.admin_bar_height_sm),a-=parseInt(t.options.admin_bar_height_sm)),t.options.admin_bar_height_xs&&jQuery("#wpadminbar").length&&(i+=parseInt(t.options.admin_bar_height_xs),a-=parseInt(t.options.admin_bar_height_xs)),t.options.body_padding_support&&(i+=parseInt(jQuery("body").css("padding-top"),10),a-=parseInt(jQuery("body").css("padding-top"),10)),t.options.html_padding_support&&(i+=parseInt(jQuery("html").css("padding-top"),10),a-=parseInt(jQuery("html").css("padding-top"),10)),S&&a--,t.options.stick_upto_scroll=a,"none"==t.options.header_style?s.parent().css("min-height",s.outerHeight()).attr("data-stick-gutter",parseInt(i)).attr("data-stick-maxwidth",parseInt(d)):(s.parent().attr("data-stick-gutter",parseInt(i)).attr("data-stick-maxwidth",parseInt(d)),"ast-padded-layout"===t.options.site_layout&&s.css("max-width",parseInt(d)))},t.prototype.hasScrolled=function(e,t){var a,s=r(o).scrollTop();Math.abs(i-s)<=5||(a=jQuery(e.element),i<s&&0<s?jQuery(e.element).removeClass("ast-nav-down").addClass("ast-nav-up"):s+r(o).height()<r(h).height()&&jQuery(e.element).removeClass("ast-nav-up").addClass("ast-nav-down"),i=s,r(e.element).hasClass("ast-nav-up")||"stick"!=t?(a.css({transform:"translateY(-100%)"}).stop(),setTimeout(function(){a.removeClass("ast-sticky-active")},300),a.css({visibility:"hidden",top:""}),r(h).trigger("removeStickyClass"),r("html").removeClass("ast-header-stick-scroll-active"),a.removeClass("ast-header-sticked")):(a.css({top:gutter}),a.addClass("ast-header-sticked"),a.addClass("ast-header-slide"),a.css("visibility","visible"),a.addClass("ast-sticky-active").stop().css({transform:"translateY(0)"}),r(h).trigger("addStickyClass"),r("html").addClass("ast-header-stick-scroll-active")))},t.prototype.stickRelease=function(e){var t=jQuery(e.element),a=t;"1"===e.options.hide_on_scroll?e.hasScrolled(e,"release"):"none"==e.options.header_style?(t.removeClass("ast-sticky-active").stop().css({"max-width":"",top:"",padding:""}),t.parent().css("min-height",""),r(h).trigger("removeStickyClass"),a.removeClass("ast-header-sticked"),t.removeClass("ast-sticky-shrunk").stop()):"slide"==e.options.header_style?(a.removeClass("ast-sticky-active").stop().css({transform:"translateY(-100%)"}),a.css({visibility:"hidden",top:""}),r("html").removeClass("ast-header-stick-slide-active"),r(h).trigger("removeStickyClass"),a.removeClass("ast-header-sticked")):"fade"==e.options.header_style&&(a.removeClass("ast-sticky-active").stop().css({opacity:"0"}),a.css({visibility:"hidden"}),a.removeClass("ast-header-sticked"),r(h).trigger("removeStickyClass"),r("html").removeClass("ast-header-stick-fade-active"))},t.prototype.init=function(){var t,e;jQuery(this.element)&&(t=this,e=jQuery(t.element),("none"==t.options.header_style?e.wrap(t.options.wrap).parent().css("min-height",e.outerHeight()):e.wrap(t.options.wrap)).attr("data-stick-support","on").attr("data-stick-maxwidth",parseInt(t.options.max_width)),t.update_attrs(),jQuery(o).on("resize",function(){t.stickRelease(t),t.update_attrs(),t.stick_me(t)}),jQuery(o).on("scroll",function(){t.stick_me(t,"scroll"),jQuery("body").hasClass("ast-sticky-toggled-off")&&(t.update_attrs(),t.stick_me(t,"scroll"))}),jQuery(h).ready(function(e){t.stick_me(t)}))},r.fn[a]=function(e){return this.each(function(){r.data(this,"plugin_"+a)||r.data(this,"plugin_"+a,new t(this,e))})};var e,d=jQuery("body"),c=d.width(),p=astraAddon.stick_header_meta||"default",y=astraAddon.header_main_stick||"",_=astraAddon.header_main_shrink||"",m=astraAddon.header_above_stick||"",u=astraAddon.header_below_stick||"",k=astraAddon.header_main_stick_meta||"",g=astraAddon.header_above_stick_meta||"",v=astraAddon.header_below_stick_meta||"",b=astraAddon.site_layout||"",w=astraAddon.site_layout_box_width||1200,j=astraAddon.sticky_header_on_devices||"desktop",Q=astraAddon.sticky_header_style||"none",x=astraAddon.sticky_hide_on_scroll||"",f=astraAddon.header_logo_width||"",C=astraAddon.responsive_header_logo_width||"",S=astraAddon.stick_origin_position||"",I=astraAddon.tablet_break_point||768,A=astraAddon.mobile_break_point||544;"disabled"!=p&&("enabled"===p&&(y=k,m=g,u=v),0<r("header .site-logo-img img").length&&(void 0===(v=(g=r("header .site-logo-img img")).attr("height"))&&(v=g.height()),0==v&&(v=""),-1===v.toString().indexOf("%")&&(v+="px"),""!=C.desktop||""!=C.tablet||""!=C.mobile?e="<style type='text/css' id='ast-site-identity-img' class='ast-site-identity-img' > #masthead .ast-header-sticked .site-logo-img .astra-logo-svg { width: "+C.desktop+"px; } @media (max-width: "+I+"px) { #masthead .ast-header-sticked .site-logo-img .astra-logo-svg { width: "+C.tablet+"px; } } @media (max-width: "+A+"px) { #masthead .ast-header-sticked .site-logo-img .astra-logo-svg{ width: "+C.mobile+"px; } } </style>":""!=f&&(e="<style type='text/css' id='ast-site-identity-img' class='ast-site-identity-img' > #masthead .ast-header-sticked .site-logo-img .astra-logo-svg { width: "+f+"px; } #masthead .ast-header-sticked .site-logo-img img { max-height: "+v+"; width: auto; } </style>"),r("head").append(e)),(y||m||u)&&(r(h).on("addStickyClass",function(){var e="";"1"!=y&&"on"!=y||(e+=" ast-primary-sticky-header-active"),"1"!=m&&"on"!=m||(e+=" ast-above-sticky-header-active"),"1"!=u&&"on"!=u||(e+=" ast-below-sticky-header-active"),r("body").addClass(e)}),r(h).on("removeStickyClass",function(){var e="";"1"!=y&&"on"!=y||(e+=" ast-primary-sticky-header-active"),"1"!=m&&"on"!=m||(e+=" ast-above-sticky-header-active"),"1"!=u&&"on"!=u||(e+=" ast-below-sticky-header-active"),r("body").removeClass(e)}),"ast-box-layout"===b&&(c=parseInt(w)),jQuery(h).on("ready astLayoutWidthChanged",function(e){if("astLayoutWidthChanged"===e.type){if(!(parseInt(y)||parseInt(u)||parseInt(m)))return;jQuery("div.ast-stick-primary-below-wrapper").children().unwrap(),jQuery('div[data-stick-support="on"]').children().unwrap()}var t;"1"==x?("1"==_&&jQuery("#ast-fixed-header").addClass("ast-sticky-shrunk").stop(),"1"!=m&&"on"!=m&&jQuery("#ast-fixed-header .ast-above-header").hide(),"1"!=y&&"on"!=y&&jQuery("#ast-fixed-header .main-header-bar").hide(),"1"!=u&&"on"!=u&&jQuery("#ast-fixed-header .ast-below-header").hide(),jQuery("#ast-fixed-header").astExtSticky({max_width:c,site_layout:b,sticky_on_device:j,header_style:"slide",hide_on_scroll:x})):"none"==Q?l?("both"===j?["desktop","mobile"]:[j]).forEach(function(e){var t;"1"!=m&&"on"!=m||jQuery("#masthead #ast-"+e+"-header .ast-above-header").astExtSticky({max_width:c,site_layout:b,sticky_on_device:j,header_style:Q,hide_on_scroll:x}),"1"!=y&&"on"!=y||"1"!=u&&"on"!=u?("1"!=y&&"on"!=y||(t=_?{padding_top:"",padding_bottom:""}:"",jQuery("#masthead #ast-"+e+"-header .main-header-bar").astExtSticky({dependent:["#masthead #ast-"+e+"-header .ast-above-header"],max_width:c,site_layout:b,shrink:t,sticky_on_device:j,header_style:Q,hide_on_scroll:x}),jQuery("#masthead #ast-"+e+"-header .ast-custom-header").astExtSticky({max_width:c,site_layout:b,shrink:t,sticky_on_device:j,header_style:Q,hide_on_scroll:x})),"1"!=u&&"on"!=u||jQuery("#masthead #ast-"+e+"-header .ast-below-header").astExtSticky({dependent:["#masthead #ast-"+e+"-header .main-header-bar","#masthead #ast-"+e+"-header .ast-above-header"],max_width:c,site_layout:b,sticky_on_device:j,header_style:Q,hide_on_scroll:x})):((jQuery("#masthead #ast-"+e+"-header .main-header-bar-wrap").length?jQuery("#masthead #ast-"+e+"-header .main-header-bar-wrap"):jQuery("#masthead #ast-"+e+"-header .ast-below-header-wrap")).wrap('<div class="ast-stick-primary-below-wrapper"></div>'),jQuery("#masthead #ast-"+e+"-header .ast-below-header-wrap").prependTo("#masthead #ast-"+e+"-header .ast-stick-primary-below-wrapper"),jQuery("#masthead #ast-"+e+"-header .main-header-bar-wrap").prependTo("#masthead #ast-"+e+"-header .ast-stick-primary-below-wrapper"),jQuery("#masthead #ast-"+e+"-header .ast-stick-primary-below-wrapper").astExtSticky({dependent:["#masthead #ast-"+e+"-header .ast-above-header"],max_width:c,site_layout:b,shrink:t,sticky_on_device:j,header_style:Q,hide_on_scroll:x}))}):("1"!=m&&"on"!=m||jQuery("#masthead .ast-above-header").astExtSticky({max_width:c,site_layout:b,sticky_on_device:j,header_style:Q,hide_on_scroll:x}),"1"!=y&&"on"!=y||"1"!=u&&"on"!=u?("1"!=y&&"on"!=y||(t=_?{padding_top:"",padding_bottom:""}:"",jQuery("#masthead .main-header-bar").astExtSticky({dependent:["#masthead .ast-above-header"],max_width:c,site_layout:b,shrink:t,sticky_on_device:j,header_style:Q,hide_on_scroll:x}),jQuery("#masthead .ast-custom-header").astExtSticky({max_width:c,site_layout:b,shrink:t,sticky_on_device:j,header_style:Q,hide_on_scroll:x})),"1"!=u&&"on"!=u||jQuery("#masthead .ast-below-header").astExtSticky({dependent:["#masthead .main-header-bar","#masthead .ast-above-header"],max_width:c,site_layout:b,sticky_on_device:j,header_style:Q,hide_on_scroll:x})):(jQuery("#masthead .main-header-bar-wrap").wrap('<div class="ast-stick-primary-below-wrapper"></div>'),jQuery("#masthead .ast-below-header-wrap").prependTo(".ast-stick-primary-below-wrapper"),jQuery("#masthead .main-header-bar-wrap").prependTo(".ast-stick-primary-below-wrapper"),jQuery("#masthead .ast-stick-primary-below-wrapper").astExtSticky({dependent:["#masthead .ast-above-header"],max_width:c,site_layout:b,shrink:t,sticky_on_device:j,header_style:Q,hide_on_scroll:x}))):(jQuery("#ast-fixed-header").addClass("ast-sticky-shrunk").stop(),"1"!=m&&"on"!=m&&jQuery("#ast-fixed-header .ast-above-header").hide(),"1"!=y&&"on"!=y&&jQuery("#ast-fixed-header .main-header-bar").hide(),"1"!=u&&"on"!=u&&jQuery("#ast-fixed-header .ast-below-header").hide(),"1"!=m&&"on"!=m&&"1"!=y&&"on"!=y&&"1"!=u&&"on"!=u||(t=_?{padding_top:"",padding_bottom:""}:"",jQuery("#ast-fixed-header").astExtSticky({max_width:c,site_layout:b,shrink:t,sticky_on_device:j,header_style:Q,hide_on_scroll:x}))),"mobile"!=j&&"both"!=j||(jQuery("#masthead .main-header-menu-toggle").click(function(e){var t,a;jQuery("#masthead .main-header-menu-toggle").hasClass("toggled")?(d.addClass("ast-sticky-toggled-off"),"none"==s.header_style&&(jQuery("#masthead .main-header-bar").hasClass("ast-sticky-active")||jQuery("#masthead .ast-stick-primary-below-wrapper").hasClass("ast-sticky-active"))&&(t=jQuery(o).height(),a=0,jQuery("#masthead .ast-above-header")&&jQuery("#masthead .ast-above-header").length&&(a=jQuery("#masthead .ast-above-header").height()),"1"==x&&jQuery("html").css({overflow:"hidden"}),("1"!=_||"1"!=y&&"on"!=y||"1"!=u&&"on"!=u?jQuery("#masthead .main-header-bar.ast-sticky-active"):jQuery("#masthead .ast-stick-primary-below-wrapper")).css({"max-height":t-a+"px","overflow-y":"auto"}))):(d.addClass("ast-sticky-toggled-off"),jQuery("html").css({overflow:""}),("1"!=_||"1"!=y&&"on"!=y||"1"!=u&&"on"!=u?jQuery("#masthead .main-header-bar.ast-sticky-active"):jQuery("#masthead .ast-stick-primary-below-wrapper")).css({"max-height":"","overflow-y":""}))}),jQuery("#ast-fixed-header .main-header-menu-toggle").click(function(e){var t;jQuery("#ast-fixed-header .main-header-menu-toggle").hasClass("toggled")?(t=jQuery(o).height(),"1"==x&&jQuery("html").css({overflow:"auto"}),jQuery("#ast-fixed-header").css({"max-height":t+"px","overflow-y":"auto"})):(jQuery("html").css({overflow:""}),jQuery("#ast-fixed-header").css({"max-height":"","overflow-y":""}))}))})))}(jQuery,window);document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("#page header"),l=document.getElementById("ast-scroll-top");l&&(astScrollToTop=function(){var e=getComputedStyle(l).content,o=l.dataset.onDevices,e=e.replace(/[^0-9]/g,"");"both"==o||"desktop"==o&&"769"==e||"mobile"==o&&""==e?(e=window.pageYOffset||document.body.scrollTop,t&&t.length?e>t.offsetHeight+100?l.style.display="block":l.style.display="none":300<window.pageYOffset?l.style.display="block":l.style.display="none"):l.style.display="none"},astScrollToTop(),window.addEventListener("scroll",function(){astScrollToTop()}),l.onclick=function(e){e.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})})});function display_mega_menu_on_load(){var e=document.querySelectorAll(".content-width-mega");if(0<e.length)for(var t=0;t<e.length;t++)e[t].addEventListener("mouseenter",function(e){e=e.target.querySelector(".astra-mega-menu-width-content");null!==e&&e.classList.remove("ast-hidden")});var a=document.querySelectorAll(".menu-container-width-mega");if(0<a.length)for(t=0;t<a.length;t++)a[t].addEventListener("mouseenter",function(e){e=e.target.querySelector(".astra-mega-menu-width-menu-container");null!==e&&e.classList.remove("ast-hidden")});var s=document.querySelectorAll(".full-width-mega");if(0<s.length)for(t=0;t<s.length;t++)s[t].addEventListener("mouseenter",function(e){var t=e.target.querySelector(".astra-full-megamenu-wrapper"),e=e.target.querySelector(".astra-mega-menu-width-full");null!==t&&t.classList.remove("ast-hidden"),null!==e&&e.classList.remove("ast-hidden")});var n=document.querySelectorAll(".full-stretched-width-mega");if(0<n.length)for(t=0;t<n.length;t++)n[t].addEventListener("mouseenter",function(e){var t=e.target.querySelector(".astra-full-megamenu-wrapper"),e=e.target.querySelector(".astra-mega-menu-width-full-stretched");null!==t&&t.classList.remove("ast-hidden"),null!==e&&e.classList.remove("ast-hidden")});var r=document.querySelectorAll(".custom-width-mega");if(0<r.length)for(t=0;t<r.length;t++)r[t].addEventListener("mouseenter",function(e){e=e.target.querySelector(".astra-mega-menu-width-custom");null!==e&&e.classList.remove("ast-hidden")})}document.addEventListener("DOMContentLoaded",display_mega_menu_on_load),document.addEventListener("astPartialContentRendered",display_mega_menu_on_load);var items=document.getElementsByClassName("astra-megamenu-li");function apply_megamenu_width_styles(){[].slice.call(items).forEach(function(m){jQuery(m).hover(function(){var e,t,a,s,n,r,i=jQuery(m).parents(".ast-container"),l=i.children(),u=i.parent(),d=jQuery(this);(d.hasClass("full-width-mega")||d.hasClass("full-stretched-width-mega"))&&(l=jQuery(l).closest(".ast-container")),parseInt(jQuery(window).width())>parseInt(astra.break_point)&&"ast-hf-mobile-menu"!==d.parent().attr("id")?(e=l.width(),a=l.offset(),i=(t=d.offset()).left-(a.left+parseFloat(l.css("paddingLeft"))),a=u.width(),l=u.offset(),l=t.left-(l.left+parseFloat(u.css("paddingLeft"))),d.hasClass("custom-width-mega")&&(n=(n=window.getComputedStyle(d.find(".astra-mega-menu-width-custom")[0],"::before").getPropertyValue("content")||1200).replace(/[^0-9]/g,""),s=(n=parseInt(n))<=e?(r=parseInt(e-n),parseInt(i-r)):(r=parseInt(n-e),parseInt(i+r))),d.hasClass("menu-container-width-mega")&&(r=jQuery(m).parents(".main-navigation"),u.hasClass("ast-above-header")?r=jQuery(".ast-above-header-navigation"):u.hasClass("ast-below-header")&&(r=jQuery(".ast-below-header-actual-nav")),$target_container=r.length?r:d.parent("ul"),e=$target_container.width()+"px",u=jQuery(window).width()-($target_container.offset().left+$target_container.outerWidth()),r=d.offset(),r=jQuery(window).width()-u-r.left,i=parseInt($target_container.width()-r)),d.hasClass("full-width-mega")?(d.find(".astra-full-megamenu-wrapper").css({left:"-"+l+"px",width:a}),d.find(".astra-megamenu").css({width:e})):d.hasClass("full-stretched-width-mega")?d.find(".astra-full-megamenu-wrapper").css({left:"-"+l+"px",width:a}):d.hasClass("custom-width-mega")?d.find(".astra-mega-menu-width-custom").css({left:"-"+s+"px",width:n+"px"}):d.find(".astra-megamenu").css({left:"-"+i+"px",width:e})):(d.find(".astra-megamenu").css({left:"",width:"","background-image":""}),d.find(".astra-full-megamenu-wrapper").css({left:"",width:"","background-image":""}))})})}apply_megamenu_width_styles(),document.addEventListener("astMenuHoverStyleChanged",function(){apply_megamenu_width_styles()}),[].slice.call(items).forEach(function(d){var e=jQuery(d).parents(".ast-container"),m=e.children(),o=e.parent(),f=jQuery(d);(f.hasClass("full-width-mega")||f.hasClass("full-stretched-width-mega"))&&(m=jQuery(m).closest(".ast-container"),f.find(".astra-full-megamenu-wrapper").removeClass("ast-hidden")),f.find(".menu-link").focusin(function(e){var t,a,s,n,r,i,l,u;f.find(".sub-menu").addClass("astra-megamenu-focus"),f.find(".sub-menu").removeClass("ast-hidden"),f.find(".astra-full-megamenu-wrapper").addClass("astra-megamenu-wrapper-focus"),parseInt(jQuery(window).width())>parseInt(astra.break_point)&&"ast-hf-mobile-menu"!==f.parent().attr("id")?(t=m.width(),l=m.offset(),u=(s=f.offset()).left-(l.left+parseFloat(m.css("paddingLeft"))),a=o.width(),l=o.offset(),s=s.left-(l.left+parseFloat(o.css("paddingLeft"))),f.hasClass("custom-width-mega")&&(r=(r=window.getComputedStyle(f.find(".astra-mega-menu-width-custom")[0],"::before").getPropertyValue("content")||1200).replace(/[^0-9]/g,""),n=(r=parseInt(r))<=t?(i=parseInt(t-r),parseInt(u-i)):(i=parseInt(r-t),parseInt(u+i))),f.hasClass("menu-container-width-mega")&&(l=jQuery(d).parents(".main-navigation"),o.hasClass("ast-above-header")?l=jQuery(".ast-above-header-navigation"):o.hasClass("ast-below-header")&&(l=jQuery(".ast-below-header-actual-nav")),$target_container=l.length?l:f.parent("ul"),t=$target_container.width()+"px",i=jQuery(window).width()-($target_container.offset().left+$target_container.outerWidth()),l=f.offset(),l=jQuery(window).width()-i-l.left,u=parseInt($target_container.width()-l)),f.hasClass("full-width-mega")?(f.find(".astra-full-megamenu-wrapper").css({left:"-"+s+"px",width:a}),f.find(".astra-megamenu").css({width:t})):f.hasClass("full-stretched-width-mega")?f.find(".astra-full-megamenu-wrapper").css({left:"-"+s+"px",width:a}):f.hasClass("custom-width-mega")?f.find(".astra-mega-menu-width-custom").css({left:"-"+n+"px",width:r+"px"}):f.find(".astra-megamenu").css({left:"-"+u+"px",width:t})):(f.find(".astra-megamenu").css({left:"",width:"","background-image":""}),f.find(".astra-full-megamenu-wrapper").css({left:"",width:"","background-image":""}))}),f.find(".menu-link").keydown(function(e){9==e.which&&e.shiftKey&&(f.find(".sub-menu").removeClass("astra-megamenu-focus"),f.find(".astra-full-megamenu-wrapper").removeClass("astra-megamenu-wrapper-focus"))}),jQuery(d).find(".sub-menu .menu-item").last().focusout(function(){f.find(".sub-menu").removeClass("astra-megamenu-focus"),f.find(".astra-full-megamenu-wrapper").removeClass("astra-megamenu-wrapper-focus")}),jQuery(window).click(function(){f.find(".sub-menu").removeClass("astra-megamenu-focus"),f.find(".astra-full-megamenu-wrapper").removeClass("astra-megamenu-wrapper-focus")}),f.click(function(e){jQuery(e.target).hasClass("menu-item")&&e.stopImmediatePropagation()})});!function(){var e,t;function o(e){var t=(t=document.body.className).replace(e,"");document.body.className=t}function d(e){e.style.display="block",setTimeout(function(){e.style.opacity=1},1)}function n(e){e.style.opacity="",setTimeout(function(){e.style.display=""},200)}e="iPhone"==navigator.userAgent.match(/iPhone/i)?"iphone":"",t="iPod"==navigator.userAgent.match(/iPod/i)?"ipod":"",document.body.className+=" "+e,document.body.className+=" "+t;for(var a=document.querySelectorAll("a.astra-search-icon:not(.slide-search)"),s=0;a.length>s;s++)a[s].onclick=function(e){var t,a,o,n;if(e.preventDefault(),e=e||window.event,this.classList.contains("header-cover"))for(var s=document.querySelectorAll(".ast-search-box.header-cover"),c=astraAddon.is_header_builder_active||!1,r=0;r<s.length;r++)for(var l=s[r].parentNode.querySelectorAll("a.astra-search-icon"),i=0;i<l.length;i++)l[i]==this&&(d(s[r]),s[r].querySelector("input.search-field").focus(),c?(t=s[r],n=o=a=void 0,document.body.classList.contains("ast-header-break-point")&&(a=document.querySelector(".main-navigation"),n=document.querySelector(".main-header-bar"),o=document.querySelector(".ast-mobile-header-wrap"),null!==n&&null!==a&&(a=a.offsetHeight,n=n.offsetHeight,o=o.offsetHeight,n=a&&!document.body.classList.contains("ast-no-toggle-menu-enable")?parseFloat(a)-parseFloat(n):parseFloat(n),t.parentNode.classList.contains("ast-mobile-header-wrap")&&(n=parseFloat(o)),t.style.maxHeight=Math.abs(n)+"px"))):(o=s[r],n=t=void 0,document.body.classList.contains("ast-header-break-point")&&(t=document.querySelector(".main-navigation"),null!==(n=document.querySelector(".main-header-bar"))&&null!==t&&(t=t.offsetHeight,n=n.offsetHeight,n=t&&!document.body.classList.contains("ast-no-toggle-menu-enable")?parseFloat(t)-parseFloat(n):parseFloat(n),o.style.maxHeight=Math.abs(n)+"px"))));else!this.classList.contains("full-screen")||(e=document.getElementById("ast-seach-full-screen-form")).classList.contains("full-screen")&&(d(e),document.body.className+=" full-screen",e.querySelector("input.search-field").focus())};for(var c=document.querySelectorAll(".ast-search-box .close"),s=0,r=c.length;s<r;++s)c[s].onclick=function(e){e=e||window.event;for(var t=this;;){if(t.parentNode.classList.contains("ast-search-box")){n(t.parentNode),o("full-screen");break}if(t.parentNode.classList.contains("site-header"))break;t=t.parentNode}};document.onkeydown=function(e){if(27==e.keyCode){e=document.getElementById("ast-seach-full-screen-form");null!=e&&(n(e),o("full-screen"));for(var t=document.querySelectorAll(".ast-search-box.header-cover"),a=0;a<t.length;a++)n(t[a])}},window.addEventListener("resize",function(){if("BODY"===document.activeElement.tagName&&"INPUT"!=document.activeElement.tagName){var e=document.querySelectorAll(".ast-search-box.header-cover");if(!document.body.classList.contains("ast-header-break-point"))for(var t=0;t<e.length;t++)e[t].style.maxHeight="",e[t].style.opacity="",e[t].style.display=""}})}();

var epdofitvids=epdofitvids||function(a){a.fn.fitVidsEP=function(b){if(_EPYT_.epresponsiveselector.constructor!==Array){_EPYT_.epresponsiveselector=JSON.parse(_EPYT_.epresponsiveselector)}var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var f=document.createElement("div"),d=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],e="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";f.className="fit-vids-style";f.id="fit-vids-style";f.style.display="none";f.innerHTML=e;d.parentNode.insertBefore(f,d)}if(b){a.extend(c,b)}return this.each(function(){var g=_EPYT_.epresponsiveselector;if(c.customSelector){g.push(c.customSelector)}var h=a(this).find(g.join(","));h=h.not("object object");h.each(function(){var o=a(this);if(this.tagName.toLowerCase()==="embed"&&o.parent("object").length||o.parent(".fluid-width-video-wrapper").length||o.css("position")==="absolute"){return}if(o.is("[data-origwidth]:not([width])")){o.attr("width",o.data("origwidth"))}if(o.is("[data-origheight]:not([height])")){o.attr("height",o.data("origheight"))}var i=(this.tagName.toLowerCase()==="object"||(o.attr("height")&&!isNaN(parseInt(o.attr("height"),10))))?parseInt(o.attr("height"),10):o.height(),l=!isNaN(parseInt(o.attr("width"),10))?parseInt(o.attr("width"),10):o.width(),m=i/l;if(!o.attr("id")){var n="fitvid"+Math.floor(Math.random()*999999);o.attr("id",n)}if(o.parent().hasClass("epyt-video-wrapper")){try{o.parent().addClass("fluid-width-video-wrapper").attr("style","padding-top: "+(m*100)+"% !important;");o.removeAttr("height").removeAttr("width")}catch(j){}}else{var k=document.createElement("div");k.className="fluid-width-video-wrapper";try{o.wrap(k).parent(".fluid-width-video-wrapper").attr("style","padding-top: "+(m*100)+"% !important;");o.removeAttr("height").removeAttr("width")}catch(j){}}})})};a(document).ready(function(){a("body").fitVidsEP();a(document).ajaxSuccess(function(c,d,b){if(d&&d.responseText&&d.responseText.indexOf("<iframe ")!==-1){a("body").fitVidsEP()}})});return true};try{epdofitvids(window.jQuery)}catch(err){};
/*! This file is auto-generated */
!function(c,d){"use strict";var e=!1,n=!1;if(d.querySelector)if(c.addEventListener)e=!0;if(c.wp=c.wp||{},!c.wp.receiveEmbedMessage)if(c.wp.receiveEmbedMessage=function(e){var t=e.data;if(t)if(t.secret||t.message||t.value)if(!/[^a-zA-Z0-9]/.test(t.secret)){for(var r,a,i,s=d.querySelectorAll('iframe[data-secret="'+t.secret+'"]'),n=d.querySelectorAll('blockquote[data-secret="'+t.secret+'"]'),o=0;o<n.length;o++)n[o].style.display="none";for(o=0;o<s.length;o++)if(r=s[o],e.source===r.contentWindow){if(r.removeAttribute("style"),"height"===t.message){if(1e3<(i=parseInt(t.value,10)))i=1e3;else if(~~i<200)i=200;r.height=i}if("link"===t.message)if(a=d.createElement("a"),i=d.createElement("a"),a.href=r.getAttribute("src"),i.href=t.value,i.host===a.host)if(d.activeElement===r)c.top.location.href=t.value}}},e)c.addEventListener("message",c.wp.receiveEmbedMessage,!1),d.addEventListener("DOMContentLoaded",t,!1),c.addEventListener("load",t,!1);function t(){if(!n){n=!0;for(var e,t,r=-1!==navigator.appVersion.indexOf("MSIE 10"),a=!!navigator.userAgent.match(/Trident.*rv:11\./),i=d.querySelectorAll("iframe.wp-embedded-content"),s=0;s<i.length;s++){if(!(e=i[s]).getAttribute("data-secret"))t=Math.random().toString(36).substr(2,10),e.src+="#?secret="+t,e.setAttribute("data-secret",t);if(r||a)(t=e.cloneNode(!0)).removeAttribute("security"),e.parentNode.replaceChild(t,e)}}}}(window,document);